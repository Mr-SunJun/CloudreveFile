{"version":3,"sources":["component/Admin/Dashboard.js","component/Admin/Index.js","component/Admin/Setting/SiteInformation.js","component/Admin/Dialogs/Alert.js","component/Admin/Setting/Access.js","component/Admin/Setting/Mail.js","component/Admin/Common/SizeInput.js","component/Admin/Setting/UploadDownload.js","component/Admin/Dialogs/CreateTheme.js","component/Admin/Setting/Theme.js","component/Admin/Setting/ThumbGenerators.js","component/Admin/Common/PolicySelector.js","component/Admin/Setting/Image.js","component/Admin/Dialogs/AddPolicy.js","component/Admin/Policy/Policy.js","component/Admin/Common/DomainInput.js","component/Admin/Dialogs/MagicVar.js","component/Admin/Policy/utils.js","component/Admin/Policy/Guid/COSGuide.js","component/Admin/Policy/Guid/LocalGuide.js","component/Admin/Policy/Guid/OneDriveGuide.js","component/Admin/Policy/Guid/OSSGuide.js","component/Admin/Policy/Guid/QiniuGuide.js","component/Admin/Policy/Guid/RemoteGuide.js","component/Admin/Policy/Guid/UpyunGuide.js","component/Admin/Policy/Guid/S3Guide.js","component/Admin/Policy/AddPolicy.js","component/Admin/Policy/Guid/EditPro.js","component/Admin/Policy/EditPolicy.js","component/Admin/Group/Group.js","component/Admin/Group/GroupForm.js","component/Admin/Group/EditGroup.js","component/Admin/Dialogs/UserFilter.js","component/Admin/User/User.js","component/Admin/User/UserForm.js","component/Admin/User/EditUser.js","component/Admin/Dialogs/FileFilter.js","component/Admin/File/File.js","component/Admin/Dialogs/ShareFilter.js","component/Admin/Share/Share.js","component/Admin/Task/Aria2Helper.js","component/Admin/Task/Download.js","component/Admin/Task/Task.js","component/Admin/File/Import.js","component/Admin/Setting/Captcha.js","component/Admin/Node/Node.js","component/Admin/Node/Guide/Communication.js","component/Admin/Node/Guide/Aria2RPC.js","component/Admin/Node/Guide/Metainfo.js","component/Admin/Node/Guide/Completed.js","component/Admin/Node/Guide/NodeGuide.js","component/Admin/Node/AddNode.js","component/Admin/Node/EditNode.js","Admin.js"],"names":["ExpansionPanel","withStyles","root","maxWidth","boxShadow","borderBottom","display","margin","expanded","MuiExpansionPanel","ExpansionPanelSummary","minHeight","padding","content","MuiExpansionPanelSummary","ExpansionPanelDetails","theme","spacing","MuiExpansionPanelDetails","useStyles","makeStyles","width","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","title","flexGrow","toolbar","alignItems","justifyContent","mixins","sub","paddingLeft","color","palette","text","secondary","subMenu","backgroundColor","background","default","paddingTop","paddingBottom","active","lighten","primary","main","activeText","fontWeight","activeIcon","items","icon","Home","path","Settings","Language","Contacts","Mail","SettingsEthernet","Palette","Image","Category","Storage","Contactless","Group","Person","InsertDriveFile","Share","Assignment","CloudDownload","ListAlt","Dashboard","t","useTranslation","classes","useTheme","useState","pathHelper","isMobile","open","setOpen","menuOpen","setMenuOpen","history","useHistory","location","useLocation","dispatch","useDispatch","SetSubTitle","useCallback","changeSubTitle","useEffect","useRouteMatch","className","AppBar","position","clsx","Toolbar","IconButton","aria-label","onClick","edge","Typography","variant","noWrap","UserAvatar","Drawer","paper","direction","Divider","List","noPadding","map","item","undefined","ListItem","push","button","pathname","startsWith","key","ListItemIcon","ListItemText","square","onChange","event","isExpanded","aria-controls","id","height","logo","logoContainer","cloudreve","fontSize","version","hint","links","iconRight","minWidth","userIcon","blue","fileIcon","yellow","publicIcon","green","secretIcon","red","Index","lineData","setLineData","setNews","setNewsUsers","React","siteURL","setSiteURL","fileTotal","userTotal","publicShareTotal","secretShareTotal","statistics","setStatistics","backend","setVersion","ToggleSnackbar","vertical","horizontal","msg","toggleSnackbar","API","get","then","response","data","date","forEach","v","k","name","file","files","user","users","share","shares","window","origin","catch","error","message","axios","res","included","type","attributes","Grid","container","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","current","DialogActions","Button","patch","options","value","alignContent","xs","md","lg","Paper","gutterBottom","ResponsiveContainer","aspect","LineChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Tooltip","Legend","Line","stroke","ListItemAvatar","Avatar","People","FileCopy","Public","Lock","form","marginTop","marginBottom","formContainer","SiteInformation","keyPrefix","loading","setLoading","siteName","siteTitle","siteDes","siteScript","pwa_small_icon","pwa_medium_icon","pwa_large_icon","pwa_display","pwa_theme_color","pwa_background_color","setOptions","handleChange","target","post","keys","Object","onSubmit","e","preventDefault","option","FormControl","fullWidth","InputLabel","htmlFor","Input","required","FormHelperText","multiline","Select","MenuItem","disabled","AlertDialog","Access","register_enabled","default_group","email_active","login_captcha","reg_captcha","forget_captcha","authn_enabled","groups","setGroups","httpAlert","setHttpAlert","checked","FormControlLabel","control","Switch","label","ID","toString","Name","buttonMargin","tGlobal","test","setTest","tesInput","setTestInput","fromName","fromAdress","smtpHost","smtpPort","replyTo","smtpUser","smtpPass","smtpEncryption","mail_keepalive","mail_activation_template","mail_reset_pwd_template","TextField","autoFocus","to","inputProps","min","step","rowsMax","SizeInput","max","suffix","unit","setUnit","val","setVal","err","setError","i","base","Math","pow","unitTransform","style","endAdornment","InputAdornment","labelId","UploadDownload","max_worker_num","max_parallel_transfer","temp_path","chunk_retries","archive_timeout","download_timeout","preview_timeout","doc_preview_timeout","upload_credential_timeout","upload_session_timeout","slave_api_timeout","onedrive_monitor_timeout","share_download_session_timeout","onedrive_callback_check","reset_after_upload_failed","onedrive_source_timeout","slave_node_retry","slave_ping_interval","slave_recover_interval","slave_transfer_timeout","use_temp_chunk_buffer","public_resource_maxage","handleCheckChange","field","des","input","picker","statusBar","fab","textAlign","CreateTheme","contrastText","setTheme","subTheme","createMuiTheme","colors","onChangeComplete","c","hex","ThemeProvider","dark","Fab","Add","colorContainer","colorDot","borderRadius","Theme","tApp","themes","defaultTheme","home_view_method","share_view_method","themeConfig","setThemeConfig","themeConfigError","setThemeConfigError","setCreate","JSON","parse","themeString","stringify","Table","TableHead","TableRow","TableCell","TableBody","component","scope","helperText","onBlur","length","themeCopy","resStr","deleteTheme","Delete","Alert","severity","Trans","i18nKey","ns","components","Link","href","newTheme","secondaryHeading","typography","pxToRem","column","flexBasis","details","generators","readOnly","enableFlag","executableSetting","inputs","ThumbGenerators","generator","Accordion","AccordionSummary","expandIcon","stopPropagation","onFocus","Checkbox","newOpts","AccordionDetails","InputProps","executable","testExecutable","PolicySelector","filter","policies","setPolicies","page","page_size","order_by","conditions","multiple","renderValue","selected","Chip","size","pid","getSelectItemStyles","ImageSetting","gravatar_server","avatar_path","avatar_size","avatar_size_l","avatar_size_m","avatar_size_s","thumb_width","thumb_height","office_preview_service","thumb_file_suffix","thumb_max_task_count","thumb_encode_method","thumb_gc_after_gen","thumb_encode_quality","maxEditSize","wopi_enabled","wopi_endpoint","wopi_session_timeout","thumb_builtin_enabled","thumb_vips_enabled","thumb_vips_exts","thumb_ffmpeg_enabled","thumb_vips_path","thumb_ffmpeg_path","thumb_ffmpeg_exts","thumb_ffmpeg_seek","thumb_libreoffice_path","thumb_libreoffice_enabled","thumb_libreoffice_exts","thumb_proxy_enabled","thumb_proxy_policy","thumb_max_src_size","parseInt","Type","cardContainer","cover","card","flex","bg","dialogFooter","img","AddPolicy","tCommon","dividers","sm","Card","CardActionArea","CardMedia","image","CardContent","tableContainer","header","headerRight","columns","align","Policy","statics","setStatics","setPage","pageSize","setPageSize","total","setTotal","addDialog","setAddDialog","setFilter","anchorEl","setAnchorEl","editID","setEditID","query","URLSearchParams","search","handleClose","loadList","Boolean","TableContainer","row","hover","toLocaleString","sizeToString","delete","currentTarget","Edit","TablePagination","rowsPerPageOptions","count","rowsPerPage","onChangePage","p","onChangeRowsPerPage","keepMounted","DomainInput","domain","setDomain","protocol","setProtocol","replace","startAdornment","magicVars","example","fileOnly","MagicVar","isFile","isSlave","m","boolFields","numberFields","boolFieldsInOptions","numberFieldsInOptions","listJsonFieldsInOptions","transformPolicyRequest","policyCopy","OptionsSerialized","split","stepContent","subStepContainer","stepNumber","light","stepNumberContainer","stepFooter","viewButtonLabel","textTransform","code","fontFamily","steps","optional","COSGuide","props","activeStep","setActiveStep","Set","skipped","setSkipped","magicVar","setMagicVar","useCDN","setUseCDN","policy","SecretKey","AccessKey","BaseURL","Server","IsPrivate","DirNameRule","AutoRename","FileNameRule","IsOriginLinkEnable","MaxSize","file_type","placeholder_with_size","setPolicy","policyID","setPolicyID","region","setRegion","handleOptionChange","Stepper","index","stepProps","labelProps","has","completed","Step","StepLabel","subStepContent","pattern","BucketName","RadioGroup","Radio","Collapse","in","getNumber","stepContental","prevActiveStep","prevSkipped","newSkipped","values","add","LocalGuide","chunk_size","OneDriveGuide","od_proxy","od_driver","useSharePoint","setUseSharePoint","od_redirect","tps_limit","tps_limit_burst","httpsAlert","setHttpsAlert","URL","url","placeholder","parseFloat","OSSGuide","server_side_endpoint","useLanEndpoint","setUseLanEndpoint","submitPolicy","RemoteGuide","mimetype","pre","overflow","randomStr","minlength","server","secret","UpyunGuide","token","regions","S3Guide","alertOpen","setAlertOpen","s3_path_style","Autocomplete","freeSolo","onInputChange","_","renderOption","Fragment","renderInput","params","AddPolicyParent","useParams","EditPro","thumb_exts","EditPolicyPreload","setType","mode","join","transformResponse","tDashboard","PolicyList","MaxStorage","GroupForm","group","ShareEnabled","WebDAVEnabled","SpeedLimit","share_download","aria2_options","compress_size","decompress_size","source_batch","aria2_batch","setGroup","handleOptionCheckChange","groupCopy","one_time_download","aria2","archive_download","archive_task","redirected_source","advance_delete","EditGroupPreload","UserFilter","setSearch","group_id","status","setInput","keywords","setKeywords","nick","email","highlight","visuallyHidden","border","clip","top","setUsers","orderBy","setOrderBy","filterDialog","setFilterDialog","setSelected","searches","isSelected","indexOf","alignSelf","Badge","invisible","FilterList","num","indeterminate","newSelecteds","n","TableSortLabel","role","selectedIndex","newSelected","concat","slice","handleClick","Nick","Email","Status","success","Block","UserForm","Password","GroupID","TwoFactor","Dirs","Action","setUser","groupSelections","useMemo","userCopy","password","EditUserPreload","FileFilter","policy_id","user_id","disabledBadge","File","setFiles","deleteFile","unlink","deleteBatch","force","DeleteForever","LinkOff","UploadSessionID","Size","UserID","formatLocalTime","CreatedAt","ShareFilter","is_dir","source_name","setShares","ids","setIds","wordBreak","SourceName","Views","Downloads","RemainDownloads","Aria2Helper","RouterLink","Download","downloads","setDownloads","helperOpen","setHelperOpen","Source","NodeID","TotalSize","Task","tasks","setTasks","getTaskType","getTaskStatus","getTaskProgress","Progress","getError","Error","userSelect","Import","userInput","src","dst","recursive","selectRemote","setSelectRemote","selectLocal","setSelectLocal","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","setMoveTarget","setter","folder","openPathSelector","isSrcSelect","PathSelector","presentPath","api","onSelect","uid","onDelete","Popper","placement","TransitionProps","Fade","timeout","u","selectUser","Captcha","captcha_type","captcha_height","captcha_width","captcha_mode","captcha_CaptchaLen","captcha_ComplexOfNoiseText","captcha_ComplexOfNoiseDot","captcha_IsShowHollowLine","captcha_IsShowNoiseDot","captcha_IsShowNoiseText","captcha_IsShowSlimeLine","captcha_IsShowSineLine","captcha_ReCaptchaKey","captcha_ReCaptchaSecret","captcha_TCaptcha_CaptchaAppId","captcha_TCaptcha_AppSecretKey","captcha_TCaptcha_SecretId","captcha_TCaptcha_SecretKey","disabledCell","verticalAlign","features","Node","nodes","setNodes","isActive","setIsActive","minWidthclassNames","classNames","getStatusBadge","Box","CheckCircle","Cancel","node","feature","desired","PlayArrow","Pause","Communication","SlaveKey","handleTextChange","Aria2RPC","Aria2Enabled","Aria2OptionsSerialized","interval","rpc","onBack","Metainfo","Rank","Completed","slaveOnly","NodeGuide","MasterKey","setNode","usedSteps","nodeCopy","nextStep","AddNode","EditNode","createTheme","shape","overrides","MuiButton","MuiTab","zhCN","Admin","show","setShow","Auth","GetUser","CssBaseline","exact"],"mappings":"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","file":"static/js/11.b5103320.chunk.js","sourcesContent":["import { withStyles } from \"@material-ui/core\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport MuiExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport MuiExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport MuiExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { lighten, makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n    Assignment,\n    Category,\n    CloudDownload,\n    Contacts,\n    Group,\n    Home,\n    Image,\n    InsertDriveFile,\n    Language,\n    ListAlt,\n    Mail,\n    Palette,\n    Person,\n    Settings,\n    SettingsEthernet,\n    Share,\n    Storage,\n    Contactless,\n} from \"@material-ui/icons\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport clsx from \"clsx\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { changeSubTitle } from \"../../redux/viewUpdate/action\";\nimport pathHelper from \"../../utils/page\";\nimport UserAvatar from \"../Navbar/UserAvatar\";\nimport { useTranslation } from \"react-i18next\";\n\nconst ExpansionPanel = withStyles({\n    root: {\n        maxWidth: \"100%\",\n        boxShadow: \"none\",\n        \"&:not(:last-child)\": {\n            borderBottom: 0,\n        },\n        \"&:before\": {\n            display: \"none\",\n        },\n        \"&$expanded\": { margin: 0 },\n    },\n    expanded: {},\n})(MuiExpansionPanel);\n\nconst ExpansionPanelSummary = withStyles({\n    root: {\n        minHeight: 0,\n        padding: 0,\n\n        \"&$expanded\": {\n            minHeight: 0,\n        },\n    },\n    content: {\n        maxWidth: \"100%\",\n        margin: 0,\n        display: \"block\",\n        \"&$expanded\": {\n            margin: \"0\",\n        },\n    },\n    expanded: {},\n})(MuiExpansionPanelSummary);\n\nconst ExpansionPanelDetails = withStyles((theme) => ({\n    root: {\n        display: \"block\",\n        padding: theme.spacing(0),\n    },\n}))(MuiExpansionPanelDetails);\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        width: \"100%\",\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 1,\n        transition: theme.transitions.create([\"width\", \"margin\"], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n    },\n    appBarShift: {\n        marginLeft: drawerWidth,\n        width: `calc(100% - ${drawerWidth}px)`,\n        transition: theme.transitions.create([\"width\", \"margin\"], {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    menuButton: {\n        marginRight: 36,\n    },\n    hide: {\n        display: \"none\",\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0,\n        whiteSpace: \"nowrap\",\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.enteringScreen,\n        }),\n    },\n    drawerClose: {\n        transition: theme.transitions.create(\"width\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: \"hidden\",\n        width: theme.spacing(7) + 1,\n        [theme.breakpoints.up(\"sm\")]: {\n            width: theme.spacing(9) + 1,\n        },\n    },\n    title: {\n        flexGrow: 1,\n    },\n    toolbar: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-end\",\n        padding: theme.spacing(0, 1),\n        ...theme.mixins.toolbar,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n    },\n    sub: {\n        paddingLeft: 36,\n        color: theme.palette.text.secondary,\n    },\n    subMenu: {\n        backgroundColor: theme.palette.background.default,\n        paddingTop: 0,\n        paddingBottom: 0,\n    },\n    active: {\n        backgroundColor: lighten(theme.palette.primary.main, 0.8),\n        color: theme.palette.primary.main,\n        \"&:hover\": {\n            backgroundColor: lighten(theme.palette.primary.main, 0.7),\n        },\n    },\n    activeText: {\n        fontWeight: 500,\n    },\n    activeIcon: {\n        color: theme.palette.primary.main,\n    },\n}));\n\nconst items = [\n    {\n        title: \"nav.summary\",\n        icon: <Home />,\n        path: \"home\",\n    },\n    {\n        title: \"nav.settings\",\n        icon: <Settings />,\n        sub: [\n            {\n                title: \"nav.basicSetting\",\n                path: \"basic\",\n                icon: <Language />,\n            },\n            {\n                title: \"nav.publicAccess\",\n                path: \"access\",\n                icon: <Contacts />,\n            },\n            {\n                title: \"nav.email\",\n                path: \"mail\",\n                icon: <Mail />,\n            },\n            {\n                title: \"nav.transportation\",\n                path: \"upload\",\n                icon: <SettingsEthernet />,\n            },\n            {\n                title: \"nav.appearance\",\n                path: \"theme\",\n                icon: <Palette />,\n            },\n            {\n                title: \"nav.image\",\n                path: \"image\",\n                icon: <Image />,\n            },\n            {\n                title: \"nav.captcha\",\n                path: \"captcha\",\n                icon: <Category />,\n            },\n        ],\n    },\n    {\n        title: \"nav.storagePolicy\",\n        icon: <Storage />,\n        path: \"policy\",\n    },\n    {\n        title: \"nav.nodes\",\n        icon: <Contactless />,\n        path: \"node\",\n    },\n    {\n        title: \"nav.groups\",\n        icon: <Group />,\n        path: \"group\",\n    },\n    {\n        title: \"nav.users\",\n        icon: <Person />,\n        path: \"user\",\n    },\n    {\n        title: \"nav.files\",\n        icon: <InsertDriveFile />,\n        path: \"file\",\n    },\n    {\n        title: \"nav.shares\",\n        icon: <Share />,\n        path: \"share\",\n    },\n    {\n        title: \"nav.tasks\",\n        icon: <Assignment />,\n        sub: [\n            {\n                title: \"nav.remoteDownload\",\n                path: \"download\",\n                icon: <CloudDownload />,\n            },\n            {\n                title: \"nav.generalTasks\",\n                path: \"task\",\n                icon: <ListAlt />,\n            },\n        ],\n    },\n];\n\nexport default function Dashboard({ content }) {\n    const { t } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const theme = useTheme();\n    const [open, setOpen] = useState(!pathHelper.isMobile());\n    const [menuOpen, setMenuOpen] = useState(null);\n    const history = useHistory();\n    const location = useLocation();\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const dispatch = useDispatch();\n    const SetSubTitle = useCallback(\n        (title) => dispatch(changeSubTitle(title)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        SetSubTitle(t(\"nav.title\"));\n    }, []);\n\n    useEffect(() => {\n        return () => {\n            SetSubTitle();\n        };\n    }, []);\n\n    const { path } = useRouteMatch();\n\n    return (\n        <div className={classes.root}>\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, {\n                            [classes.hide]: open,\n                        })}\n                    >\n                        <MenuIcon />\n                    </IconButton>\n                    <Typography variant=\"h6\" className={classes.title} noWrap>\n                        {t(\"nav.dashboard\")}\n                    </Typography>\n                    <UserAvatar />\n                </Toolbar>\n            </AppBar>\n            <Drawer\n                variant=\"permanent\"\n                className={clsx(classes.drawer, {\n                    [classes.drawerOpen]: open,\n                    [classes.drawerClose]: !open,\n                })}\n                classes={{\n                    paper: clsx({\n                        [classes.drawerOpen]: open,\n                        [classes.drawerClose]: !open,\n                    }),\n                }}\n            >\n                <div className={classes.toolbar}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === \"rtl\" ? (\n                            <ChevronRightIcon />\n                        ) : (\n                            <ChevronLeftIcon />\n                        )}\n                    </IconButton>\n                </div>\n                <Divider />\n                <List className={classes.noPadding}>\n                    {items.map((item) => {\n                        if (item.path !== undefined) {\n                            return (\n                                <ListItem\n                                    onClick={() =>\n                                        history.push(\"/admin/\" + item.path)\n                                    }\n                                    button\n                                    className={clsx({\n                                        [classes.active]: location.pathname.startsWith(\n                                            \"/admin/\" + item.path\n                                        ),\n                                    })}\n                                    key={item.title}\n                                >\n                                    <ListItemIcon\n                                        className={clsx({\n                                            [classes.activeIcon]: location.pathname.startsWith(\n                                                \"/admin/\" + item.path\n                                            ),\n                                        })}\n                                    >\n                                        {item.icon}\n                                    </ListItemIcon>\n                                    <ListItemText\n                                        className={clsx({\n                                            [classes.activeText]: location.pathname.startsWith(\n                                                \"/admin/\" + item.path\n                                            ),\n                                        })}\n                                        primary={t(item.title)}\n                                    />\n                                </ListItem>\n                            );\n                        }\n                        return (\n                            <ExpansionPanel\n                                key={item.title}\n                                square\n                                expanded={menuOpen === item.title}\n                                onChange={(event, isExpanded) => {\n                                    setMenuOpen(isExpanded ? item.title : null);\n                                }}\n                            >\n                                <ExpansionPanelSummary\n                                    aria-controls=\"panel1d-content\"\n                                    id=\"panel1d-header\"\n                                >\n                                    <ListItem button key={item.title}>\n                                        <ListItemIcon>{item.icon}</ListItemIcon>\n                                        <ListItemText primary={t(item.title)} />\n                                    </ListItem>\n                                </ExpansionPanelSummary>\n                                <ExpansionPanelDetails>\n                                    <List className={classes.subMenu}>\n                                        {item.sub.map((sub) => (\n                                            <ListItem\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/\" + sub.path\n                                                    )\n                                                }\n                                                className={clsx({\n                                                    [classes.sub]: open,\n                                                    [classes.active]: location.pathname.startsWith(\n                                                        \"/admin/\" + sub.path\n                                                    ),\n                                                })}\n                                                button\n                                                key={sub.title}\n                                            >\n                                                <ListItemIcon\n                                                    className={clsx({\n                                                        [classes.activeIcon]: location.pathname.startsWith(\n                                                            \"/admin/\" + sub.path\n                                                        ),\n                                                    })}\n                                                >\n                                                    {sub.icon}\n                                                </ListItemIcon>\n                                                <ListItemText\n                                                    primary={t(sub.title)}\n                                                />\n                                            </ListItem>\n                                        ))}\n                                    </List>\n                                </ExpansionPanelDetails>\n                            </ExpansionPanel>\n                        );\n                    })}\n                </List>\n            </Drawer>\n            <main className={classes.content}>\n                <div className={classes.toolbar} />\n                {content(path)}\n            </main>\n        </div>\n    );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { blue, green, red, yellow } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Grid from \"@material-ui/core/Grid\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n    Description,\n    Favorite,\n    FileCopy,\n    Forum,\n    GitHub,\n    Home,\n    Launch,\n    Lock,\n    People,\n    Public,\n    Telegram,\n} from \"@material-ui/icons\";\nimport axios from \"axios\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n    CartesianGrid,\n    Legend,\n    Line,\n    LineChart,\n    Tooltip,\n    XAxis,\n    YAxis,\n} from \"recharts\";\nimport { ResponsiveContainer } from \"recharts/lib/component/ResponsiveContainer\";\nimport TimeAgo from \"timeago-react\";\nimport { toggleSnackbar } from \"../../redux/explorer\";\nimport API from \"../../middleware/Api\";\nimport pathHelper from \"../../utils/page\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        padding: theme.spacing(3),\n        height: \"100%\",\n    },\n    logo: {\n        width: 70,\n    },\n    logoContainer: {\n        padding: theme.spacing(3),\n        display: \"flex\",\n    },\n    title: {\n        marginLeft: 16,\n    },\n    cloudreve: {\n        fontSize: 25,\n        color: theme.palette.text.secondary,\n    },\n    version: {\n        color: theme.palette.text.hint,\n    },\n    links: {\n        padding: theme.spacing(3),\n    },\n    iconRight: {\n        minWidth: 0,\n    },\n    userIcon: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n    fileIcon: {\n        backgroundColor: yellow[100],\n        color: yellow[800],\n    },\n    publicIcon: {\n        backgroundColor: green[100],\n        color: green[800],\n    },\n    secretIcon: {\n        backgroundColor: red[100],\n        color: red[800],\n    },\n}));\n\nexport default function Index() {\n    const { t } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [lineData, setLineData] = useState([]);\n    const [news, setNews] = useState([]);\n    const [newsUsers, setNewsUsers] = useState({});\n    const [open, setOpen] = React.useState(false);\n    const [siteURL, setSiteURL] = React.useState(\"\");\n    const [statistics, setStatistics] = useState({\n        fileTotal: 0,\n        userTotal: 0,\n        publicShareTotal: 0,\n        secretShareTotal: 0,\n    });\n    const [version, setVersion] = useState({\n        backend: \"-\",\n    });\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const ResetSiteURL = () => {\n        setOpen(false);\n        API.patch(\"/admin/setting\", {\n            options: [\n                {\n                    key: \"siteURL\",\n                    value: window.location.origin,\n                },\n            ],\n        })\n            .then(() => {\n                setSiteURL(window.location.origin);\n                ToggleSnackbar(\"top\", \"right\", t(\"settings.saved\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        API.get(\"/admin/summary\")\n            .then((response) => {\n                const data = [];\n                response.data.date.forEach((v, k) => {\n                    data.push({\n                        name: v,\n                        file: response.data.files[k],\n                        user: response.data.users[k],\n                        share: response.data.shares[k],\n                    });\n                });\n                setLineData(data);\n                setStatistics({\n                    fileTotal: response.data.fileTotal,\n                    userTotal: response.data.userTotal,\n                    publicShareTotal: response.data.publicShareTotal,\n                    secretShareTotal: response.data.secretShareTotal,\n                });\n                setVersion(response.data.version);\n                setSiteURL(response.data.siteURL);\n                if (\n                    response.data.siteURL === \"\" ||\n                    response.data.siteURL !== window.location.origin\n                ) {\n                    setOpen(true);\n                }\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n\n        axios\n            .get(\"/api/v3/admin/news?tag=\" + t(\"summary.newsTag\"))\n            .then((response) => {\n                setNews(response.data.data);\n                const res = {};\n                response.data.included.forEach((v) => {\n                    if (v.type === \"users\") {\n                        res[v.id] = v.attributes;\n                    }\n                });\n                setNewsUsers(res);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"summary.newsletterError\"),\n                    \"warning\"\n                );\n            });\n    }, []);\n\n    return (\n        <Grid container spacing={3}>\n            <Dialog\n                open={open}\n                onClose={() => setOpen(false)}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n            >\n                <DialogTitle id=\"alert-dialog-title\">\n                    {t(\"summary.confirmSiteURLTitle\")}\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        <Typography>\n                            {siteURL === \"\" &&\n                                t(\"summary.siteURLNotSet\", {\n                                    current: window.location.origin,\n                                })}\n                            {siteURL !== \"\" &&\n                                t(\"summary.siteURLNotMatch\", {\n                                    current: window.location.origin,\n                                })}\n                        </Typography>\n                        <Typography>\n                            {t(\"summary.siteURLDescription\")}\n                        </Typography>\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setOpen(false)} color=\"default\">\n                        {t(\"summary.ignore\")}\n                    </Button>\n                    <Button onClick={() => ResetSiteURL()} color=\"primary\">\n                        {t(\"summary.changeIt\")}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Grid alignContent={\"stretch\"} item xs={12} md={8} lg={9}>\n                <Paper className={classes.paper}>\n                    <Typography variant=\"button\" display=\"block\" gutterBottom>\n                        {t(\"summary.trend\")}\n                    </Typography>\n                    <ResponsiveContainer\n                        width=\"100%\"\n                        aspect={pathHelper.isMobile() ? 4.0 / 3.0 : 3.0 / 1.0}\n                    >\n                        <LineChart width={1200} height={300} data={lineData}>\n                            <CartesianGrid strokeDasharray=\"3 3\" />\n                            <XAxis dataKey=\"name\" />\n                            <YAxis />\n                            <Tooltip />\n                            <Legend />\n                            <Line\n                                name={t(\"nav.files\")}\n                                type=\"monotone\"\n                                dataKey=\"file\"\n                                stroke=\"#3f51b5\"\n                            />\n                            <Line\n                                name={t(\"nav.users\")}\n                                type=\"monotone\"\n                                dataKey=\"user\"\n                                stroke=\"#82ca9d\"\n                            />\n                            <Line\n                                name={t(\"nav.shares\")}\n                                type=\"monotone\"\n                                dataKey=\"share\"\n                                stroke=\"#e91e63\"\n                            />\n                        </LineChart>\n                    </ResponsiveContainer>\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                <Paper className={classes.paper}>\n                    <Typography variant=\"button\" display=\"block\" gutterBottom>\n                        {t(\"summary.summary\")}\n                    </Typography>\n                    <Divider />\n                    <List className={classes.root}>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.userIcon}>\n                                    <People />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.userTotal}\n                                secondary={t(\"summary.totalUsers\")}\n                            />\n                        </ListItem>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.fileIcon}>\n                                    <FileCopy />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.fileTotal}\n                                secondary={t(\"summary.totalFiles\")}\n                            />\n                        </ListItem>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.publicIcon}>\n                                    <Public />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.publicShareTotal}\n                                secondary={t(\"summary.publicShares\")}\n                            />\n                        </ListItem>\n                        <ListItem>\n                            <ListItemAvatar>\n                                <Avatar className={classes.secretIcon}>\n                                    <Lock />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={statistics.secretShareTotal}\n                                secondary={t(\"summary.privateShares\")}\n                            />\n                        </ListItem>\n                    </List>\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={4} lg={3}>\n                {/*<Paper>*/}\n                {/*    <div className={classes.logoContainer}>*/}\n                {/*        <img*/}\n                {/*            alt=\"cloudreve\"*/}\n                {/*            className={classes.logo}*/}\n                {/*            src={\"/static/img/cloudreve.svg\"}*/}\n                {/*        />*/}\n                {/*        <div className={classes.title}>*/}\n                {/*            <Typography className={classes.cloudreve}>*/}\n                {/*                Cloudreve*/}\n                {/*            </Typography>*/}\n                {/*            <Typography className={classes.version}>*/}\n                {/*                {version.backend}{\" \"}*/}\n                {/*                {version.is_pro === \"true\" && (*/}\n                {/*                    <Chip size=\"small\" label=\"Pro\" />*/}\n                {/*                )}*/}\n                {/*            </Typography>*/}\n                {/*        </div>*/}\n                {/*    </div>*/}\n                {/*    <Divider />*/}\n                {/*    <div>*/}\n                        {/*<List component=\"nav\" aria-label=\"main mailbox folders\">*/}\n                        {/*    <ListItem*/}\n                        {/*        button*/}\n                        {/*        onClick={() =>*/}\n                        {/*            window.open(\"https://cloudreve.org\")*/}\n                        {/*        }*/}\n                        {/*    >*/}\n                        {/*        <ListItemIcon>*/}\n                        {/*            <Home />*/}\n                        {/*        </ListItemIcon>*/}\n                        {/*        <ListItemText primary={t(\"summary.homepage\")} />*/}\n                        {/*        <ListItemIcon className={classes.iconRight}>*/}\n                        {/*            <Launch />*/}\n                        {/*        </ListItemIcon>*/}\n                        {/*    </ListItem>*/}\n                        {/*    <ListItem*/}\n                        {/*        button*/}\n                        {/*        onClick={() =>*/}\n                        {/*            window.open(*/}\n                        {/*                \"https://github.com/cloudreve/cloudreve\"*/}\n                        {/*            )*/}\n                        {/*        }*/}\n                        {/*    >*/}\n                        {/*        <ListItemIcon>*/}\n                        {/*            <GitHub />*/}\n                        {/*        </ListItemIcon>*/}\n                        {/*        <ListItemText primary=\"GitHub\" />*/}\n                        {/*        <ListItemIcon className={classes.iconRight}>*/}\n                        {/*            <Launch />*/}\n                        {/*        </ListItemIcon>*/}\n                        {/*    </ListItem>*/}\n                            {/*<ListItem*/}\n                            {/*    button*/}\n                            {/*    onClick={() =>*/}\n                            {/*        window.open(\"https://docs.cloudreve.org/\")*/}\n                            {/*    }*/}\n                            {/*>*/}\n                            {/*    <ListItemIcon>*/}\n                            {/*        <Description />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*    <ListItemText*/}\n                            {/*        primary={t(\"summary.documents\")}*/}\n                            {/*    />*/}\n                            {/*    <ListItemIcon className={classes.iconRight}>*/}\n                            {/*        <Launch />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*</ListItem>*/}\n                            {/*<ListItem*/}\n                            {/*    button*/}\n                            {/*    onClick={() =>*/}\n                            {/*        window.open(t(\"summary.forumLink\"))*/}\n                            {/*    }*/}\n                            {/*>*/}\n                            {/*    <ListItemIcon>*/}\n                            {/*        <Forum />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*    <ListItemText primary={t(\"summary.forum\")} />*/}\n                            {/*    <ListItemIcon className={classes.iconRight}>*/}\n                            {/*        <Launch />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*</ListItem>*/}\n                            {/*<ListItem*/}\n                            {/*    button*/}\n                            {/*    onClick={() =>*/}\n                            {/*        window.open(t(\"summary.telegramGroupLink\"))*/}\n                            {/*    }*/}\n                            {/*>*/}\n                            {/*    <ListItemIcon>*/}\n                            {/*        <Telegram />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*    <ListItemText*/}\n                            {/*        primary={t(\"summary.telegramGroup\")}*/}\n                            {/*    />*/}\n                            {/*    <ListItemIcon className={classes.iconRight}>*/}\n                            {/*        <Launch />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*</ListItem>*/}\n                            {/*<ListItem*/}\n                            {/*    button*/}\n                            {/*    onClick={() =>*/}\n                            {/*        window.open(\"https://cloudreve.org/pro\")*/}\n                            {/*    }*/}\n                            {/*>*/}\n                            {/*    <ListItemIcon style={{ color: \"#ff789d\" }}>*/}\n                            {/*        <Favorite />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*    <ListItemText primary={t(\"summary.buyPro\")} />*/}\n                            {/*    <ListItemIcon className={classes.iconRight}>*/}\n                            {/*        <Launch />*/}\n                            {/*    </ListItemIcon>*/}\n                            {/*</ListItem>*/}\n                        {/*</List>*/}\n                {/*    </div>*/}\n                {/*</Paper>*/}\n            </Grid>\n            {/*<Grid item xs={12} md={8} lg={9}>*/}\n            {/*    <Paper className={classes.paper}>*/}\n            {/*        <List>*/}\n            {/*            {news &&*/}\n            {/*                news.map((v) => (*/}\n            {/*                    <>*/}\n            {/*                        <ListItem*/}\n            {/*                            button*/}\n            {/*                            alignItems=\"flex-start\"*/}\n            {/*                            onClick={() =>*/}\n            {/*                                window.open(*/}\n            {/*                                    \"https://forum.cloudreve.org/d/\" +*/}\n            {/*                                        v.id*/}\n            {/*                                )*/}\n            {/*                            }*/}\n            {/*                        >*/}\n            {/*                            <ListItemAvatar>*/}\n            {/*                                <Avatar*/}\n            {/*                                    alt=\"Travis Howard\"*/}\n            {/*                                    src={*/}\n            {/*                                        newsUsers[*/}\n            {/*                                            v.relationships*/}\n            {/*                                                .startUser.data.id*/}\n            {/*                                        ] &&*/}\n            {/*                                        newsUsers[*/}\n            {/*                                            v.relationships*/}\n            {/*                                                .startUser.data.id*/}\n            {/*                                        ].avatarUrl*/}\n            {/*                                    }*/}\n            {/*                                />*/}\n            {/*                            </ListItemAvatar>*/}\n            {/*                            <ListItemText*/}\n            {/*                                primary={v.attributes.title}*/}\n            {/*                                secondary={*/}\n            {/*                                    <React.Fragment>*/}\n            {/*                                        <Typography*/}\n            {/*                                            component=\"span\"*/}\n            {/*                                            variant=\"body2\"*/}\n            {/*                                            className={*/}\n            {/*                                                classes.inline*/}\n            {/*                                            }*/}\n            {/*                                            color=\"textPrimary\"*/}\n            {/*                                        >*/}\n            {/*                                            {newsUsers[*/}\n            {/*                                                v.relationships*/}\n            {/*                                                    .startUser.data*/}\n            {/*                                                    .id*/}\n            {/*                                            ] &&*/}\n            {/*                                                newsUsers[*/}\n            {/*                                                    v.relationships*/}\n            {/*                                                        .startUser*/}\n            {/*                                                        .data.id*/}\n            {/*                                                ].username}{\" \"}*/}\n            {/*                                        </Typography>*/}\n            {/*                                        <Trans*/}\n            {/*                                            ns={\"dashboard\"}*/}\n            {/*                                            i18nKey=\"summary.publishedAt\"*/}\n            {/*                                            components={[*/}\n            {/*                                                <TimeAgo*/}\n            {/*                                                    key={0}*/}\n            {/*                                                    datetime={*/}\n            {/*                                                        v.attributes*/}\n            {/*                                                            .startTime*/}\n            {/*                                                    }*/}\n            {/*                                                    locale={t(*/}\n            {/*                                                        \"timeAgoLocaleCode\",*/}\n            {/*                                                        {*/}\n            {/*                                                            ns:*/}\n            {/*                                                                \"common\",*/}\n            {/*                                                        }*/}\n            {/*                                                    )}*/}\n            {/*                                                />,*/}\n            {/*                                            ]}*/}\n            {/*                                        />*/}\n            {/*                                    </React.Fragment>*/}\n            {/*                                }*/}\n            {/*                            />*/}\n            {/*                        </ListItem>*/}\n            {/*                        <Divider />*/}\n            {/*                    </>*/}\n            {/*                ))}*/}\n            {/*        </List>*/}\n            {/*    </Paper>*/}\n            {/*</Grid>*/}\n        </Grid>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\n\nexport default function SiteInformation() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        siteURL: \"\",\n        siteName: \"\",\n        siteTitle: \"\",\n        siteDes: \"\",\n        siteScript: \"\",\n        pwa_small_icon: \"\",\n        pwa_medium_icon: \"\",\n        pwa_large_icon: \"\",\n        pwa_display: \"\",\n        pwa_theme_color: \"\",\n        pwa_background_color: \"\",\n    });\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options),\n        })\n            .then((response) => {\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            option.push({\n                key: k,\n                value: options[k],\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"basicInformation\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"mainTitle\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.siteName}\n                                    onChange={handleChange(\"siteName\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"mainTitleDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"subTitle\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.siteTitle}\n                                    onChange={handleChange(\"siteTitle\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"subTitleDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"siteDescription\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.siteDes}\n                                    onChange={handleChange(\"siteDes\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"siteDescriptionDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"siteURL\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"url\"}\n                                    value={options.siteURL}\n                                    onChange={handleChange(\"siteURL\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"siteURLDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"customFooterHTML\")}\n                                </InputLabel>\n                                <Input\n                                    multiline\n                                    value={options.siteScript}\n                                    onChange={handleChange(\"siteScript\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"customFooterHTMLDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"pwa\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smallIcon\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_small_icon}\n                                    onChange={handleChange(\"pwa_small_icon\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"smallIconDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"mediumIcon\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_medium_icon}\n                                    onChange={handleChange(\"pwa_medium_icon\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"mediumIconDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"largeIcon\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_large_icon}\n                                    onChange={handleChange(\"pwa_large_icon\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"largeIconDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"displayMode\")}\n                                </InputLabel>\n                                <Select\n                                    value={options.pwa_display}\n                                    onChange={handleChange(\"pwa_display\")}\n                                >\n                                    <MenuItem value={\"fullscreen\"}>\n                                        fullscreen\n                                    </MenuItem>\n                                    <MenuItem value={\"standalone\"}>\n                                        standalone\n                                    </MenuItem>\n                                    <MenuItem value={\"minimal-ui\"}>\n                                        minimal-ui\n                                    </MenuItem>\n                                    <MenuItem value={\"browser\"}>\n                                        browser\n                                    </MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"displayModeDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"themeColor\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_theme_color}\n                                    onChange={handleChange(\"pwa_theme_color\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"themeColorDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"backgroundColor\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.pwa_background_color}\n                                    onChange={handleChange(\n                                        \"pwa_background_color\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"backgroundColorDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React from \"react\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function AlertDialog({ title, msg, open, onClose }) {\n    const { t } = useTranslation(\"common\");\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    <Typography>{msg}</Typography>\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"primary\">\n                    {t(\"ok\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport AlertDialog from \"../Dialogs/Alert\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\n\nexport default function Access() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const { t: tVas } = useTranslation(\"dashboard\", { keyPrefix: \"vas\" });\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        register_enabled: \"1\",\n        default_group: \"1\",\n        email_active: \"0\",\n        login_captcha: \"0\",\n        reg_captcha: \"0\",\n        forget_captcha: \"0\",\n        authn_enabled: \"0\",\n    });\n    const [siteURL, setSiteURL] = useState(\"\");\n    const [groups, setGroups] = useState([]);\n    const [httpAlert, setHttpAlert] = useState(false);\n\n    const handleChange = (name) => (event) => {\n        let value = event.target.value;\n        if (event.target.checked !== undefined) {\n            value = event.target.checked ? \"1\" : \"0\";\n        }\n        setOptions({\n            ...options,\n            [name]: value,\n        });\n    };\n\n    const handleInputChange = (name) => (event) => {\n        const value = event.target.value;\n        setOptions({\n            ...options,\n            [name]: value,\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: [...Object.keys(options), \"siteURL\"],\n        })\n            .then((response) => {\n                setSiteURL(response.data.siteURL);\n                delete response.data.siteURL;\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n\n        API.get(\"/admin/groups\")\n            .then((response) => {\n                setGroups(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            option.push({\n                key: k,\n                value: options[k],\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <AlertDialog\n                title={t(\"hint\")}\n                msg={t(\"webauthnNoHttps\")}\n                onClose={() => setHttpAlert(false)}\n                open={httpAlert}\n            />\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"accountManagement\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.register_enabled === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"register_enabled\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"allowNewRegistrations\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"allowNewRegistrationsDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.email_active === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"email_active\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"emailActivation\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"emailActivationDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.reg_captcha === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"reg_captcha\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"captchaForSignup\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"captchaForSignupDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.login_captcha === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"login_captcha\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"captchaForLogin\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"captchaForLoginDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.forget_captcha === \"1\"\n                                            }\n                                            onChange={handleChange(\n                                                \"forget_captcha\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"captchaForReset\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"captchaForResetDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.authn_enabled === \"1\"\n                                            }\n                                            onChange={(e) => {\n                                                if (\n                                                    !siteURL.startsWith(\n                                                        \"https://\"\n                                                    )\n                                                ) {\n                                                    setHttpAlert(true);\n                                                    return;\n                                                }\n                                                handleChange(\"authn_enabled\")(\n                                                    e\n                                                );\n                                            }}\n                                        />\n                                    }\n                                    label={t(\"webauthn\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"webauthnDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"defaultGroup\")}\n                                </InputLabel>\n                                <Select\n                                    value={options.default_group}\n                                    onChange={handleInputChange(\n                                        \"default_group\"\n                                    )}\n                                    required\n                                >\n                                    {groups.map((v) => {\n                                        if (v.ID === 3) {\n                                            return null;\n                                        }\n                                        return (\n                                            <MenuItem\n                                                key={v.ID}\n                                                value={v.ID.toString()}\n                                            >\n                                                {v.Name}\n                                            </MenuItem>\n                                        );\n                                    })}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"defaultGroupDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    buttonMargin: {\n        marginLeft: 8,\n    },\n}));\n\nexport default function Mail() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const { t: tVas } = useTranslation(\"dashboard\", { keyPrefix: \"vas\" });\n    const { t: tGlobal } = useTranslation(\"common\");\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [test, setTest] = useState(false);\n    const [tesInput, setTestInput] = useState(\"\");\n    const [options, setOptions] = useState({\n        fromName: \"\",\n        fromAdress: \"\",\n        smtpHost: \"\",\n        smtpPort: \"\",\n        replyTo: \"\",\n        smtpUser: \"\",\n        smtpPass: \"\",\n        smtpEncryption: \"\",\n        mail_keepalive: \"30\",\n        mail_activation_template: \"\",\n        mail_reset_pwd_template: \"\",\n    });\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleCheckChange = (name) => (event) => {\n        let value = event.target.value;\n        if (event.target.checked !== undefined) {\n            value = event.target.checked ? \"1\" : \"0\";\n        }\n        setOptions({\n            ...options,\n            [name]: value,\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options),\n        })\n            .then((response) => {\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const sendTestMail = () => {\n        setLoading(true);\n        API.post(\"/admin/test/mail\", {\n            to: tesInput,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"testMailSent\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const reload = () => {\n        API.get(\"/admin/reload/email\")\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {})\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {});\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            option.push({\n                key: k,\n                value: options[k],\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n                reload();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <Dialog\n                open={test}\n                onClose={() => setTest(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {t(\"testSMTPSettings\")}\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        <Typography>{t(\"testSMTPTooltip\")}</Typography>\n                    </DialogContentText>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label={t(\"recipient\")}\n                        value={tesInput}\n                        onChange={(e) => setTestInput(e.target.value)}\n                        type=\"email\"\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={() => setTest(false)} color=\"default\">\n                        {tGlobal(\"cancel\")}\n                    </Button>\n                    <Button\n                        onClick={() => sendTestMail()}\n                        disabled={loading}\n                        color=\"primary\"\n                    >\n                        {t(\"send\")}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"smtp\")}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"senderName\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.fromName}\n                                    onChange={handleChange(\"fromName\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"senderNameDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"senderAddress\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"email\"}\n                                    required\n                                    value={options.fromAdress}\n                                    onChange={handleChange(\"fromAdress\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"senderAddressDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smtpServer\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.smtpHost}\n                                    onChange={handleChange(\"smtpHost\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"smtpServerDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smtpPort\")}\n                                </InputLabel>\n                                <Input\n                                    inputProps={{ min: 1, step: 1 }}\n                                    type={\"number\"}\n                                    value={options.smtpPort}\n                                    onChange={handleChange(\"smtpPort\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"smtpPortDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smtpUsername\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.smtpUser}\n                                    onChange={handleChange(\"smtpUser\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"smtpUsernameDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smtpPassword\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"password\"}\n                                    value={options.smtpPass}\n                                    onChange={handleChange(\"smtpPass\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"smtpPasswordDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"replyToAddress\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.replyTo}\n                                    onChange={handleChange(\"replyTo\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"replyToAddressDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.smtpEncryption === \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"smtpEncryption\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"enforceSSL\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"enforceSSLDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smtpTTL\")}\n                                </InputLabel>\n                                <Input\n                                    inputProps={{ min: 1, step: 1 }}\n                                    type={\"number\"}\n                                    value={options.mail_keepalive}\n                                    onChange={handleChange(\"mail_keepalive\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"smtpTTLDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"emailTemplates\")}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"activateNewUser\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.mail_activation_template}\n                                    onChange={handleChange(\n                                        \"mail_activation_template\"\n                                    )}\n                                    multiline\n                                    rowsMax=\"10\"\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"activateNewUserDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"resetPassword\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.mail_reset_pwd_template}\n                                    onChange={handleChange(\n                                        \"mail_reset_pwd_template\"\n                                    )}\n                                    multiline\n                                    rowsMax=\"10\"\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"resetPasswordDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                    {\"   \"}\n                    <Button\n                        className={classes.buttonMargin}\n                        variant={\"outlined\"}\n                        color={\"primary\"}\n                        onClick={() => setTest(true)}\n                    >\n                        {t(\"sendTestEmail\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import FormControl from \"@material-ui/core/FormControl\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nconst unitTransform = (v) => {\n    if (!v || v.toString() === \"0\") {\n        return [0, 1024 * 1024];\n    }\n    for (let i = 4; i >= 0; i--) {\n        const base = Math.pow(1024, i);\n        if (v % base === 0) {\n            return [v / base, base];\n        }\n    }\n};\n\nexport default function SizeInput({\n    onChange,\n    min,\n    value,\n    required,\n    label,\n    max,\n    suffix,\n}) {\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const [unit, setUnit] = useState(1);\n    const [val, setVal] = useState(value);\n    const [err, setError] = useState(\"\");\n\n    useEffect(() => {\n        onChange({\n            target: {\n                value: (val * unit).toString(),\n            },\n        });\n        if (val * unit > max || val * unit < min) {\n            setError(\"不符合尺寸限制\");\n        } else {\n            setError(\"\");\n        }\n    }, [val, unit, max, min]);\n\n    useEffect(() => {\n        const res = unitTransform(value);\n        setUnit(res[1]);\n        setVal(res[0]);\n    }, []);\n\n    return (\n        <FormControl error={err !== \"\"}>\n            <InputLabel htmlFor=\"component-helper\">{label}</InputLabel>\n            <Input\n                style={{ width: 200 }}\n                value={val}\n                type={\"number\"}\n                inputProps={{ step: 1 }}\n                onChange={(e) => setVal(e.target.value)}\n                required={required}\n                endAdornment={\n                    <InputAdornment position=\"end\">\n                        <Select\n                            labelId=\"demo-simple-select-label\"\n                            id=\"demo-simple-select\"\n                            value={unit}\n                            onChange={(e) => setUnit(e.target.value)}\n                        >\n                            <MenuItem value={1}>B{suffix && suffix}</MenuItem>\n                            <MenuItem value={1024}>\n                                KB{suffix && suffix}\n                            </MenuItem>\n                            <MenuItem value={1024 * 1024}>\n                                MB{suffix && suffix}\n                            </MenuItem>\n                            <MenuItem value={1024 * 1024 * 1024}>\n                                GB{suffix && suffix}\n                            </MenuItem>\n                            <MenuItem value={1024 * 1024 * 1024 * 1024}>\n                                TB{suffix && suffix}\n                            </MenuItem>\n                        </Select>\n                    </InputAdornment>\n                }\n            />\n            {err !== \"\" && <FormHelperText>{err}</FormHelperText>}\n        </FormControl>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport SizeInput from \"../Common/SizeInput\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\n\nexport default function UploadDownload() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        max_worker_num: \"1\",\n        max_parallel_transfer: \"1\",\n        temp_path: \"\",\n        chunk_retries: \"0\",\n        archive_timeout: \"0\",\n        download_timeout: \"0\",\n        preview_timeout: \"0\",\n        doc_preview_timeout: \"0\",\n        upload_credential_timeout: \"0\",\n        upload_session_timeout: \"0\",\n        slave_api_timeout: \"0\",\n        onedrive_monitor_timeout: \"0\",\n        share_download_session_timeout: \"0\",\n        onedrive_callback_check: \"0\",\n        reset_after_upload_failed: \"0\",\n        onedrive_source_timeout: \"0\",\n        slave_node_retry: \"0\",\n        slave_ping_interval: \"0\",\n        slave_recover_interval: \"0\",\n        slave_transfer_timeout: \"0\",\n        use_temp_chunk_buffer: \"1\",\n        public_resource_maxage: \"0\",\n    });\n\n    const handleCheckChange = (name) => (event) => {\n        const value = event.target.checked ? \"1\" : \"0\";\n        setOptions({\n            ...options,\n            [name]: value,\n        });\n    };\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options),\n        })\n            .then((response) => {\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            option.push({\n                key: k,\n                value: options[k],\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"transportation\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"workerNum\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.max_worker_num}\n                                    onChange={handleChange(\"max_worker_num\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"workerNumDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"transitParallelNum\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.max_parallel_transfer}\n                                    onChange={handleChange(\n                                        \"max_parallel_transfer\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"transitParallelNumDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"tempFolder\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.temp_path}\n                                    onChange={handleChange(\"temp_path\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"tempFolderDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"failedChunkRetry\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 0,\n                                        step: 1,\n                                    }}\n                                    value={options.chunk_retries}\n                                    onChange={handleChange(\"chunk_retries\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"failedChunkRetryDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.use_temp_chunk_buffer ===\n                                                \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"use_temp_chunk_buffer\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"cacheChunks\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"cacheChunksDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.reset_after_upload_failed ===\n                                                \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"reset_after_upload_failed\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"resetConnection\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"resetConnectionDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"expirationDuration\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        {[\n                            {\n                                name: \"batchDownload\",\n                                field: \"archive_timeout\",\n                            },\n                            {\n                                name: \"downloadSession\",\n                                field: \"download_timeout\",\n                            },\n                            {\n                                name: \"previewURL\",\n                                field: \"preview_timeout\",\n                            },\n                            {\n                                name: \"docPreviewURL\",\n                                field: \"doc_preview_timeout\",\n                            },\n                            {\n                                name: \"staticResourceCache\",\n                                field: \"public_resource_maxage\",\n                                des: \"staticResourceCacheDes\",\n                            },\n                            {\n                                name: \"uploadSession\",\n                                field: \"upload_session_timeout\",\n                                des: \"uploadSessionDes\",\n                            },\n                            {\n                                name: \"downloadSessionForShared\",\n                                field: \"share_download_session_timeout\",\n                                des: \"downloadSessionForSharedDes\",\n                            },\n                            {\n                                name: \"onedriveMonitorInterval\",\n                                field: \"onedrive_monitor_timeout\",\n                                des: \"onedriveMonitorIntervalDes\",\n                            },\n                            {\n                                name: \"onedriveCallbackTolerance\",\n                                field: \"onedrive_callback_check\",\n                                des: \"onedriveCallbackToleranceDes\",\n                            },\n                            {\n                                name: \"onedriveDownloadURLCache\",\n                                field: \"onedrive_source_timeout\",\n                                des: \"onedriveDownloadURLCacheDes\",\n                            },\n                        ].map((input) => (\n                            <div key={input.name} className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(input.name)}\n                                    </InputLabel>\n                                    <Input\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={options[input.field]}\n                                        onChange={handleChange(input.field)}\n                                        required\n                                    />\n                                    {input.des && (\n                                        <FormHelperText id=\"component-helper-text\">\n                                            {t(input.des)}\n                                        </FormHelperText>\n                                    )}\n                                </FormControl>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"nodesCommunication\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        {[\n                            {\n                                name: \"slaveAPIExpiration\",\n                                field: \"slave_api_timeout\",\n                                des: \"slaveAPIExpirationDes\",\n                            },\n                            {\n                                name: \"heartbeatInterval\",\n                                field: \"slave_ping_interval\",\n                                des: \"heartbeatIntervalDes\",\n                            },\n                            {\n                                name: \"heartbeatFailThreshold\",\n                                field: \"slave_node_retry\",\n                                des: \"heartbeatFailThresholdDes\",\n                            },\n                            {\n                                name: \"heartbeatRecoverModeInterval\",\n                                field: \"slave_recover_interval\",\n                                des: \"heartbeatRecoverModeIntervalDes\",\n                            },\n                            {\n                                name: \"slaveTransitExpiration\",\n                                field: \"slave_transfer_timeout\",\n                                des: \"slaveTransitExpirationDes\",\n                            },\n                        ].map((input) => (\n                            <div key={input.name} className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(input.name)}\n                                    </InputLabel>\n                                    <Input\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={options[input.field]}\n                                        onChange={handleChange(input.field)}\n                                        required\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(input.des)}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { createMuiTheme, makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Add, Menu } from \"@material-ui/icons\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport { CompactPicker } from \"react-color\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    picker: {\n        \"& div\": {\n            boxShadow: \"none !important\",\n        },\n        marginTop: theme.spacing(1),\n    },\n    \"@global\": {\n        \".compact-picker:parent \": {\n            boxShadow: \"none !important\",\n        },\n    },\n    statusBar: {\n        height: 24,\n        width: \"100%\",\n    },\n    fab: {\n        textAlign: \"right\",\n    },\n}));\n\nexport default function CreateTheme({ open, onClose, onSubmit }) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const { t: tGlobal } = useTranslation(\"common\");\n    const classes = useStyles();\n    const [theme, setTheme] = useState({\n        palette: {\n            primary: {\n                main: \"#3f51b5\",\n                contrastText: \"#fff\",\n            },\n            secondary: {\n                main: \"#d81b60\",\n                contrastText: \"#fff\",\n            },\n        },\n    });\n\n    const subTheme = useCallback(() => {\n        try {\n            return createMuiTheme(theme);\n        } catch (e) {\n            return createMuiTheme({});\n        }\n    }, [theme]);\n\n    return (\n        <Dialog open={open} onClose={onClose} fullWidth maxWidth={\"md\"}>\n            <DialogContent>\n                <Grid container>\n                    <Grid spacing={2} md={8} xs={12} container>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                {t(\"primaryColor\")}\n                            </Typography>\n                            <TextField\n                                value={theme.palette.primary.main}\n                                onChange={(e) => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            primary: {\n                                                ...theme.palette.primary,\n                                                main: e.target.value,\n                                            },\n                                        },\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    colors={[\n                                        \"#4D4D4D\",\n                                        \"#999999\",\n                                        \"#FFFFFF\",\n                                        \"#f44336\",\n                                        \"#ff9800\",\n                                        \"#ffeb3b\",\n                                        \"#cddc39\",\n                                        \"#A4DD00\",\n                                        \"#00bcd4\",\n                                        \"#03a9f4\",\n                                        \"#AEA1FF\",\n                                        \"#FDA1FF\",\n                                        \"#333333\",\n                                        \"#808080\",\n                                        \"#cccccc\",\n                                        \"#ff5722\",\n                                        \"#ffc107\",\n                                        \"#FCC400\",\n                                        \"#8bc34a\",\n                                        \"#4caf50\",\n                                        \"#009688\",\n                                        \"#2196f3\",\n                                        \"#3f51b5\",\n                                        \"#e91e63\",\n                                        \"#000000\",\n                                        \"#666666\",\n                                        \"#B3B3B3\",\n                                        \"#9F0500\",\n                                        \"#C45100\",\n                                        \"#FB9E00\",\n                                        \"#808900\",\n                                        \"#194D33\",\n                                        \"#0C797D\",\n                                        \"#0062B1\",\n                                        \"#673ab7\",\n                                        \"#9c27b0\",\n                                    ]}\n                                    color={theme.palette.primary.main}\n                                    onChangeComplete={(c) => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                primary: {\n                                                    ...theme.palette.primary,\n                                                    main: c.hex,\n                                                },\n                                            },\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                {t(\"secondaryColor\")}\n                            </Typography>\n                            <TextField\n                                value={theme.palette.secondary.main}\n                                onChange={(e) => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            secondary: {\n                                                ...theme.palette.secondary,\n                                                main: e.target.value,\n                                            },\n                                        },\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    colors={[\n                                        \"#4D4D4D\",\n                                        \"#999999\",\n                                        \"#FFFFFF\",\n                                        \"#ff1744\",\n                                        \"#ff3d00\",\n                                        \"#ffeb3b\",\n                                        \"#cddc39\",\n                                        \"#A4DD00\",\n                                        \"#00bcd4\",\n                                        \"#00e5ff\",\n                                        \"#AEA1FF\",\n                                        \"#FDA1FF\",\n                                        \"#333333\",\n                                        \"#808080\",\n                                        \"#cccccc\",\n                                        \"#ff5722\",\n                                        \"#ffea00\",\n                                        \"#ffc400\",\n                                        \"#c6ff00\",\n                                        \"#00e676\",\n                                        \"#76ff03\",\n                                        \"#00b0ff\",\n                                        \"#2979ff\",\n                                        \"#f50057\",\n                                        \"#000000\",\n                                        \"#666666\",\n                                        \"#B3B3B3\",\n                                        \"#9F0500\",\n                                        \"#C45100\",\n                                        \"#FB9E00\",\n                                        \"#808900\",\n                                        \"#1de9b6\",\n                                        \"#0C797D\",\n                                        \"#3d5afe\",\n                                        \"#651fff\",\n                                        \"#d500f9\",\n                                    ]}\n                                    color={theme.palette.secondary.main}\n                                    onChangeComplete={(c) => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                secondary: {\n                                                    ...theme.palette.secondary,\n                                                    main: c.hex,\n                                                },\n                                            },\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                {t(\"primaryColorText\")}\n                            </Typography>\n                            <TextField\n                                value={theme.palette.primary.contrastText}\n                                onChange={(e) => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            primary: {\n                                                ...theme.palette.primary,\n                                                contrastText: e.target.value,\n                                            },\n                                        },\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    color={theme.palette.primary.contrastText}\n                                    onChangeComplete={(c) => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                primary: {\n                                                    ...theme.palette.primary,\n                                                    contrastText: c.hex,\n                                                },\n                                            },\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                        <Grid md={6} xs={12} item>\n                            <Typography variant=\"h6\" gutterBottom>\n                                {t(\"secondaryColorText\")}\n                            </Typography>\n                            <TextField\n                                value={theme.palette.secondary.contrastText}\n                                onChange={(e) => {\n                                    setTheme({\n                                        ...theme,\n                                        palette: {\n                                            ...theme.palette,\n                                            secondary: {\n                                                ...theme.palette.secondary,\n                                                contrastText: e.target.value,\n                                            },\n                                        },\n                                    });\n                                }}\n                                fullWidth\n                            />\n                            <div className={classes.picker}>\n                                <CompactPicker\n                                    color={theme.palette.secondary.contrastText}\n                                    onChangeComplete={(c) => {\n                                        setTheme({\n                                            ...theme,\n                                            palette: {\n                                                ...theme.palette,\n                                                secondary: {\n                                                    ...theme.palette.secondary,\n                                                    contrastText: c.hex,\n                                                },\n                                            },\n                                        });\n                                    }}\n                                />\n                            </div>\n                        </Grid>\n                    </Grid>\n                    <Grid spacing={2} md={4} xs={12}>\n                        <ThemeProvider theme={subTheme()}>\n                            <div\n                                className={classes.statusBar}\n                                style={{\n                                    backgroundColor: subTheme().palette.primary\n                                        .dark,\n                                }}\n                            />\n                            <AppBar position=\"static\">\n                                <Toolbar>\n                                    <IconButton\n                                        edge=\"start\"\n                                        className={classes.menuButton}\n                                        color=\"inherit\"\n                                        aria-label=\"menu\"\n                                    >\n                                        <Menu />\n                                    </IconButton>\n                                    <Typography\n                                        variant=\"h6\"\n                                        className={classes.title}\n                                    >\n                                        Color\n                                    </Typography>\n                                </Toolbar>\n                            </AppBar>\n                            <div style={{ padding: 16 }}>\n                                <TextField\n                                    fullWidth\n                                    color={\"secondary\"}\n                                    label={\"Text input\"}\n                                />\n                                <div\n                                    className={classes.fab}\n                                    style={{ paddingTop: 64 }}\n                                >\n                                    <Fab color=\"secondary\" aria-label=\"add\">\n                                        <Add />\n                                    </Fab>\n                                </div>\n                            </div>\n                        </ThemeProvider>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    {tGlobal(\"cancel\")}\n                </Button>\n                <Button onClick={() => onSubmit(theme)} color=\"primary\">\n                    {tGlobal(\"ok\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete } from \"@material-ui/icons\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport CreateTheme from \"../Dialogs/CreateTheme\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 500,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    colorContainer: {\n        display: \"flex\",\n    },\n    colorDot: {\n        width: 20,\n        height: 20,\n        borderRadius: \"50%\",\n        marginLeft: 6,\n    },\n}));\n\nexport default function Theme() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const { t: tApp } = useTranslation();\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [theme, setTheme] = useState({});\n    const [options, setOptions] = useState({\n        themes: \"{}\",\n        defaultTheme: \"\",\n        home_view_method: \"icon\",\n        share_view_method: \"list\",\n    });\n    const [themeConfig, setThemeConfig] = useState({});\n    const [themeConfigError, setThemeConfigError] = useState({});\n    const [create, setCreate] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const deleteTheme = (color) => {\n        if (color === options.defaultTheme) {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                t(\"cannotDeleteDefaultTheme\"),\n                \"warning\"\n            );\n            return;\n        }\n        if (Object.keys(theme).length <= 1) {\n            ToggleSnackbar(\"top\", \"right\", t(\"keepAtLeastOneTheme\"), \"warning\");\n            return;\n        }\n        const themeCopy = { ...theme };\n        delete themeCopy[color];\n        const resStr = JSON.stringify(themeCopy);\n        setOptions({\n            ...options,\n            themes: resStr,\n        });\n    };\n\n    const addTheme = (newTheme) => {\n        setCreate(false);\n        if (theme[newTheme.palette.primary.main] !== undefined) {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                t(\"duplicatedThemePrimaryColor\"),\n                \"warning\"\n            );\n            return;\n        }\n        const res = {\n            ...theme,\n            [newTheme.palette.primary.main]: newTheme,\n        };\n        const resStr = JSON.stringify(res);\n        setOptions({\n            ...options,\n            themes: resStr,\n        });\n    };\n\n    useEffect(() => {\n        const res = JSON.parse(options.themes);\n        const themeString = {};\n\n        Object.keys(res).forEach((k) => {\n            themeString[k] = JSON.stringify(res[k]);\n        });\n\n        setTheme(res);\n        setThemeConfig(themeString);\n    }, [options.themes]);\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options),\n        })\n            .then((response) => {\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            option.push({\n                key: k,\n                value: options[k],\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"themes\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Table aria-label=\"simple table\">\n                                <TableHead>\n                                    <TableRow>\n                                        <TableCell>{t(\"colors\")}</TableCell>\n                                        <TableCell>\n                                            {t(\"themeConfig\")}\n                                        </TableCell>\n                                        <TableCell>{t(\"actions\")}</TableCell>\n                                    </TableRow>\n                                </TableHead>\n                                <TableBody>\n                                    {Object.keys(theme).map((k) => (\n                                        <TableRow key={k}>\n                                            <TableCell\n                                                component=\"th\"\n                                                scope=\"row\"\n                                            >\n                                                <div\n                                                    className={\n                                                        classes.colorContainer\n                                                    }\n                                                >\n                                                    <div\n                                                        style={{\n                                                            backgroundColor:\n                                                                theme[k].palette\n                                                                    .primary\n                                                                    .main,\n                                                        }}\n                                                        className={\n                                                            classes.colorDot\n                                                        }\n                                                    />\n                                                    <div\n                                                        style={{\n                                                            backgroundColor:\n                                                                theme[k].palette\n                                                                    .secondary\n                                                                    .main,\n                                                        }}\n                                                        className={\n                                                            classes.colorDot\n                                                        }\n                                                    />\n                                                </div>\n                                            </TableCell>\n                                            <TableCell>\n                                                <TextField\n                                                    error={themeConfigError[k]}\n                                                    helperText={\n                                                        themeConfigError[k] &&\n                                                        t(\"wrongFormat\")\n                                                    }\n                                                    fullWidth\n                                                    multiline\n                                                    onChange={(e) => {\n                                                        setThemeConfig({\n                                                            ...themeConfig,\n                                                            [k]: e.target.value,\n                                                        });\n                                                    }}\n                                                    onBlur={(e) => {\n                                                        try {\n                                                            const res = JSON.parse(\n                                                                e.target.value\n                                                            );\n                                                            if (\n                                                                !(\n                                                                    \"palette\" in\n                                                                    res\n                                                                ) ||\n                                                                !(\n                                                                    \"primary\" in\n                                                                    res.palette\n                                                                ) ||\n                                                                !(\n                                                                    \"main\" in\n                                                                    res.palette\n                                                                        .primary\n                                                                ) ||\n                                                                !(\n                                                                    \"secondary\" in\n                                                                    res.palette\n                                                                ) ||\n                                                                !(\n                                                                    \"main\" in\n                                                                    res.palette\n                                                                        .secondary\n                                                                )\n                                                            ) {\n                                                                throw e;\n                                                            }\n                                                            setTheme({\n                                                                ...theme,\n                                                                [k]: res,\n                                                            });\n                                                        } catch (e) {\n                                                            setThemeConfigError(\n                                                                {\n                                                                    ...themeConfigError,\n                                                                    [k]: true,\n                                                                }\n                                                            );\n                                                            return;\n                                                        }\n                                                        setThemeConfigError({\n                                                            ...themeConfigError,\n                                                            [k]: false,\n                                                        });\n                                                    }}\n                                                    value={themeConfig[k]}\n                                                />\n                                            </TableCell>\n                                            <TableCell>\n                                                <IconButton\n                                                    onClick={() =>\n                                                        deleteTheme(k)\n                                                    }\n                                                >\n                                                    <Delete />\n                                                </IconButton>\n                                            </TableCell>\n                                        </TableRow>\n                                    ))}\n                                </TableBody>\n                            </Table>\n                            <div>\n                                <Button\n                                    variant=\"outlined\"\n                                    color=\"primary\"\n                                    style={{ marginTop: 8 }}\n                                    onClick={() => setCreate(true)}\n                                >\n                                    {t(\"createNewTheme\")}\n                                </Button>\n                            </div>\n                            <Alert severity=\"info\" style={{ marginTop: 8 }}>\n                                <Typography variant=\"body2\">\n                                    <Trans\n                                        i18nKey={\"settings.themeConfigDes\"}\n                                        ns={\"dashboard\"}\n                                        components={[\n                                            <Link\n                                                key={0}\n                                                href={t(\"themeConfigDoc\")}\n                                                target={\"_blank\"}\n                                            />,\n                                        ]}\n                                    />\n                                </Typography>\n                            </Alert>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"defaultTheme\")}\n                                </InputLabel>\n                                <Select\n                                    value={options.defaultTheme}\n                                    onChange={handleChange(\"defaultTheme\")}\n                                >\n                                    {Object.keys(theme).map((k) => (\n                                        <MenuItem key={k} value={k}>\n                                            <div\n                                                className={\n                                                    classes.colorContainer\n                                                }\n                                            >\n                                                <div\n                                                    style={{\n                                                        backgroundColor:\n                                                            theme[k].palette\n                                                                .primary.main,\n                                                    }}\n                                                    className={classes.colorDot}\n                                                />\n                                                <div\n                                                    style={{\n                                                        backgroundColor:\n                                                            theme[k].palette\n                                                                .secondary.main,\n                                                    }}\n                                                    className={classes.colorDot}\n                                                />\n                                            </div>\n                                        </MenuItem>\n                                    ))}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"defaultThemeDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"appearance\")}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"personalFileListView\")}\n                                </InputLabel>\n                                <Select\n                                    value={options.home_view_method}\n                                    onChange={handleChange(\"home_view_method\")}\n                                    required\n                                >\n                                    <MenuItem value={\"icon\"}>\n                                        {tApp(\"fileManager.gridViewLarge\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"smallIcon\"}>\n                                        {tApp(\"fileManager.gridViewSmall\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"list\"}>\n                                        {tApp(\"fileManager.listView\")}\n                                    </MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"personalFileListViewDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"sharedFileListView\")}\n                                </InputLabel>\n                                <Select\n                                    value={options.share_view_method}\n                                    onChange={handleChange(\"share_view_method\")}\n                                    required\n                                >\n                                    <MenuItem value={\"icon\"}>\n                                        {tApp(\"fileManager.gridViewLarge\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"smallIcon\"}>\n                                        {tApp(\"fileManager.gridViewSmall\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"list\"}>\n                                        {tApp(\"fileManager.listView\")}\n                                    </MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"sharedFileListViewDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                </div>\n            </form>\n\n            <CreateTheme\n                onSubmit={addTheme}\n                open={create}\n                onClose={() => setCreate(false)}\n            />\n        </div>\n    );\n}\n","import React, { useCallback, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport API from \"../../../middleware/Api\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n    secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n    },\n    column: {\n        flexBasis: \"33.33%\",\n    },\n    details: {\n        display: \"block\",\n    },\n}));\n\nconst generators = [\n    {\n        name: \"policyBuiltin\",\n        des: \"policyBuiltinDes\",\n        readOnly: true,\n    },\n    {\n        name: \"libreOffice\",\n        des: \"libreOfficeDes\",\n        enableFlag: \"thumb_libreoffice_enabled\",\n        executableSetting: \"thumb_libreoffice_path\",\n        inputs: [\n            {\n                name: \"thumb_libreoffice_exts\",\n                label: \"generatorExts\",\n                des: \"generatorExtsDes\",\n            },\n        ],\n    },\n    {\n        name: \"vips\",\n        des: \"vipsDes\",\n        enableFlag: \"thumb_vips_enabled\",\n        executableSetting: \"thumb_vips_path\",\n        inputs: [\n            {\n                name: \"thumb_vips_exts\",\n                label: \"generatorExts\",\n                des: \"generatorExtsDes\",\n            },\n        ],\n    },\n    {\n        name: \"ffmpeg\",\n        des: \"ffmpegDes\",\n        enableFlag: \"thumb_ffmpeg_enabled\",\n        executableSetting: \"thumb_ffmpeg_path\",\n        inputs: [\n            {\n                name: \"thumb_ffmpeg_exts\",\n                label: \"generatorExts\",\n                des: \"generatorExtsDes\",\n            },\n            {\n                name: \"thumb_ffmpeg_seek\",\n                label: \"ffmpegSeek\",\n                des: \"ffmpegSeekDes\",\n                required: true,\n            },\n        ],\n    },\n    {\n        name: \"cloudreveBuiltin\",\n        des: \"cloudreveBuiltinDes\",\n        enableFlag: \"thumb_builtin_enabled\",\n    },\n];\n\nexport default function ThumbGenerators({ options, setOptions }) {\n    const classes = useStyles();\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const [loading, setLoading] = useState(false);\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const testExecutable = (name, executable) => {\n        setLoading(true);\n        API.post(\"/admin/test/thumb\", {\n            name,\n            executable,\n        })\n            .then((response) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"executableTestSuccess\", { version: response.data }),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleEnableChange = (name) => (event) => {\n        const newOpts = {\n            ...options,\n            [name]: event.target.checked ? \"1\" : \"0\",\n        };\n        setOptions(newOpts);\n\n        if (\n            newOpts[\"thumb_libreoffice_enabled\"] === \"1\" &&\n            newOpts[\"thumb_builtin_enabled\"] === \"0\" &&\n            newOpts[\"thumb_vips_enabled\"] === \"0\"\n        ) {\n            ToggleSnackbar(\n                \"top\",\n                \"center\",\n                t(\"thumbDependencyWarning\"),\n                \"warning\"\n            );\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            {generators.map((generator) => (\n                <Accordion key={generator.name}>\n                    <AccordionSummary\n                        expandIcon={<ExpandMoreIcon />}\n                        aria-label=\"Expand\"\n                        aria-controls=\"additional-actions1-content\"\n                        id=\"additional-actions1-header\"\n                    >\n                        <FormControlLabel\n                            aria-label=\"Acknowledge\"\n                            onClick={(event) => event.stopPropagation()}\n                            onFocus={(event) => event.stopPropagation()}\n                            control={\n                                <Checkbox\n                                    checked={\n                                        generator.readOnly ||\n                                        options[generator.enableFlag] === \"1\"\n                                    }\n                                    onChange={handleEnableChange(\n                                        generator.enableFlag\n                                    )}\n                                />\n                            }\n                            label={t(generator.name)}\n                            disabled={generator.readOnly}\n                        />\n                    </AccordionSummary>\n                    <AccordionDetails className={classes.details}>\n                        <Typography color=\"textSecondary\">\n                            {t(generator.des)}\n                        </Typography>\n                        {generator.executableSetting && (\n                            <FormControl margin=\"normal\" fullWidth>\n                                <TextField\n                                    label={t(\"executable\")}\n                                    variant=\"outlined\"\n                                    value={options[generator.executableSetting]}\n                                    onChange={handleChange(\n                                        generator.executableSetting\n                                    )}\n                                    InputProps={{\n                                        endAdornment: (\n                                            <InputAdornment position=\"end\">\n                                                <Button\n                                                    disabled={loading}\n                                                    onClick={() =>\n                                                        testExecutable(\n                                                            generator.name,\n                                                            options[\n                                                                generator\n                                                                    .executableSetting\n                                                            ]\n                                                        )\n                                                    }\n                                                    color=\"primary\"\n                                                >\n                                                    {t(\"executableTest\")}\n                                                </Button>\n                                            </InputAdornment>\n                                        ),\n                                    }}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"executableDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        )}\n                        {generator.inputs &&\n                            generator.inputs.map((input) => (\n                                <FormControl\n                                    key={input.name}\n                                    margin=\"normal\"\n                                    fullWidth\n                                >\n                                    <TextField\n                                        label={t(input.label)}\n                                        variant=\"outlined\"\n                                        value={options[input.name]}\n                                        onChange={handleChange(input.name)}\n                                        required={!!input.required}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(input.des)}\n                                    </FormHelperText>\n                                </FormControl>\n                            ))}\n                    </AccordionDetails>\n                </Accordion>\n            ))}\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { getSelectItemStyles } from \"../../../utils\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport { FormControl } from \"@material-ui/core\";\nimport API from \"../../../middleware/Api\";\nimport { useTheme } from \"@material-ui/core/styles\";\n\nexport default function PolicySelector({\n    onChange,\n    value,\n    label,\n    helperText,\n    filter,\n}) {\n    const [policies, setPolicies] = useState({});\n    const theme = useTheme();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {},\n        })\n            .then((response) => {\n                const res = {};\n                let data = response.data.items;\n                if (filter) {\n                    data = data.filter(filter);\n                }\n\n                data.forEach((v) => {\n                    res[v.ID] = v.Name;\n                });\n                setPolicies(res);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    return (\n        <FormControl fullWidth>\n            <InputLabel htmlFor=\"component-helper\">{label}</InputLabel>\n            <Select\n                labelId=\"demo-mutiple-chip-label\"\n                id=\"demo-mutiple-chip\"\n                multiple\n                value={value}\n                onChange={onChange}\n                input={<Input id=\"select-multiple-chip\" />}\n                renderValue={(selected) => (\n                    <div>\n                        {selected.map((value) => (\n                            <Chip\n                                style={{\n                                    margin: 2,\n                                }}\n                                key={value}\n                                size={\"small\"}\n                                label={policies[value]}\n                            />\n                        ))}\n                    </div>\n                )}\n            >\n                {Object.keys(policies).map((pid) => (\n                    <MenuItem\n                        key={pid}\n                        value={pid}\n                        style={getSelectItemStyles(pid, value, theme)}\n                    >\n                        {policies[pid]}\n                    </MenuItem>\n                ))}\n            </Select>\n            <FormHelperText id=\"component-helper-text\">\n                {helperText}\n            </FormHelperText>\n        </FormControl>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport SizeInput from \"../Common/SizeInput\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport Link from \"@material-ui/core/Link\";\nimport ThumbGenerators from \"./ThumbGenerators\";\nimport PolicySelector from \"../Common/PolicySelector\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\n\nexport default function ImageSetting() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        gravatar_server: \"\",\n        avatar_path: \"\",\n        avatar_size: \"\",\n        avatar_size_l: \"\",\n        avatar_size_m: \"\",\n        avatar_size_s: \"\",\n        thumb_width: \"\",\n        thumb_height: \"\",\n        office_preview_service: \"\",\n        thumb_file_suffix: \"\",\n        thumb_max_task_count: \"\",\n        thumb_encode_method: \"\",\n        thumb_gc_after_gen: \"0\",\n        thumb_encode_quality: \"\",\n        maxEditSize: \"\",\n        wopi_enabled: \"0\",\n        wopi_endpoint: \"\",\n        wopi_session_timeout: \"0\",\n        thumb_builtin_enabled: \"0\",\n        thumb_vips_enabled: \"0\",\n        thumb_vips_exts: \"\",\n        thumb_ffmpeg_enabled: \"0\",\n        thumb_vips_path: \"\",\n        thumb_ffmpeg_path: \"\",\n        thumb_ffmpeg_exts: \"\",\n        thumb_ffmpeg_seek: \"\",\n        thumb_libreoffice_path: \"\",\n        thumb_libreoffice_enabled: \"0\",\n        thumb_libreoffice_exts: \"\",\n        thumb_proxy_enabled: \"0\",\n        thumb_proxy_policy: [],\n        thumb_max_src_size: \"\",\n    });\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options),\n        })\n            .then((response) => {\n                response.data.thumb_proxy_policy = JSON.parse(\n                    response.data.thumb_proxy_policy\n                ).map((v) => {\n                    return v.toString();\n                });\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const reload = () => {\n        API.get(\"/admin/reload/wopi\")\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {})\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\n            .then(() => {});\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            let value = options[k];\n            if (k === \"thumb_proxy_policy\") {\n                value = JSON.stringify(value.map((v) => parseInt(v)));\n            }\n\n            option.push({\n                key: k,\n                value,\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n                reload();\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleCheckChange = (name) => (event) => {\n        const value = event.target.checked ? \"1\" : \"0\";\n        setOptions({\n            ...options,\n            [name]: value,\n        });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"avatar\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"gravatarServer\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"url\"}\n                                    value={options.gravatar_server}\n                                    onChange={handleChange(\"gravatar_server\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"gravatarServerDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"avatarFilePath\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.avatar_path}\n                                    onChange={handleChange(\"avatar_path\")}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"avatarFilePathDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                {options.avatar_size !== \"\" && (\n                                    <SizeInput\n                                        value={options.avatar_size}\n                                        onChange={handleChange(\"avatar_size\")}\n                                        required\n                                        min={0}\n                                        max={2147483647}\n                                        label={t(\"avatarSize\")}\n                                    />\n                                )}\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"avatarSizeDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"smallAvatarSize\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.avatar_size_s}\n                                    onChange={handleChange(\"avatar_size_s\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"mediumAvatarSize\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.avatar_size_m}\n                                    onChange={handleChange(\"avatar_size_m\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"largeAvatarSize\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.avatar_size_l}\n                                    onChange={handleChange(\"avatar_size_l\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"filePreview\")}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"officePreviewService\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.office_preview_service}\n                                    onChange={handleChange(\n                                        \"office_preview_service\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"officePreviewServiceDes\")}\n                                    <br />\n                                    <code>{\"{$src}\"}</code> -{\" \"}\n                                    {t(\"officePreviewServiceSrcDes\")}\n                                    <br />\n                                    <code>{\"{$srcB64}\"}</code> -{\" \"}\n                                    {t(\"officePreviewServiceSrcB64Des\")}\n                                    <br />\n                                    <code>{\"{$name}\"}</code> -{\" \"}\n                                    {t(\"officePreviewServiceName\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                {options.maxEditSize !== \"\" && (\n                                    <SizeInput\n                                        value={options.maxEditSize}\n                                        onChange={handleChange(\"maxEditSize\")}\n                                        required\n                                        min={0}\n                                        max={2147483647}\n                                        label={t(\"textEditMaxSize\")}\n                                    />\n                                )}\n\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"textEditMaxSizeDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"wopiClient\")}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Alert severity=\"info\">\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"settings.wopiClientDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            target={\"_blank\"}\n                                            href={t(\"wopiDocLink\")}\n                                        />,\n                                    ]}\n                                />\n                            </Alert>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.wopi_enabled === \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"wopi_enabled\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"enableWopi\")}\n                                />\n                            </FormControl>\n                        </div>\n\n                        {options.wopi_enabled === \"1\" && (\n                            <>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"wopiEndpoint\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={options.wopi_endpoint}\n                                            onChange={handleChange(\n                                                \"wopi_endpoint\"\n                                            )}\n                                            required\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            {t(\"wopiEndpointDes\")}\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"wopiSessionTtl\")}\n                                        </InputLabel>\n                                        <Input\n                                            inputProps={{ min: 1, step: 1 }}\n                                            type={\"number\"}\n                                            value={options.wopi_session_timeout}\n                                            onChange={handleChange(\n                                                \"wopi_session_timeout\"\n                                            )}\n                                            required\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            {t(\"wopiSessionTtlDes\")}\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n                            </>\n                        )}\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"thumbnails\")}\n                    </Typography>\n                    <div className={classes.form}>\n                        <Alert severity=\"info\">\n                            <Trans\n                                ns={\"dashboard\"}\n                                i18nKey={\"settings.thumbnailDoc\"}\n                                components={[\n                                    <Link\n                                        key={0}\n                                        target={\"_blank\"}\n                                        href={t(\"thumbnailDocLink\")}\n                                    />,\n                                ]}\n                            />\n                        </Alert>\n                    </div>\n                    <Typography variant=\"subtitle1\" gutterBottom>\n                        {t(\"thumbnailBasic\")}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"thumbWidth\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.thumb_width}\n                                    onChange={handleChange(\"thumb_width\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"thumbHeight\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                    }}\n                                    value={options.thumb_height}\n                                    onChange={handleChange(\"thumb_height\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"thumbSuffix\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"text\"}\n                                    value={options.thumb_file_suffix}\n                                    onChange={handleChange(\"thumb_file_suffix\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"thumbConcurrent\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: -1,\n                                        step: 1,\n                                    }}\n                                    value={options.thumb_max_task_count}\n                                    onChange={handleChange(\n                                        \"thumb_max_task_count\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"thumbConcurrentDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"thumbFormat\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"test\"}\n                                    value={options.thumb_encode_method}\n                                    onChange={handleChange(\n                                        \"thumb_encode_method\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"thumbFormatDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"thumbQuality\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        min: 1,\n                                        step: 1,\n                                        max: 100,\n                                    }}\n                                    value={options.thumb_encode_quality}\n                                    onChange={handleChange(\n                                        \"thumb_encode_quality\"\n                                    )}\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"thumbQualityDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                {options.thumb_max_src_size !== \"\" && (\n                                    <SizeInput\n                                        value={options.thumb_max_src_size}\n                                        onChange={handleChange(\n                                            \"thumb_max_src_size\"\n                                        )}\n                                        required\n                                        min={0}\n                                        max={2147483647}\n                                        label={t(\"thumbMaxSize\")}\n                                    />\n                                )}\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"thumbMaxSizeDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.thumb_gc_after_gen ===\n                                                \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"thumb_gc_after_gen\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"thumbGC\")}\n                                />\n                            </FormControl>\n                        </div>\n                    </div>\n\n                    <Typography variant=\"subtitle1\" gutterBottom>\n                        {t(\"generators\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <ThumbGenerators\n                                options={options}\n                                setOptions={setOptions}\n                            />\n                        </div>\n                    </div>\n\n                    <Typography variant=\"subtitle1\" gutterBottom>\n                        {t(\"generatorProxy\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Alert severity=\"info\">\n                                {t(\"generatorProxyWarning\")}\n                            </Alert>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                options.thumb_proxy_enabled ===\n                                                \"1\"\n                                            }\n                                            onChange={handleCheckChange(\n                                                \"thumb_proxy_enabled\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"enableThumbProxy\")}\n                                />\n                            </FormControl>\n                        </div>\n                        {options.thumb_proxy_enabled === \"1\" && (\n                            <>\n                                <div className={classes.form}>\n                                    <PolicySelector\n                                        value={options.thumb_proxy_policy}\n                                        onChange={handleChange(\n                                            \"thumb_proxy_policy\"\n                                        )}\n                                        filter={(t) => t.Type !== \"local\"}\n                                        label={t(\"proxyPolicyList\")}\n                                        helperText={t(\"proxyPolicyListDes\")}\n                                    />\n                                </div>\n                            </>\n                        )}\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    cardContainer: {\n        display: \"flex\",\n    },\n    cover: {\n        width: 100,\n        height: 60,\n    },\n    card: {},\n    content: {\n        flex: \"1 0 auto\",\n    },\n    bg: {\n        backgroundColor: theme.palette.background.default,\n        padding: \"24px 24px\",\n    },\n    dialogFooter: {\n        justifyContent: \"space-between\",\n    },\n}));\n\nconst policies = [\n    {\n        name: \"local\",\n        img: \"local.png\",\n        path: \"/admin/policy/add/local\",\n    },\n    {\n        name: \"remote\",\n        img: \"remote.png\",\n        path: \"/admin/policy/add/remote\",\n    },\n    {\n        name: \"qiniu\",\n        img: \"qiniu.png\",\n        path: \"/admin/policy/add/qiniu\",\n    },\n    {\n        name: \"oss\",\n        img: \"oss.png\",\n        path: \"/admin/policy/add/oss\",\n    },\n    {\n        name: \"upyun\",\n        img: \"upyun.png\",\n        path: \"/admin/policy/add/upyun\",\n    },\n    {\n        name: \"cos\",\n        img: \"cos.png\",\n        path: \"/admin/policy/add/cos\",\n    },\n    {\n        name: \"onedrive\",\n        img: \"onedrive.png\",\n        path: \"/admin/policy/add/onedrive\",\n    },\n    {\n        name: \"s3\",\n        img: \"s3.png\",\n        path: \"/admin/policy/add/s3\",\n    },\n];\n\nexport default function AddPolicy({ open, onClose }) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const { t: tCommon } = useTranslation(\"common\");\n    const classes = useStyles();\n\n    const location = useHistory();\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            maxWidth={\"sm\"}\n            fullWidth\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {t(\"selectAStorageProvider\")}\n            </DialogTitle>\n            <DialogContent dividers className={classes.bg}>\n                <Grid container spacing={2}>\n                    {policies.map((v) => (\n                        <Grid item sm={12} md={6} key={v.path}>\n                            <Card className={classes.card}>\n                                <CardActionArea\n                                    onClick={() => {\n                                        location.push(v.path);\n                                        onClose();\n                                    }}\n                                    className={classes.cardContainer}\n                                >\n                                    <CardMedia\n                                        className={classes.cover}\n                                        image={\"/static/img/\" + v.img}\n                                    />\n                                    <CardContent className={classes.content}>\n                                        <Typography\n                                            variant=\"subtitle1\"\n                                            color=\"textSecondary\"\n                                        >\n                                            {t(v.name)}\n                                        </Typography>\n                                    </CardContent>\n                                </CardActionArea>\n                            </Card>\n                        </Grid>\n                    ))}\n                </Grid>\n            </DialogContent>\n            <DialogActions className={classes.dialogFooter}>\n                <Button\n                    onClick={() =>\n                        window.open(t(\"comparesStoragePoliciesLink\"))\n                    }\n                    color=\"primary\"\n                >\n                    {t(\"comparesStoragePolicies\")}\n                </Button>\n                <Button onClick={onClose} color=\"primary\">\n                    {tCommon(\"cancel\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Delete, Edit } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport AddPolicy from \"../Dialogs/AddPolicy\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    headerRight: {},\n}));\n\nconst columns = [\n    { id: \"#\", label: \"sharp\", minWidth: 50 },\n    { id: \"name\", label: \"name\", minWidth: 170 },\n    { id: \"type\", label: \"type\", minWidth: 170 },\n    {\n        id: \"count\",\n        label: \"childFiles\",\n        minWidth: 50,\n        align: \"right\",\n    },\n    {\n        id: \"size\",\n        label: \"totalSize\",\n        minWidth: 100,\n        align: \"right\",\n    },\n    {\n        id: \"action\",\n        label: \"actions\",\n        minWidth: 170,\n        align: \"right\",\n    },\n];\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function Policy() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    // const [loading, setLoading] = useState(false);\n    // const [tab, setTab] = useState(0);\n    const [policies, setPolicies] = useState([]);\n    const [statics, setStatics] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [addDialog, setAddDialog] = useState(false);\n    const [filter, setFilter] = useState(\"all\");\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [editID, setEditID] = React.useState(0);\n\n    const location = useLocation();\n    const history = useHistory();\n    const query = useQuery();\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        if (query.get(\"code\") === \"0\") {\n            ToggleSnackbar(\"top\", \"right\", t(\"authSuccess\"), \"success\");\n        } else if (query.get(\"msg\") && query.get(\"msg\") !== \"\") {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                query.get(\"msg\") + \", \" + query.get(\"err\"),\n                \"warning\"\n            );\n        }\n    }, [location]);\n\n    const loadList = () => {\n        API.post(\"/admin/policy/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: \"id desc\",\n            conditions: filter === \"all\" ? {} : { type: filter },\n        })\n            .then((response) => {\n                setPolicies(response.data.items);\n                setStatics(response.data.statics);\n                setTotal(response.data.total);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, filter]);\n\n    const deletePolicy = (id) => {\n        API.delete(\"/admin/policy/\" + id)\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"policyDeleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const open = Boolean(anchorEl);\n\n    return (\n        <div>\n            <AddPolicy open={addDialog} onClose={() => setAddDialog(false)} />\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => setAddDialog(true)}\n                    variant={\"contained\"}\n                >\n                    {t(\"newStoragePolicy\")}\n                </Button>\n                <div className={classes.headerRight}>\n                    <Select\n                        style={{\n                            marginRight: 8,\n                        }}\n                        value={filter}\n                        onChange={(e) => setFilter(e.target.value)}\n                    >\n                        {[\n                            \"all\",\n                            \"local\",\n                            \"remote\",\n                            \"qiniu\",\n                            \"upyun\",\n                            \"oss\",\n                            \"cos\",\n                            \"onedrive\",\n                            \"s3\",\n                        ].map((v) => (\n                            <MenuItem key={v} value={v}>\n                                {t(v)}\n                            </MenuItem>\n                        ))}\n                    </Select>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {t(\"refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                {columns.map((column) => (\n                                    <TableCell\n                                        key={column.id}\n                                        align={column.align}\n                                        style={{ minWidth: column.minWidth }}\n                                    >\n                                        {t(column.label)}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {policies.map((row) => (\n                                <TableRow hover key={row.ID}>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>{row.Name}</TableCell>\n                                    <TableCell>{t(row.Type)}</TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            statics[row.ID][0].toLocaleString()}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            sizeToString(statics[row.ID][1])}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        <Tooltip title={t(\"delete\")}>\n                                            <IconButton\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={t(\"edit\")}>\n                                            <IconButton\n                                                onClick={(e) => {\n                                                    setEditID(row.ID);\n                                                    handleClick(e);\n                                                }}\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n            <Menu\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                keepMounted\n            >\n                <MenuItem\n                    onClick={(e) => {\n                        handleClose(e);\n                        history.push(\"/admin/policy/edit/pro/\" + editID);\n                    }}\n                >\n                    {t(\"editInProMode\")}\n                </MenuItem>\n                <MenuItem\n                    onClick={(e) => {\n                        handleClose(e);\n                        history.push(\"/admin/policy/edit/guide/\" + editID);\n                    }}\n                >\n                    {t(\"editInWizardMode\")}\n                </MenuItem>\n            </Menu>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nexport default function DomainInput({ onChange, value, required, label }) {\n    const [domain, setDomain] = useState(\"\");\n    const [protocol, setProtocol] = useState(\"https://\");\n    const [error, setError] = useState();\n\n    useState(() => {\n        value = value ? value : \"\";\n        if (value.startsWith(\"https://\")) {\n            setDomain(value.replace(\"https://\", \"\"));\n            setProtocol(\"https://\");\n        } else {\n            if (value !== \"\") {\n                setDomain(value.replace(\"http://\", \"\"));\n                setProtocol(\"http://\");\n            }\n        }\n    }, [value]);\n\n    useEffect(() => {\n        if (protocol === \"http://\" && window.location.protocol === \"https:\") {\n            setError(\n                \"您当前站点启用了 HTTPS ，此处选择 HTTP 可能会导致无法连接。\"\n            );\n        } else {\n            setError(\"\");\n        }\n    }, [protocol]);\n\n    return (\n        <FormControl>\n            <InputLabel htmlFor=\"component-helper\">{label}</InputLabel>\n            <Input\n                error={error !== \"\"}\n                value={domain}\n                onChange={(e) => {\n                    setDomain(e.target.value);\n                    onChange({\n                        target: {\n                            value: protocol + e.target.value,\n                        },\n                    });\n                }}\n                required={required}\n                startAdornment={\n                    <InputAdornment position=\"start\">\n                        <Select\n                            value={protocol}\n                            onChange={(e) => {\n                                setProtocol(e.target.value);\n                                onChange({\n                                    target: {\n                                        value: e.target.value + domain,\n                                    },\n                                });\n                            }}\n                        >\n                            <MenuItem value={\"http://\"}>http://</MenuItem>\n                            <MenuItem value={\"https://\"}>https://</MenuItem>\n                        </Select>\n                    </InputAdornment>\n                }\n            />\n            {error !== \"\" && (\n                <FormHelperText error={error !== \"\"}>{error}</FormHelperText>\n            )}\n        </FormControl>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst magicVars = [\n    {\n        value: \"{randomkey16}\",\n        des: \"16digitsRandomString\",\n        example: \"N6IimT5XZP324ACK\",\n        fileOnly: false,\n    },\n    {\n        value: \"{randomkey8}\",\n        des: \"8digitsRandomString\",\n        example: \"gWz78q30\",\n        fileOnly: false,\n    },\n    {\n        value: \"{timestamp}\",\n        des: \"secondTimestamp\",\n        example: \"1582692933\",\n        fileOnly: false,\n    },\n    {\n        value: \"{timestamp_nano}\",\n        des: \"nanoTimestamp\",\n        example: \"1582692933231834600\",\n        fileOnly: false,\n    },\n    {\n        value: \"{uid}\",\n        des: \"uid\",\n        example: \"1\",\n        fileOnly: false,\n    },\n    {\n        value: \"{originname}\",\n        des: \"originalFileName\",\n        example: \"MyPico.mp4\",\n        fileOnly: true,\n    },\n    {\n        value: \"{ext}\",\n        des: \"extension\",\n        example: \".jpg\",\n        fileOnly: true,\n    },\n    {\n        value: \"{uuid}\",\n        des: \"uuidV4\",\n        example: \"31f0a770-659d-45bf-a5a9-166c06f33281\",\n        fileOnly: true,\n    },\n    {\n        value: \"{date}\",\n        des: \"date\",\n        example: \"20060102\",\n        fileOnly: false,\n    },\n    {\n        value: \"{datetime}\",\n        des: \"dateAndTime\",\n        example: \"20060102150405\",\n        fileOnly: false,\n    },\n    {\n        value: \"{year}\",\n        des: \"year\",\n        example: \"2006\",\n        fileOnly: false,\n    },\n    {\n        value: \"{month}\",\n        des: \"month\",\n        example: \"01\",\n        fileOnly: false,\n    },\n    {\n        value: \"{day}\",\n        des: \"day\",\n        example: \"02\",\n        fileOnly: false,\n    },\n    {\n        value: \"{hour}\",\n        des: \"hour\",\n        example: \"15\",\n        fileOnly: false,\n    },\n    {\n        value: \"{minute}\",\n        des: \"minute\",\n        example: \"04\",\n        fileOnly: false,\n    },\n    {\n        value: \"{second}\",\n        des: \"second\",\n        example: \"05\",\n        fileOnly: false,\n    },\n];\n\nexport default function MagicVar({ isFile, open, onClose, isSlave }) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy.magicVar\" });\n    const { t: tCommon } = useTranslation(\"common\");\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {isFile ? t(\"fileNameMagicVar\") : t(\"pathMagicVar\")}\n            </DialogTitle>\n            <DialogContent>\n                <TableContainer>\n                    <Table size=\"small\" aria-label=\"a dense table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>{t(\"variable\")}</TableCell>\n                                <TableCell>{t(\"description\")}</TableCell>\n                                <TableCell>{t(\"example\")}</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {magicVars.map((m) => {\n                                if (!m.fileOnly || isFile) {\n                                    return (\n                                        <TableRow>\n                                            <TableCell\n                                                component=\"th\"\n                                                scope=\"row\"\n                                            >\n                                                {m.value}\n                                            </TableCell>\n                                            <TableCell>{t(m.des)}</TableCell>\n                                            <TableCell>{m.example}</TableCell>\n                                        </TableRow>\n                                    );\n                                }\n                            })}\n                            {!isFile && (\n                                <TableRow>\n                                    <TableCell component=\"th\" scope=\"row\">\n                                        {\"{path}\"}\n                                    </TableCell>\n                                    <TableCell>{t(\"userUploadPath\")}</TableCell>\n                                    <TableCell>/MyFile/Documents/</TableCell>\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"primary\">\n                    {tCommon(\"close\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","const boolFields = [\"IsOriginLinkEnable\", \"AutoRename\", \"IsPrivate\"];\nconst numberFields = [\"MaxSize\"];\nconst boolFieldsInOptions = [\"placeholder_with_size\", \"s3_path_style\"];\nconst numberFieldsInOptions = [\"chunk_size\", \"tps_limit\", \"tps_limit_burst\"];\nconst listJsonFieldsInOptions = [\"file_type\", \"thumb_exts\"];\n\nexport const transformResponse = (response) => {\n    boolFields.forEach(\n        (field) =>\n            (response.data[field] = response.data[field] ? \"true\" : \"false\")\n    );\n    numberFields.forEach(\n        (field) => (response.data[field] = response.data[field].toString())\n    );\n    boolFieldsInOptions.forEach(\n        (field) =>\n            (response.data.OptionsSerialized[field] = response.data\n                .OptionsSerialized[field]\n                ? \"true\"\n                : \"false\")\n    );\n    numberFieldsInOptions.forEach(\n        (field) =>\n            (response.data.OptionsSerialized[field] = response.data\n                .OptionsSerialized[field]\n                ? response.data.OptionsSerialized[field].toString()\n                : 0)\n    );\n\n    listJsonFieldsInOptions.forEach((field) => {\n        response.data.OptionsSerialized[field] = response.data\n            .OptionsSerialized[field]\n            ? response.data.OptionsSerialized[field].join(\",\")\n            : \"\";\n    });\n    return response;\n};\n\nexport const transformPolicyRequest = (policyCopy) => {\n    boolFields.forEach(\n        (field) => (policyCopy[field] = policyCopy[field] === \"true\")\n    );\n    numberFields.forEach(\n        (field) => (policyCopy[field] = parseInt(policyCopy[field]))\n    );\n    boolFieldsInOptions.forEach(\n        (field) =>\n            (policyCopy.OptionsSerialized[field] =\n                policyCopy.OptionsSerialized[field] === \"true\")\n    );\n    numberFieldsInOptions.forEach(\n        (field) =>\n            (policyCopy.OptionsSerialized[field] = parseInt(\n                policyCopy.OptionsSerialized[field]\n            ))\n    );\n\n    listJsonFieldsInOptions.forEach((field) => {\n        policyCopy.OptionsSerialized[field] =\n            policyCopy.OptionsSerialized[field].split(\",\");\n        if (\n            policyCopy.OptionsSerialized[field].length === 1 &&\n            policyCopy.OptionsSerialized[field][0] === \"\"\n        ) {\n            policyCopy.OptionsSerialized[field] = [];\n        }\n    });\n\n    return policyCopy;\n};\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Select from \"@material-ui/core/Select\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storageBucket\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"corsSettingStep\",\n        optional: true,\n    },\n    {\n        title: \"callbackFunctionStep\",\n        optional: true,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function COSGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"cos\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      placeholder_with_size: \"false\",\n                  },\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n    const [region, setRegion] = useState(\"ap-chengdu\");\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        if (useCDN === \"false\") {\n            policyCopy.BaseURL = policy.Server;\n        }\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then((response) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    const createCORS = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/cors\", {\n            id: policyID,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"corsPolicyAdded\"), \"success\");\n                setActiveStep(5);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const creatCallback = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/scf\", {\n            id: policyID,\n            region: region,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"callbackFunctionAdded\"),\n                    \"success\"\n                );\n                setActiveStep(6);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editCOSStoragePolicy\")\n                    : t(\"addCOSStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.wanSiteURLDes\"}\n                                    components={[<strong key={0} />]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.createCOSBucketDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://console.cloud.tencent.com/cos5\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.cosBucketNameDes\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"qiniuBucketName\")}\n                                    </InputLabel>\n                                    <Input\n                                        inputProps={{\n                                            pattern: \"[a-z0-9-]+-[0-9]+\",\n                                            title: t(\"cosBucketFormatError\"),\n                                        }}\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.cosBucketTypeDes\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"cosPrivateRW\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"cosPublicRW\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.cosAccessDomainDes\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <DomainInput\n                                    value={policy.Server}\n                                    onChange={handleChange(\"Server\")}\n                                    required\n                                    label={t(\"accessDomain\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"cosCDNDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN}\n                                        onChange={(e) => {\n                                            setUseCDN(e.target.value);\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"use\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notUse\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={useCDN === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>6</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    <Trans\n                                        ns={\"dashboard\"}\n                                        i18nKey={\"policy.cosCDNDomainDes\"}\n                                        components={[\n                                            <Link\n                                                key={0}\n                                                href={\n                                                    \"https://console.cloud.tencent.com/cdn/access/guid\"\n                                                }\n                                                target={\"_blank\"}\n                                            />,\n                                        ]}\n                                    />\n                                </Typography>\n                                <div className={classes.form}>\n                                    <DomainInput\n                                        value={policy.BaseURL}\n                                        onChange={handleChange(\"BaseURL\")}\n                                        required={useCDN === \"true\"}\n                                        label={t(\"bucketCDNDomain\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(6, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.cosCredentialDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://console.cloud.tencent.com/cam/capi\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"secretId\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: t(\"shouldNotContainSpace\"),\n                                        }}\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"secretKey\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: t(\"shouldNotContainSpace\"),\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(7, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicyFirst\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContental}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={(e) => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    t(\n                                                        \"cannotEnableForPrivateBucket\"\n                                                    ),\n                                                    \"warning\"\n                                                );\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"createPlaceholderDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={\n                                            policy.OptionsSerialized\n                                                .placeholder_with_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"placeholder_with_size\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"createPlaceholder\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notCreatePlaceholder\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"ossCORSDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => createCORS()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    {t(\"letCloudreveHelpMe\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    (prevActiveStep) => prevActiveStep + 1\n                                );\n                                setSkipped((prevSkipped) => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            {t(\"skip\")}\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <form className={classes.stepContent}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.cosCallbackDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://console.cloud.tencent.com/scf/index?rid=16\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                    ]}\n                                />\n                                <br />\n                                <br />\n                            </Typography>\n                            <Typography variant={\"body2\"}>\n                                {t(\"cosCallbackCreate\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"cosBucketRegion\")}\n                                    </InputLabel>\n                                    <Select\n                                        value={region}\n                                        onChange={(e) =>\n                                            setRegion(e.target.value)\n                                        }\n                                        required\n                                    >\n                                        {[\n                                            \"ap-beijing\",\n                                            \"ap-chengdu\",\n                                            \"ap-guangzhou\",\n                                            \"ap-guangzhou-open\",\n                                            \"ap-hongkong\",\n                                            \"ap-mumbai\",\n                                            \"na-siliconvalley\",\n                                            \"na-toronto\",\n                                        ].map((v) => (\n                                            <MenuItem key={v} value={v}>\n                                                {t(v)}\n                                            </MenuItem>\n                                        ))}\n                                    </Select>\n                                </FormControl>\n                            </div>\n\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => creatCallback()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    {t(\"letCloudreveHelpMe\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    (prevActiveStep) => prevActiveStep + 1\n                                );\n                                setSkipped((prevSkipped) => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            {t(\"skip\")}\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 6 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport { getNumber } from \"../../../../utils\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function LocalGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"local\",\n                  Name: \"\",\n                  DirNameRule: \"uploads/{uid}/{path}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  BaseURL: \"\",\n                  IsPrivate: \"true\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      chunk_size: 25 << 20,\n                  },\n              }\n    );\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const checkPathSetting = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        // 测试路径是否可用\n        API.post(\"/admin/policy/test/path\", {\n            path: policy.DirNameRule,\n        })\n            .then(() => {\n                setActiveStep(1);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 处理存储策略\n        if (useCDN === \"false\" || policy.IsOriginLinkEnable === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editLocalStoragePolicy\")\n                    : t(\"addLocalStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={t(label.title)} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={checkPathSetting}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={handleChange(\n                                            \"IsOriginLinkEnable\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.IsOriginLinkEnable === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"useCDN\")}\n                                    <br />\n                                    {t(\"useCDNDes\")}\n                                </Typography>\n\n                                <div className={classes.form}>\n                                    <FormControl required component=\"fieldset\">\n                                        <RadioGroup\n                                            required\n                                            value={useCDN}\n                                            onChange={(e) => {\n                                                if (\n                                                    e.target.value === \"false\"\n                                                ) {\n                                                    setPolicy({\n                                                        ...policy,\n                                                        BaseURL: \"\",\n                                                    });\n                                                }\n                                                setUseCDN(e.target.value);\n                                            }}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"use\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"notUse\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n\n                        <Collapse in={useCDN === \"true\"}>\n                            <div className={classes.subStepContainer}>\n                                <div className={classes.stepNumberContainer}>\n                                    <div className={classes.stepNumber}>3</div>\n                                </div>\n                                <div className={classes.subStepContent}>\n                                    <Typography variant={\"body2\"}>\n                                        {t(\"cdnDomain\")}\n                                    </Typography>\n\n                                    <div className={classes.form}>\n                                        <DomainInput\n                                            value={policy.BaseURL}\n                                            onChange={handleChange(\"BaseURL\")}\n                                            required={\n                                                policy.IsOriginLinkEnable ===\n                                                    \"true\" && useCDN === \"true\"\n                                            }\n                                            label={t(\"cdnPrefix\")}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </Collapse>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"chunkSizeLabel\")}\n                                <br />\n                                {t(\"chunkSizeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <SizeInput\n                                    value={policy.OptionsSerialized.chunk_size}\n                                    onChange={handleOptionChange(\"chunk_size\")}\n                                    min={0}\n                                    max={9223372036854775807}\n                                    label={t(\"chunkSize\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicy\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"finish\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport AlertDialog from \"../../Dialogs/Alert\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport { getNumber } from \"../../../../utils\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n    },\n}));\n\nconst steps = [\n    {\n        title: \"applicationRegistration\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"grantAccess\",\n        optional: false,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function OneDriveGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\n        props.policy && props.policy.OptionsSerialized.od_proxy\n            ? props.policy.OptionsSerialized.od_proxy !== \"\"\n            : false\n    );\n    const [useSharePoint, setUseSharePoint] = useState(\n        props.policy && props.policy.OptionsSerialized.od_driver\n            ? props.policy.OptionsSerialized.od_driver !== \"\"\n            : false\n    );\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"onedrive\",\n                  Name: \"\",\n                  BucketName: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"https://graph.microsoft.com/v1.0\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      od_redirect: \"\",\n                      od_proxy: \"\",\n                      od_driver: \"\",\n                      chunk_size: 50 << 20,\n                      placeholder_with_size: \"false\",\n                      tps_limit: \"0\",\n                      tps_limit_burst: \"0\",\n                  },\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n    const [httpsAlert, setHttpsAlert] = useState(false);\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: [\"siteURL\"],\n        })\n            .then((response) => {\n                if (!response.data.siteURL.startsWith(\"https://\")) {\n                    setHttpsAlert(true);\n                }\n                if (policy.OptionsSerialized.od_redirect === \"\") {\n                    setPolicy({\n                        ...policy,\n                        OptionsSerialized: {\n                            ...policy.OptionsSerialized,\n                            od_redirect: new URL(\n                                \"/api/v3/callback/onedrive/auth\",\n                                response.data.siteURL\n                            ).toString(),\n                        },\n                    });\n                }\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const statOAuth = () => {\n        setLoading(true);\n        API.get(\"/admin/policy/\" + policyID + \"/oauth\")\n            .then((response) => {\n                window.location.href = response.data;\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                setLoading(false);\n            });\n    };\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // baseURL处理\n        if (policyCopy.Server === \"https://graph.microsoft.com/v1.0\") {\n            policyCopy.BaseURL =\n                \"https://login.microsoftonline.com/common/oauth2/v2.0\";\n        } else {\n            policyCopy.BaseURL = \"https://login.chinacloudapi.cn/common/oauth2\";\n        }\n\n        if (!useCDN) {\n            policyCopy.OptionsSerialized.od_proxy = \"\";\n        }\n\n        if (!useSharePoint) {\n            policyCopy.OptionsSerialized.od_driver = \"\";\n        }\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then((response) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <AlertDialog\n                open={httpsAlert}\n                onClose={() => setHttpsAlert(false)}\n                title={t(\"warning\")}\n                msg={t(\"odHttpsWarning\")}\n            />\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editOdStoragePolicy\")\n                    : t(\"addOdStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.creatAadAppDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                        <Link\n                                            key={1}\n                                            href={\n                                                \"https://portal.azure.cn/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Overview\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                        <code key={2} />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.createAadAppDes2\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.createAadAppDes3\"}\n                                    values={{\n                                        url: policy.OptionsSerialized\n                                            .od_redirect,\n                                    }}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                        <code key={2} />,\n                                        <code key={3} />,\n                                        <code key={4} />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.aadAppIDDes\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"aadAppID\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.addAppSecretDes\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                        <code key={2} />,\n                                        <code key={3} />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"aadAppSecret\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>6</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"aadAccountCloudDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\n                                                \"https://graph.microsoft.com/v1.0\"\n                                            }\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"multiTenant\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\n                                                \"https://microsoftgraph.chinacloudapi.cn/v1.0\"\n                                            }\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"gallatin\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>7</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"sharePointDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useSharePoint.toString()}\n                                        onChange={(e) => {\n                                            setUseSharePoint(\n                                                e.target.value === \"true\"\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"saveToSharePoint\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"saveToOneDrive\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                            <Collapse in={useSharePoint}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"spSiteURL\")}\n                                        </InputLabel>\n                                        <Input\n                                            placeholder={\n                                                \"https://example.sharepoint.com/sites/demo\"\n                                            }\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_driver\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_driver\"\n                                            )}\n                                            required={useSharePoint}\n                                            label={t(\"spSiteURL\")}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>8</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"odReverseProxyURLDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN.toString()}\n                                        onChange={(e) => {\n                                            setUseCDN(\n                                                e.target.value === \"true\"\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"use\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notUse\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                            <Collapse in={useCDN}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <DomainInput\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_proxy\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_proxy\"\n                                            )}\n                                            required={useCDN}\n                                            label={t(\"odReverseProxyURL\")}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>9</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicyFirst\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={(e) => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    t(\n                                                        \"cannotEnableForPrivateBucket\"\n                                                    ),\n                                                    \"warning\"\n                                                );\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"chunkSizeLabelOd\")}\n                                <br />\n                                {t(\"chunkSizeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <SizeInput\n                                    value={policy.OptionsSerialized.chunk_size}\n                                    onChange={handleOptionChange(\"chunk_size\")}\n                                    min={0}\n                                    max={9223372036854775807}\n                                    label={t(\"chunkSize\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(4, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"createPlaceholderDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={\n                                            policy.OptionsSerialized\n                                                .placeholder_with_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"placeholder_with_size\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"createPlaceholder\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notCreatePlaceholder\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(5, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitOdTPSDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            parseFloat(\n                                                policy.OptionsSerialized\n                                                    .tps_limit\n                                            ) === 0\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        tps_limit: \"5.0\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        tps_limit: \"0\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse\n                                in={\n                                    parseFloat(\n                                        policy.OptionsSerialized.tps_limit\n                                    ) !== 0\n                                }\n                            >\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"tps\")}\n                                        </InputLabel>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                step: 0.1,\n                                            }}\n                                            required\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .tps_limit\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"tps_limit\"\n                                            )}\n                                        />\n                                        <FormHelperText>\n                                            {t(\"tpsDes\")}\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"tpsBurst\")}\n                                        </InputLabel>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                step: 1,\n                                            }}\n                                            required\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .tps_limit_burst\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"tps_limit_burst\"\n                                            )}\n                                        />\n                                        <FormHelperText>\n                                            {t(\"tpsBurstDes\")}\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(4)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {props.policy\n                                    ? t(\"policySaved\")\n                                    : t(\"policyAdded\")}\n                            </Typography>\n                            <Typography variant={\"body2\"}>\n                                {t(\"odOauthDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={statOAuth}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    {t(\"gotoAuthPage\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}></div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storageBucket\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"corsSettingStep\",\n        optional: true,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function OSSGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [useLanEndpoint, setUseLanEndpoint] = useState(\n        props.policy && props.policy.OptionsSerialized.server_side_endpoint\n            ? props.policy.OptionsSerialized.server_side_endpoint !== \"\"\n            : false\n    );\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"oss\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      server_side_endpoint: \"\",\n                      chunk_size: 25 << 20,\n                      placeholder_with_size: \"false\",\n                  },\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        if (useCDN === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        if (!useLanEndpoint) {\n            policyCopy.OptionsSerialized.server_side_endpoint = \"\";\n        }\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then((response) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    const createCORS = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/cors\", {\n            id: policyID,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"corsPolicyAdded\"), \"success\");\n                setActiveStep(5);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editOSSStoragePolicy\")\n                    : t(\"addOSSStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.wanSiteURLDes\"}\n                                    components={[<strong key={0} />]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.createOSSBucketDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://oss.console.aliyun.com/overview\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                        <code key={1} />,\n                                        <code key={2} />,\n                                        <code key={3} />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.ossBucketNameDes\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"bucketName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"bucketTypeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"privateBucket\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"publicReadBucket\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.ossEndpointDes\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                        <code key={2} />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"endpoint\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                        inputProps={{\n                                            pattern:\n                                                \"(?:(?:(?<thld>[\\\\w\\\\-]*)(?:\\\\.))?(?<sld>[\\\\w\\\\-]*))\\\\.(?<tld>[\\\\w\\\\-]*)\",\n                                            title: t(\"endpointDomainOnly\"),\n                                        }}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"ossLANEndpointDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useLanEndpoint.toString()}\n                                        onChange={(e) => {\n                                            setUseLanEndpoint(\n                                                e.target.value === \"true\"\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"use\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notUse\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                            <Collapse in={useLanEndpoint}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"intranetEndPoint\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={useLanEndpoint}\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .server_side_endpoint\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"server_side_endpoint\"\n                                            )}\n                                            inputProps={{\n                                                pattern:\n                                                    \"(?:(?:(?<thld>[\\\\w\\\\-]*)(?:\\\\.))?(?<sld>[\\\\w\\\\-]*))\\\\.(?<tld>[\\\\w\\\\-]*)\",\n                                                title: t(\"endpointDomainOnly\"),\n                                            }}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>6</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"ossCDNDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN}\n                                        onChange={(e) => {\n                                            setUseCDN(e.target.value);\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"use\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notUse\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={useCDN === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>7</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    <Trans\n                                        ns={\"dashboard\"}\n                                        i18nKey={\"policy.createOSSCDNDes\"}\n                                        components={[\n                                            <Link\n                                                key={0}\n                                                href={\n                                                    \"https://cdn.console.aliyun.com/domain/list\"\n                                                }\n                                                target={\"_blank\"}\n                                            />,\n                                        ]}\n                                    />\n                                </Typography>\n                                <div className={classes.form}>\n                                    <DomainInput\n                                        value={policy.BaseURL}\n                                        onChange={handleChange(\"BaseURL\")}\n                                        required={useCDN === \"true\"}\n                                        label={t(\"bucketCDNDomain\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(7, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.ossAKDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://usercenter.console.aliyun.com/#/manage/ak\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        AccessKey ID\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: t(\"shouldNotContainSpace\"),\n                                        }}\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        Access Key Secret\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: t(\"shouldNotContainSpace\"),\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(8, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicyFirst\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={(e) => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    t(\n                                                        \"cannotEnableForPrivateBucket\"\n                                                    ),\n                                                    \"warning\"\n                                                );\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"chunkSizeLabelOSS\")}\n                                <br />\n                                {t(\"chunkSizeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <SizeInput\n                                    value={policy.OptionsSerialized.chunk_size}\n                                    onChange={handleOptionChange(\"chunk_size\")}\n                                    min={100 * 1024}\n                                    max={5368709120}\n                                    label={t(\"chunkSize\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(4, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"createPlaceholderDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={\n                                            policy.OptionsSerialized\n                                                .placeholder_with_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"placeholder_with_size\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"createPlaceholder\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notCreatePlaceholder\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"ossCORSDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => createCORS()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    {t(\"letCloudreveHelpMe\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    (prevActiveStep) => prevActiveStep + 1\n                                );\n                                setSkipped((prevSkipped) => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            {t(\"skip\")}\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storageBucket\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function RemoteGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    // const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"qiniu\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      mimetype: \"\",\n                      chunk_size: 25 << 20,\n                      placeholder_with_size: \"false\",\n                  },\n              }\n    );\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(5);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editQiniuStoragePolicy\")\n                    : t(\"addQiniuStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.wanSiteURLDes\"}\n                                    components={[<strong key={0} />]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.createQiniuBucket\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://portal.qiniu.com/create\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enterQiniuBucket\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"qiniuBucketName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"bucketTypeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"privateBucket\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"publicBucket\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"bucketCDNDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <DomainInput\n                                    value={policy.BaseURL}\n                                    onChange={handleChange(\"BaseURL\")}\n                                    required\n                                    label={t(\"bucketCDNDomain\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"qiniuCredentialDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"ak\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"sk\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={(e) => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    t(\n                                                        \"cannotEnableForPrivateBucket\"\n                                                    ),\n                                                    \"warning\"\n                                                );\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(4);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitMimeType\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .mimetype === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        mimetype: \"image/*\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        mimetype: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.mimetype !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {getNumber(4, [\n                                        policy.MaxSize !== \"0\",\n                                        policy.OptionsSerialized.file_type !==\n                                            \"\",\n                                    ])}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"mimeTypeDes\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"mimeTypeList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .mimetype\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"mimetype\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(4, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                    policy.OptionsSerialized.mimetype !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"chunkSizeLabelQiniu\")}\n                                <br />\n                                {t(\"chunkSizeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <SizeInput\n                                    value={policy.OptionsSerialized.chunk_size}\n                                    onChange={handleOptionChange(\"chunk_size\")}\n                                    min={1 << 20}\n                                    max={1024 << 20}\n                                    label={t(\"chunkSize\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(5, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                    policy.OptionsSerialized.mimetype !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"createPlaceholderDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={\n                                            policy.OptionsSerialized\n                                                .placeholder_with_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"placeholder_with_size\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"createPlaceholder\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notCreatePlaceholder\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicy\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(3)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"finish\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport { getNumber, randomStr } from \"../../../../utils\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontSize: \"14px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\",\n        },\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storageNode\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function RemoteGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"remote\",\n                  Name: \"\",\n                  Server: \"https://example.com:5212\",\n                  SecretKey: randomStr(64),\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  BaseURL: \"\",\n                  IsPrivate: \"true\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      chunk_size: 25 << 20,\n                  },\n              }\n    );\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const testSlave = () => {\n        setLoading(true);\n\n        // 测试路径是否可用\n        API.post(\"/admin/policy/test/slave\", {\n            server: policy.Server,\n            secret: policy.SecretKey,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"communicationOK\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 处理存储策略\n        if (useCDN === \"false\" || policy.IsOriginLinkEnable === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(5);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editRemoteStoragePolicy\")\n                    : t(\"addRemoteStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <Alert severity=\"info\" style={{ marginBottom: 10 }}>\n                        {t(\"remoteDescription\")}\n                    </Alert>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"remoteCopyBinaryDescription\")}\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"remoteSecretDescription\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"remoteSecret\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            minlength: 64,\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"modifyRemoteConfig\")}\n                                <br />\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.addRemoteConfigDes\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <pre>\n                                [System]\n                                <br />\n                                Mode = slave\n                                <br />\n                                Listen = :5212\n                                <br />\n                                <br />\n                                [Slave]\n                                <br />\n                                Secret = {policy.SecretKey}\n                                <br />\n                                <br />\n                                [CORS]\n                                <br />\n                                AllowOrigins = *<br />\n                                AllowMethods = OPTIONS,GET,POST\n                                <br />\n                                AllowHeaders = *<br />\n                            </pre>\n                            <Typography variant={\"body2\"}>\n                                {t(\"remoteConfigDifference\")}\n                                <ul>\n                                    <li>\n                                        <Trans\n                                            ns={\"dashboard\"}\n                                            i18nKey={\n                                                \"policy.remoteConfigDifference1\"\n                                            }\n                                            components={[\n                                                <code key={0} />,\n                                                <code key={1} />,\n                                                <code key={2} />,\n                                            ]}\n                                        />\n                                    </li>\n                                    <li>\n                                        <Trans\n                                            ns={\"dashboard\"}\n                                            i18nKey={\n                                                \"policy.remoteConfigDifference2\"\n                                            }\n                                            components={[\n                                                <code key={0} />,\n                                                <code key={1} />,\n                                            ]}\n                                        />\n                                    </li>\n                                    <li>\n                                        <Trans\n                                            ns={\"dashboard\"}\n                                            i18nKey={\n                                                \"policy.remoteConfigDifference3\"\n                                            }\n                                            components={[<code key={0} />]}\n                                        />\n                                    </li>\n                                </ul>\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"inputRemoteAddress\")}\n                                <br />\n                                {t(\"inputRemoteAddressDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"remoteAddress\")}\n                                    </InputLabel>\n                                    <Input\n                                        fullWidth\n                                        required\n                                        type={\"url\"}\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"testCommunicationDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    onClick={() => testSlave()}\n                                    variant={\"outlined\"}\n                                    color={\"primary\"}\n                                >\n                                    {t(\"testCommunication\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                是否需要对存储的物理文件进行重命名？此处的重命名不会影响最终呈现给用户的\n                                文件名。文件名也可使用魔法变量，\n                                可用魔法变量可参考{\" \"}\n                                <Link\n                                    color={\"secondary\"}\n                                    onClick={(e) => {\n                                        e.preventDefault();\n                                        setMagicVar(\"file\");\n                                    }}\n                                >\n                                    文件名魔法变量列表\n                                </Link>{\" \"}\n                                。\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={handleChange(\n                                            \"IsOriginLinkEnable\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.IsOriginLinkEnable === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"useCDN\")}\n                                    <br />\n                                    {t(\"useCDNDes\")}\n                                </Typography>\n\n                                <div className={classes.form}>\n                                    <FormControl required component=\"fieldset\">\n                                        <RadioGroup\n                                            required\n                                            value={useCDN}\n                                            onChange={(e) => {\n                                                if (\n                                                    e.target.value === \"false\"\n                                                ) {\n                                                    setPolicy({\n                                                        ...policy,\n                                                        BaseURL: \"\",\n                                                    });\n                                                }\n                                                setUseCDN(e.target.value);\n                                            }}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"use\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"notUse\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n\n                        <Collapse in={useCDN === \"true\"}>\n                            <div className={classes.subStepContainer}>\n                                <div className={classes.stepNumberContainer}>\n                                    <div className={classes.stepNumber}>3</div>\n                                </div>\n                                <div className={classes.subStepContent}>\n                                    <Typography variant={\"body2\"}>\n                                        {t(\"cdnDomain\")}\n                                    </Typography>\n\n                                    <div className={classes.form}>\n                                        <DomainInput\n                                            value={policy.BaseURL}\n                                            onChange={handleChange(\"BaseURL\")}\n                                            required={\n                                                policy.IsOriginLinkEnable ===\n                                                    \"true\" && useCDN === \"true\"\n                                            }\n                                            label={t(\"cdnPrefix\")}\n                                        />\n                                    </div>\n                                </div>\n                            </div>\n                        </Collapse>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(4);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"chunkSizeLabel\")}\n                                <br />\n                                {t(\"chunkSizeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <SizeInput\n                                    value={policy.OptionsSerialized.chunk_size}\n                                    onChange={handleOptionChange(\"chunk_size\")}\n                                    min={0}\n                                    max={9223372036854775807}\n                                    label={t(\"chunkSize\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}></div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicy\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(3)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"finish\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                isSlave\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                isSlave\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Link from \"@material-ui/core/Link\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storageBucket\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nexport default function UpyunGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [skipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"upyun\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  IsPrivate: \"false\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      token: \"\",\n                  },\n              }\n    );\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(5);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editUpyunStoragePolicy\")\n                    : t(\"addUpyunStoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">可选</Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>0</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.wanSiteURLDes\"}\n                                    components={[<strong key={0} />]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.createUpyunBucketDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            href={\n                                                \"https://console.upyun.com/services/create/file/\"\n                                            }\n                                            target={\"_blank\"}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"storageServiceNameDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"storageServiceName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"operatorNameDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"operatorName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"operatorPassword\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"upyunCDNDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <DomainInput\n                                    value={policy.BaseURL}\n                                    onChange={handleChange(\"BaseURL\")}\n                                    required\n                                    label={t(\"bucketCDNDomain\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"upyunOptionalDes\")}\n                                <br />\n                                {t(\"upyunTokenDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"tokenEnabled\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"tokenDisabled\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.IsPrivate === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>6</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"upyunTokenSecretDes\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"upyunTokenSecret\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized.token\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"token\"\n                                            )}\n                                            required={\n                                                policy.IsPrivate === \"true\"\n                                            }\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={(e) => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    t(\n                                                        \"cannotEnableForTokenProtectedBucket\"\n                                                    ),\n                                                    \"warning\"\n                                                );\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(4);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}></div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicy\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(3)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"finish\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Step from \"@material-ui/core/Step\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport Link from \"@material-ui/core/Link\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Button from \"@material-ui/core/Button\";\nimport API from \"../../../../middleware/Api\";\nimport MagicVar from \"../../Dialogs/MagicVar\";\nimport DomainInput from \"../../Common/DomainInput\";\nimport SizeInput from \"../../Common/SizeInput\";\nimport { useHistory } from \"react-router\";\nimport { getNumber } from \"../../../../utils\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport AlertDialog from \"../../Dialogs/Alert\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\",\n        },\n    },\n}));\n\nconst steps = [\n    {\n        title: \"storageBucket\",\n        optional: false,\n    },\n    {\n        title: \"storagePathStep\",\n        optional: false,\n    },\n    {\n        title: \"sourceLinkStep\",\n        optional: false,\n    },\n    {\n        title: \"uploadSettingStep\",\n        optional: false,\n    },\n    {\n        title: \"corsSettingStep\",\n        optional: true,\n    },\n    {\n        title: \"finishStep\",\n        optional: false,\n    },\n];\n\nconst regions = {\n    \"us-east-2\": \"US East (Ohio)\",\n    \"us-east-1\": \"US East (N. Virginia)\",\n    \"us-west-1\": \"US West (N. California)\",\n    \"us-west-2\": \"US West (Oregon)\",\n    \"af-south-1\": \"Africa (Cape Town)\",\n    \"ap-east-1\": \"Asia Pacific (Hong Kong)\",\n    \"ap-south-1\": \"Asia Pacific (Mumbai)\",\n    \"ap-northeast-3\": \"Asia Pacific (Osaka-Local)\",\n    \"ap-northeast-2\": \"Asia Pacific (Seoul)\",\n    \"ap-southeast-1\": \"Asia Pacific (Singapore)\",\n    \"ap-southeast-2\": \"Asia Pacific (Sydney)\",\n    \"ap-northeast-1\": \"Asia Pacific (Tokyo)\",\n    \"ca-central-1\": \"Canada (Central)\",\n    \"cn-north-1\": \"China (Beijing)\",\n    \"cn-northwest-1\": \"China (Ningxia)\",\n    \"eu-central-1\": \"Europe (Frankfurt)\",\n    \"eu-west-1\": \"Europe (Ireland)\",\n    \"eu-west-2\": \"Europe (London)\",\n    \"eu-south-1\": \"Europe (Milan)\",\n    \"eu-west-3\": \"Europe (Paris)\",\n    \"eu-north-1\": \"Europe (Stockholm)\",\n    \"me-south-1\": \"Middle East (Bahrain)\",\n    \"sa-east-1\": \"South America (São Paulo)\",\n};\n\nexport default function S3Guide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    const [activeStep, setActiveStep] = useState(0);\n    const [loading, setLoading] = useState(false);\n    const [alertOpen, setAlertOpen] = useState(true);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [magicVar, setMagicVar] = useState(\"\");\n    const [useCDN, setUseCDN] = useState(\"false\");\n    const [policy, setPolicy] = useState(\n        props.policy\n            ? props.policy\n            : {\n                  Type: \"s3\",\n                  Name: \"\",\n                  SecretKey: \"\",\n                  AccessKey: \"\",\n                  BaseURL: \"\",\n                  Server: \"\",\n                  IsPrivate: \"true\",\n                  DirNameRule: \"uploads/{year}/{month}/{day}\",\n                  AutoRename: \"true\",\n                  FileNameRule: \"{randomkey8}_{originname}\",\n                  IsOriginLinkEnable: \"false\",\n                  MaxSize: \"0\",\n                  OptionsSerialized: {\n                      file_type: \"\",\n                      region: \"us-east-2\",\n                      chunk_size: 25 << 20,\n                      placeholder_with_size: \"false\",\n                      s3_path_style: \"true\",\n                  },\n              }\n    );\n    const [policyID, setPolicyID] = useState(\n        props.policy ? props.policy.ID : 0\n    );\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        if (useCDN === \"false\") {\n            policyCopy.BaseURL = \"\";\n        }\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then((response) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n                setActiveStep(4);\n                setPolicyID(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    const createCORS = () => {\n        setLoading(true);\n        API.post(\"/admin/policy/cors\", {\n            id: policyID,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"corsPolicyAdded\"), \"success\");\n                setActiveStep(5);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <AlertDialog\n                open={alertOpen}\n                onClose={() => setAlertOpen(false)}\n                title={t(\"warning\")}\n                msg={t(\"s3SelfHostWarning\")}\n            />\n            <Typography variant={\"h6\"}>\n                {props.policy\n                    ? t(\"editS3StoragePolicy\")\n                    : t(\"addS3StoragePolicy\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {steps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {t(\"optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    return (\n                        <Step key={label.title} {...stepProps}>\n                            <StepLabel {...labelProps}>\n                                {t(label.title)}\n                            </StepLabel>\n                        </Step>\n                    );\n                })}\n            </Stepper>\n\n            {activeStep === 0 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(1);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.s3BucketDes\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"bucketName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.BucketName}\n                                        onChange={handleChange(\"BucketName\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"bucketTypeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsPrivate}\n                                        onChange={handleChange(\"IsPrivate\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"publicAccessDisabled\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"publicAccessEnabled\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>3</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.s3EndpointDes\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"endpoint\")}\n                                    </InputLabel>\n                                    <Input\n                                        value={policy.Server}\n                                        onChange={handleChange(\"Server\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>4</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.s3EndpointPathStyle\"}\n                                    components={[<code key={0} />]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .s3_path_style\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"s3_path_style\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"usePathEndpoint\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"useHostnameEndpoint\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>5</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"selectRegionDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <Autocomplete\n                                        options={Object.keys(regions)}\n                                        freeSolo\n                                        value={policy.OptionsSerialized.region}\n                                        onInputChange={(_, value) =>\n                                            handleOptionChange(\"region\")({\n                                                target: { value: value },\n                                            })\n                                        }\n                                        renderOption={(option) => (\n                                            <React.Fragment>\n                                                {regions[option]}\n                                            </React.Fragment>\n                                        )}\n                                        renderInput={(params) => (\n                                            <TextField\n                                                style={{ width: \"100%\" }}\n                                                {...params}\n                                            />\n                                        )}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>6</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"useCDN\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={useCDN}\n                                        onChange={(e) => {\n                                            setUseCDN(e.target.value);\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"use\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notUse\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={useCDN === \"true\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>7</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"bucketCDNDomain\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <DomainInput\n                                        value={policy.BaseURL}\n                                        onChange={handleChange(\"BaseURL\")}\n                                        required={useCDN === \"true\"}\n                                        label={t(\"bucketCDNDomain\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(7, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enterAccessCredentials\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"accessKey\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: t(\"shouldNotContainSpace\"),\n                                        }}\n                                        value={policy.AccessKey}\n                                        onChange={handleChange(\"AccessKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"secretKey\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        inputProps={{\n                                            pattern: \"\\\\S+\",\n                                            title: t(\"shouldNotContainSpace\"),\n                                        }}\n                                        value={policy.SecretKey}\n                                        onChange={handleChange(\"SecretKey\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(8, [useCDN === \"true\"])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"nameThePolicyFirst\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"policyName\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.Name}\n                                        onChange={handleChange(\"Name\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 1 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(2);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.pathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"path\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"pathOfFolderToStoreFiles\")}\n                                    </InputLabel>\n                                    <Input\n                                        required\n                                        value={policy.DirNameRule}\n                                        onChange={handleChange(\"DirNameRule\")}\n                                    />\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>2</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.filePathMagicVarDes\"}\n                                    components={[\n                                        <Link\n                                            key={0}\n                                            color={\"secondary\"}\n                                            href={\"javascript:void()\"}\n                                            onClick={() => setMagicVar(\"file\")}\n                                        />,\n                                    ]}\n                                />\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={policy.AutoRename}\n                                        onChange={handleChange(\"AutoRename\")}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"autoRenameStoredFile\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"keepOriginalFileName\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n\n                            <Collapse in={policy.AutoRename === \"true\"}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"renameRule\")}\n                                        </InputLabel>\n                                        <Input\n                                            required={\n                                                policy.AutoRename === \"true\"\n                                            }\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </Collapse>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(0)}\n                        >\n                            {t(\"back\")}\n                        </Button>\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 2 && (\n                <form\n                    className={classes.stepContent}\n                    onSubmit={(e) => {\n                        e.preventDefault();\n                        setActiveStep(3);\n                    }}\n                >\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"enableGettingPermanentSourceLink\")}\n                                <br />\n                                {t(\"enableGettingPermanentSourceLinkDes\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={policy.IsOriginLinkEnable}\n                                        onChange={(e) => {\n                                            if (\n                                                policy.IsPrivate === \"true\" &&\n                                                e.target.value === \"true\"\n                                            ) {\n                                                ToggleSnackbar(\n                                                    \"top\",\n                                                    \"right\",\n                                                    t(\n                                                        \"cannotEnableForPrivateBucket\"\n                                                    ),\n                                                    \"warning\"\n                                                );\n                                            }\n                                            handleChange(\"IsOriginLinkEnable\")(\n                                                e\n                                            );\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"allowed\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"forbidden\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(1)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 3 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>1</div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileSize\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.MaxSize === \"0\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"10485760\",\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    MaxSize: \"0\",\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.MaxSize !== \"0\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>2</div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterSizeLimit\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <SizeInput\n                                        value={policy.MaxSize}\n                                        onChange={handleChange(\"MaxSize\")}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"maxSizeOfSingleFile\")}\n                                    />\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {policy.MaxSize !== \"0\" ? \"3\" : \"2\"}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"limitFileExt\")}\n                            </Typography>\n\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        required\n                                        value={\n                                            policy.OptionsSerialized\n                                                .file_type === \"\"\n                                                ? \"false\"\n                                                : \"true\"\n                                        }\n                                        onChange={(e) => {\n                                            if (e.target.value === \"true\") {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type:\n                                                            \"jpg,png,mp4,zip,rar\",\n                                                    },\n                                                });\n                                            } else {\n                                                setPolicy({\n                                                    ...policy,\n                                                    OptionsSerialized: {\n                                                        ...policy.OptionsSerialized,\n                                                        file_type: \"\",\n                                                    },\n                                                });\n                                            }\n                                        }}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"limit\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notLimit\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Collapse in={policy.OptionsSerialized.file_type !== \"\"}>\n                        <div className={classes.subStepContainer}>\n                            <div className={classes.stepNumberContainer}>\n                                <div className={classes.stepNumber}>\n                                    {policy.MaxSize !== \"0\" ? \"4\" : \"3\"}\n                                </div>\n                            </div>\n                            <div className={classes.subStepContent}>\n                                <Typography variant={\"body2\"}>\n                                    {t(\"enterFileExt\")}\n                                </Typography>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"extList\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </Collapse>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(3, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"chunkSizeLabelS3\")}\n                                <br />\n                                {t(\"chunkSizeDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <SizeInput\n                                    value={policy.OptionsSerialized.chunk_size}\n                                    onChange={handleOptionChange(\"chunk_size\")}\n                                    min={5 << 20}\n                                    max={53687091200}\n                                    label={t(\"chunkSize\")}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer}>\n                            <div className={classes.stepNumber}>\n                                {getNumber(4, [\n                                    policy.MaxSize !== \"0\",\n                                    policy.OptionsSerialized.file_type !== \"\",\n                                ])}\n                            </div>\n                        </div>\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"createPlaceholderDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <FormControl required component=\"fieldset\">\n                                    <RadioGroup\n                                        aria-label=\"gender\"\n                                        name=\"gender1\"\n                                        value={\n                                            policy.OptionsSerialized\n                                                .placeholder_with_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"placeholder_with_size\"\n                                        )}\n                                        row\n                                    >\n                                        <FormControlLabel\n                                            value={\"true\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"createPlaceholder\")}\n                                        />\n                                        <FormControlLabel\n                                            value={\"false\"}\n                                            control={\n                                                <Radio color={\"primary\"} />\n                                            }\n                                            label={t(\"notCreatePlaceholder\")}\n                                        />\n                                    </RadioGroup>\n                                </FormControl>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => setActiveStep(2)}\n                        >\n                            {t(\"back\")}\n                        </Button>{\" \"}\n                        <Button\n                            disabled={loading}\n                            type={\"submit\"}\n                            variant={\"contained\"}\n                            color={\"primary\"}\n                        >\n                            {t(\"next\")}\n                        </Button>\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 4 && (\n                <form className={classes.stepContent} onSubmit={submitPolicy}>\n                    <div className={classes.subStepContainer}>\n                        <div className={classes.stepNumberContainer} />\n                        <div className={classes.subStepContent}>\n                            <Typography variant={\"body2\"}>\n                                {t(\"ossCORSDes\")}\n                            </Typography>\n                            <div className={classes.form}>\n                                <Button\n                                    disabled={loading}\n                                    color={\"secondary\"}\n                                    variant={\"contained\"}\n                                    className={classes.button}\n                                    onClick={() => createCORS()}\n                                    classes={{ label: classes.viewButtonLabel }}\n                                >\n                                    {t(\"letCloudreveHelpMe\")}\n                                </Button>\n                            </div>\n                        </div>\n                    </div>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"default\"}\n                            className={classes.button}\n                            onClick={() => {\n                                setActiveStep(\n                                    (prevActiveStep) => prevActiveStep + 1\n                                );\n                                setSkipped((prevSkipped) => {\n                                    const newSkipped = new Set(\n                                        prevSkipped.values()\n                                    );\n                                    newSkipped.add(activeStep);\n                                    return newSkipped;\n                                });\n                            }}\n                        >\n                            {t(\"skip\")}\n                        </Button>{\" \"}\n                    </div>\n                </form>\n            )}\n\n            {activeStep === 5 && (\n                <>\n                    <form className={classes.stepContent}>\n                        <Typography>\n                            {props.policy ? t(\"policySaved\") : t(\"policyAdded\")}\n                        </Typography>\n                        <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                            {t(\"furtherActions\")}\n                        </Typography>\n                    </form>\n                    <div className={classes.stepFooter}>\n                        <Button\n                            color={\"primary\"}\n                            className={classes.button}\n                            onClick={() => history.push(\"/admin/policy\")}\n                        >\n                            {t(\"backToList\")}\n                        </Button>\n                    </div>\n                </>\n            )}\n\n            <MagicVar\n                open={magicVar === \"file\"}\n                isFile\n                onClose={() => setMagicVar(\"\")}\n            />\n            <MagicVar\n                open={magicVar === \"path\"}\n                onClose={() => setMagicVar(\"\")}\n            />\n        </div>\n    );\n}\n","import Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { useParams } from \"react-router\";\nimport COSGuide from \"./Guid/COSGuide\";\nimport LocalGuide from \"./Guid/LocalGuide\";\nimport OneDriveGuide from \"./Guid/OneDriveGuide\";\nimport OSSGuide from \"./Guid/OSSGuide\";\nimport QiniuGuide from \"./Guid/QiniuGuide\";\nimport RemoteGuide from \"./Guid/RemoteGuide\";\nimport UpyunGuide from \"./Guid/UpyunGuide\";\nimport S3Guide from \"./Guid/S3Guide\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function AddPolicyParent() {\n    const classes = useStyles();\n\n    const { type } = useParams();\n\n    return (\n        <div>\n            <Paper square className={classes.content}>\n                {type === \"local\" && <LocalGuide />}\n                {type === \"remote\" && <RemoteGuide />}\n                {type === \"qiniu\" && <QiniuGuide />}\n                {type === \"oss\" && <OSSGuide />}\n                {type === \"upyun\" && <UpyunGuide />}\n                {type === \"cos\" && <COSGuide />}\n                {type === \"onedrive\" && <OneDriveGuide />}\n                {type === \"s3\" && <S3Guide />}\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport API from \"../../../../middleware/Api\";\nimport { useTranslation } from \"react-i18next\";\nimport { transformPolicyRequest } from \"../utils\";\n\nexport default function EditPro(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"policy\" });\n    const [, setLoading] = useState(false);\n    const [policy, setPolicy] = useState(props.policy);\n\n    const handleChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setPolicy({\n            ...policy,\n            OptionsSerialized: {\n                ...policy.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submitPolicy = (e) => {\n        e.preventDefault();\n        setLoading(true);\n\n        let policyCopy = { ...policy };\n        policyCopy.OptionsSerialized = { ...policyCopy.OptionsSerialized };\n\n        // 类型转换\n        policyCopy = transformPolicyRequest(policyCopy);\n\n        API.post(\"/admin/policy\", {\n            policy: policyCopy,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.policy ? t(\"policySaved\") : t(\"policyAdded\"),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n\n        setLoading(false);\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>{t(\"editPolicy\")}</Typography>\n            <TableContainer>\n                <form onSubmit={submitPolicy}>\n                    <Table aria-label=\"simple table\">\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>{t(\"setting\")}</TableCell>\n                                <TableCell>{t(\"value\")}</TableCell>\n                                <TableCell>{t(\"description\")}</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"id\")}\n                                </TableCell>\n                                <TableCell>{policy.ID}</TableCell>\n                                <TableCell>{t(\"policyID\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"type\")}\n                                </TableCell>\n                                <TableCell>{policy.Type}</TableCell>\n                                <TableCell>{t(\"policyType\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"name\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            required\n                                            value={policy.Name}\n                                            onChange={handleChange(\"Name\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"policyName\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"server\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            value={policy.Server}\n                                            onChange={handleChange(\"Server\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"policyEndpoint\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"bucketName\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            value={policy.BucketName}\n                                            onChange={handleChange(\n                                                \"BucketName\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"bucketID\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"privateBucket\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={policy.IsPrivate}\n                                            onChange={handleChange(\"IsPrivate\")}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"yes\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"no\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"privateBucketDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"resourceRootURL\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            value={policy.BaseURL}\n                                            onChange={handleChange(\"BaseURL\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"resourceRootURLDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"accessKey\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            rowsMax={10}\n                                            value={policy.AccessKey}\n                                            onChange={handleChange(\"AccessKey\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"akDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"secretKey\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            rowsMax={10}\n                                            value={policy.SecretKey}\n                                            onChange={handleChange(\"SecretKey\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"secretKey\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"maxSizeBytes\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                min: 0,\n                                                step: 1,\n                                            }}\n                                            value={policy.MaxSize}\n                                            onChange={handleChange(\"MaxSize\")}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"maxSizeBytesDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"autoRename\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={policy.AutoRename}\n                                            onChange={handleChange(\n                                                \"AutoRename\"\n                                            )}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"yes\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"no\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"autoRenameDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"storagePath\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={policy.DirNameRule}\n                                            onChange={handleChange(\n                                                \"DirNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"storagePathDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"fileName\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={policy.FileNameRule}\n                                            onChange={handleChange(\n                                                \"FileNameRule\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"fileNameDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"allowGetSourceLink\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={policy.IsOriginLinkEnable}\n                                            onChange={handleChange(\n                                                \"IsOriginLinkEnable\"\n                                            )}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"yes\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"no\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    {t(\"allowGetSourceLinkDes\")}\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"upyunToken\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized.token\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"token\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"upyunOnly\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"allowedFileExtension\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .file_type\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"file_type\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"emptyIsNoLimit\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"allowedMimetype\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .mimetype\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"mimetype\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"qiniuOnly\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"odRedirectURL\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_redirect\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_redirect\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    {t(\"noModificationNeeded\")}\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"odReverseProxy\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_proxy\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_proxy\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"odOnly\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"odDriverID\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .od_driver\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"od_driver\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"odDriverIDDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"s3Region\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized.region\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"region\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"s3Only\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"lanEndpoint\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .server_side_endpoint\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"server_side_endpoint\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"ossOnly\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"chunkSizeBytes\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                min: 0,\n                                                step: 1,\n                                            }}\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .chunk_size\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"chunk_size\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"chunkSizeBytesDes\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"placeHolderWithSize\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .placeholder_with_size\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"placeholder_with_size\"\n                                            )}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"yes\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"no\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>\n                                    {t(\"placeHolderWithSizeDes\")}\n                                </TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"tps\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                step: 0.1,\n                                            }}\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .tps_limit\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"tps_limit\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"odOnly\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"tpsBurst\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            type={\"number\"}\n                                            inputProps={{\n                                                step: 1,\n                                            }}\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .tps_limit_burst\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"tps_limit_burst\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"odOnly\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"usePathEndpoint\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <RadioGroup\n                                            required\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .s3_path_style\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"s3_path_style\"\n                                            )}\n                                            row\n                                        >\n                                            <FormControlLabel\n                                                value={\"true\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"yes\")}\n                                            />\n                                            <FormControlLabel\n                                                value={\"false\"}\n                                                control={\n                                                    <Radio color={\"primary\"} />\n                                                }\n                                                label={t(\"no\")}\n                                            />\n                                        </RadioGroup>\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"s3Only\")}</TableCell>\n                            </TableRow>\n                            <TableRow>\n                                <TableCell component=\"th\" scope=\"row\">\n                                    {t(\"allowedFileExtension\")}\n                                </TableCell>\n                                <TableCell>\n                                    <FormControl>\n                                        <Input\n                                            multiline\n                                            value={\n                                                policy.OptionsSerialized\n                                                    .thumb_exts\n                                            }\n                                            onChange={handleOptionChange(\n                                                \"thumb_exts\"\n                                            )}\n                                        />\n                                    </FormControl>\n                                </TableCell>\n                                <TableCell>{t(\"thumbExtDes\")}</TableCell>\n                            </TableRow>\n                        </TableBody>\n                    </Table>\n                    <Button\n                        type={\"submit\"}\n                        color={\"primary\"}\n                        variant={\"contained\"}\n                        style={{ margin: 8 }}\n                    >\n                        {t(\"saveChanges\")}\n                    </Button>\n                </form>\n            </TableContainer>\n        </div>\n    );\n}\n","import Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport COSGuide from \"./Guid/COSGuide\";\nimport EditPro from \"./Guid/EditPro\";\nimport LocalGuide from \"./Guid/LocalGuide\";\nimport OneDriveGuide from \"./Guid/OneDriveGuide\";\nimport OSSGuide from \"./Guid/OSSGuide\";\nimport QiniuGuide from \"./Guid/QiniuGuide\";\nimport RemoteGuide from \"./Guid/RemoteGuide\";\nimport UpyunGuide from \"./Guid/UpyunGuide\";\nimport S3Guide from \"./Guid/S3Guide\";\nimport { transformResponse } from \"./utils\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function EditPolicyPreload() {\n    const classes = useStyles();\n    const [type, setType] = useState(\"\");\n    const [policy, setPolicy] = useState({});\n\n    const { mode, id } = useParams();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setType(\"\");\n        API.get(\"/admin/policy/\" + id)\n            .then((response) => {\n                response = transformResponse(response);\n                setPolicy(response.data);\n                setType(response.data.Type);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return (\n        <div>\n            <Paper square className={classes.content}>\n                {mode === \"guide\" && (\n                    <>\n                        {type === \"local\" && <LocalGuide policy={policy} />}\n                        {type === \"remote\" && <RemoteGuide policy={policy} />}\n                        {type === \"qiniu\" && <QiniuGuide policy={policy} />}\n                        {type === \"oss\" && <OSSGuide policy={policy} />}\n                        {type === \"upyun\" && <UpyunGuide policy={policy} />}\n                        {type === \"cos\" && <COSGuide policy={policy} />}\n                        {type === \"onedrive\" && (\n                            <OneDriveGuide policy={policy} />\n                        )}\n                        {type === \"s3\" && <S3Guide policy={policy} />}\n                    </>\n                )}\n\n                {mode === \"pro\" && type !== \"\" && <EditPro policy={policy} />}\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Delete, Edit } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    headerRight: {},\n}));\n\nconst columns = [\n    { id: \"#\", minWidth: 50 },\n    { id: \"name\", minWidth: 170 },\n    { id: \"type\", label: \"存储策略\", minWidth: 170 },\n    {\n        id: \"count\",\n        minWidth: 50,\n        align: \"right\",\n    },\n    {\n        id: \"size\",\n        minWidth: 100,\n        align: \"right\",\n    },\n    {\n        id: \"action\",\n        minWidth: 170,\n        align: \"right\",\n    },\n];\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function Group() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"group\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [groups, setGroups] = useState([]);\n    const [statics, setStatics] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [policies, setPolicies] = React.useState({});\n\n    const location = useLocation();\n    const history = useHistory();\n    const query = useQuery();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/group/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: \"id desc\",\n        })\n            .then((response) => {\n                setGroups(response.data.items);\n                setStatics(response.data.statics);\n                setTotal(response.data.total);\n                setPolicies(response.data.policies);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        if (query.get(\"code\") === \"0\") {\n            ToggleSnackbar(\"top\", \"right\", \"授权成功\", \"success\");\n        } else if (query.get(\"msg\") && query.get(\"msg\") !== \"\") {\n            ToggleSnackbar(\n                \"top\",\n                \"right\",\n                query.get(\"msg\") + \", \" + query.get(\"err\"),\n                \"warning\"\n            );\n        }\n    }, [location]);\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize]);\n\n    const deletePolicy = (id) => {\n        API.delete(\"/admin/group/\" + id)\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"deleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    return (\n        <div>\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/group/add\")}\n                    variant={\"contained\"}\n                >\n                    {t(\"new\")}\n                </Button>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {tDashboard(\"policy.refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                {columns.map((column) => (\n                                    <TableCell\n                                        key={column.id}\n                                        align={column.align}\n                                        style={{ minWidth: column.minWidth }}\n                                    >\n                                        {t(column.id)}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {groups.map((row) => (\n                                <TableRow hover key={row.ID}>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>{row.Name}</TableCell>\n                                    <TableCell>\n                                        {row.PolicyList !== null &&\n                                            row.PolicyList.map((pid, key) => {\n                                                let res = \"\";\n                                                if (policies[pid]) {\n                                                    res += policies[pid].Name;\n                                                }\n                                                if (\n                                                    key !==\n                                                    row.PolicyList.length - 1\n                                                ) {\n                                                    res += \" / \";\n                                                }\n                                                return res;\n                                            })}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            statics[row.ID].toLocaleString()}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {statics[row.ID] !== undefined &&\n                                            sizeToString(row.MaxStorage)}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        <Tooltip\n                                            title={tDashboard(\"policy.edit\")}\n                                        >\n                                            <IconButton\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/group/edit/\" +\n                                                            row.ID\n                                                    )\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip\n                                            title={tDashboard(\"policy.delete\")}\n                                        >\n                                            <IconButton\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport SizeInput from \"../Common/SizeInput\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { Link } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\n\n// function getStyles(name, personName, theme) {\n//     return {\n//         fontWeight:\n//             personName.indexOf(name) === -1\n//                 ? theme.typography.fontWeightRegular\n//                 : theme.typography.fontWeightMedium\n//     };\n// }\n\nexport default function GroupForm(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"group\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [group, setGroup] = useState(\n        props.group\n            ? props.group\n            : {\n                  ID: 0,\n                  Name: \"\",\n                  MaxStorage: \"1073741824\", // 转换类型\n                  ShareEnabled: \"true\", // 转换类型\n                  WebDAVEnabled: \"true\", // 转换类型\n                  SpeedLimit: \"0\", // 转换类型\n                  PolicyList: 1, // 转换类型,至少选择一个\n                  OptionsSerialized: {\n                      // 批量转换类型\n                      share_download: \"true\",\n                      aria2_options: \"{}\", // json decode\n                      compress_size: \"0\",\n                      decompress_size: \"0\",\n                      source_batch: \"0\",\n                      aria2_batch: \"1\",\n                  },\n              }\n    );\n    const [policies, setPolicies] = useState({});\n\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {},\n        })\n            .then((response) => {\n                const res = {};\n                response.data.items.forEach((v) => {\n                    res[v.ID] = v.Name;\n                });\n                setPolicies(res);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const handleChange = (name) => (event) => {\n        setGroup({\n            ...group,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleCheckChange = (name) => (event) => {\n        const value = event.target.checked ? \"true\" : \"false\";\n        setGroup({\n            ...group,\n            [name]: value,\n        });\n    };\n\n    const handleOptionCheckChange = (name) => (event) => {\n        const value = event.target.checked ? \"true\" : \"false\";\n        setGroup({\n            ...group,\n            OptionsSerialized: {\n                ...group.OptionsSerialized,\n                [name]: value,\n            },\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setGroup({\n            ...group,\n            OptionsSerialized: {\n                ...group.OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        const groupCopy = {\n            ...group,\n            OptionsSerialized: { ...group.OptionsSerialized },\n        };\n\n        // 布尔值转换\n        [\"ShareEnabled\", \"WebDAVEnabled\"].forEach((v) => {\n            groupCopy[v] = groupCopy[v] === \"true\";\n        });\n        [\n            \"archive_download\",\n            \"archive_task\",\n            \"one_time_download\",\n            \"share_download\",\n            \"aria2\",\n            \"redirected_source\",\n            \"advance_delete\"\n        ].forEach((v) => {\n            if (groupCopy.OptionsSerialized[v] !== undefined) {\n                groupCopy.OptionsSerialized[v] =\n                    groupCopy.OptionsSerialized[v] === \"true\";\n            }\n        });\n\n        // 整型转换\n        [\"MaxStorage\", \"SpeedLimit\"].forEach((v) => {\n            groupCopy[v] = parseInt(groupCopy[v]);\n        });\n        [\n            \"compress_size\",\n            \"decompress_size\",\n            \"source_batch\",\n            \"aria2_batch\",\n        ].forEach((v) => {\n            if (groupCopy.OptionsSerialized[v] !== undefined) {\n                groupCopy.OptionsSerialized[v] = parseInt(\n                    groupCopy.OptionsSerialized[v]\n                );\n            }\n        });\n        groupCopy.PolicyList = [parseInt(groupCopy.PolicyList)];\n        // JSON转换\n        try {\n            groupCopy.OptionsSerialized.aria2_options = JSON.parse(\n                groupCopy.OptionsSerialized.aria2_options\n            );\n        } catch (e) {\n            ToggleSnackbar(\"top\", \"right\", t(\"aria2FormatError\"), \"warning\");\n            return;\n        }\n\n        setLoading(true);\n        API.post(\"/admin/group\", {\n            group: groupCopy,\n        })\n            .then(() => {\n                history.push(\"/admin/group\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.group ? t(\"saved\") : t(\"added\"),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {group.ID === 0 && t(\"new\")}\n                        {group.ID !== 0 && t(\"editGroup\", { group: group.Name })}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        {group.ID !== 3 && (\n                            <>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"nameOfGroup\")}\n                                        </InputLabel>\n                                        <Input\n                                            value={group.Name}\n                                            onChange={handleChange(\"Name\")}\n                                            required\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            {t(\"nameOfGroupDes\")}\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"storagePolicy\")}\n                                        </InputLabel>\n                                        <Select\n                                            labelId=\"demo-mutiple-chip-label\"\n                                            id=\"demo-mutiple-chip\"\n                                            value={group.PolicyList}\n                                            onChange={handleChange(\n                                                \"PolicyList\"\n                                            )}\n                                            input={\n                                                <Input id=\"select-multiple-chip\" />\n                                            }\n                                        >\n                                            {Object.keys(policies).map(\n                                                (pid) => (\n                                                    <MenuItem\n                                                        key={pid}\n                                                        value={pid}\n                                                    >\n                                                        {policies[pid]}\n                                                    </MenuItem>\n                                                )\n                                            )}\n                                        </Select>\n                                        <FormHelperText id=\"component-helper-text\">\n                                            {t(\"storageDes\")}\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <SizeInput\n                                            value={group.MaxStorage}\n                                            onChange={handleChange(\n                                                \"MaxStorage\"\n                                            )}\n                                            min={0}\n                                            max={9223372036854775807}\n                                            label={t(\"initialStorageQuota\")}\n                                            required\n                                        />\n                                    </FormControl>\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"initialStorageQuotaDes\")}\n                                    </FormHelperText>\n                                </div>\n                            </>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <SizeInput\n                                    value={group.SpeedLimit}\n                                    onChange={handleChange(\"SpeedLimit\")}\n                                    min={0}\n                                    max={9223372036854775807}\n                                    label={t(\"downloadSpeedLimit\")}\n                                    suffix={\"/s\"}\n                                    required\n                                />\n                            </FormControl>\n                            <FormHelperText id=\"component-helper-text\">\n                                {t(\"downloadSpeedLimitDes\")}\n                            </FormHelperText>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"bathSourceLinkLimit\")}\n                                    </InputLabel>\n                                    <Input\n                                        multiline\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={\n                                            group.OptionsSerialized.source_batch\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"source_batch\"\n                                        )}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"bathSourceLinkLimitDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.ShareEnabled ===\n                                                    \"true\"\n                                                }\n                                                onChange={handleCheckChange(\n                                                    \"ShareEnabled\"\n                                                )}\n                                            />\n                                        }\n                                        label={t(\"allowCreateShareLink\")}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"allowCreateShareLinkDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                group.OptionsSerialized\n                                                    .share_download === \"true\"\n                                            }\n                                            onChange={handleOptionCheckChange(\n                                                \"share_download\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"allowDownloadShare\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"allowDownloadShareDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.WebDAVEnabled ===\n                                                    \"true\"\n                                                }\n                                                onChange={handleCheckChange(\n                                                    \"WebDAVEnabled\"\n                                                )}\n                                            />\n                                        }\n                                        label={t(\"allowWabDAV\")}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"allowWabDAVDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                group.OptionsSerialized\n                                                    .one_time_download ===\n                                                \"true\"\n                                            }\n                                            onChange={handleOptionCheckChange(\n                                                \"one_time_download\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"disableMultipleDownload\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"disableMultipleDownloadDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.OptionsSerialized\n                                                        .aria2 === \"true\"\n                                                }\n                                                onChange={handleOptionCheckChange(\n                                                    \"aria2\"\n                                                )}\n                                            />\n                                        }\n                                        label={t(\"allowRemoteDownload\")}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"allowRemoteDownloadDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <Collapse in={group.OptionsSerialized.aria2 === \"true\"}>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"aria2Options\")}\n                                    </InputLabel>\n                                    <Input\n                                        multiline\n                                        value={\n                                            group.OptionsSerialized\n                                                .aria2_options\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"aria2_options\"\n                                        )}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"aria2OptionsDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"aria2BatchSize\")}\n                                    </InputLabel>\n                                    <Input\n                                        multiline\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={\n                                            group.OptionsSerialized.aria2_batch\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"aria2_batch\"\n                                        )}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"aria2BatchSizeDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        </Collapse>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={\n                                                group.OptionsSerialized\n                                                    .archive_download === \"true\"\n                                            }\n                                            onChange={handleOptionCheckChange(\n                                                \"archive_download\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"serverSideBatchDownload\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"serverSideBatchDownloadDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.OptionsSerialized\n                                                        .archive_task === \"true\"\n                                                }\n                                                onChange={handleOptionCheckChange(\n                                                    \"archive_task\"\n                                                )}\n                                            />\n                                        }\n                                        label={t(\"compressTask\")}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"compressTaskDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        <Collapse\n                            in={group.OptionsSerialized.archive_task === \"true\"}\n                        >\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <SizeInput\n                                        value={\n                                            group.OptionsSerialized\n                                                .compress_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"compress_size\"\n                                        )}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"compressSize\")}\n                                    />\n                                </FormControl>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"compressSizeDes\")}\n                                </FormHelperText>\n                            </div>\n\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <SizeInput\n                                        value={\n                                            group.OptionsSerialized\n                                                .decompress_size\n                                        }\n                                        onChange={handleOptionChange(\n                                            \"decompress_size\"\n                                        )}\n                                        min={0}\n                                        max={9223372036854775807}\n                                        label={t(\"decompressSize\")}\n                                    />\n                                </FormControl>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"decompressSizeDes\")}\n                                </FormHelperText>\n                            </div>\n                        </Collapse>\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.OptionsSerialized\n                                                        .redirected_source === \"true\"\n                                                }\n                                                onChange={handleOptionCheckChange(\n                                                    \"redirected_source\"\n                                                )}\n                                            />\n                                        }\n                                        label={t(\"redirectedSource\")}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        <Trans\n                                            ns={\"dashboard\"}\n                                            i18nKey={\"group.redirectedSourceDes\"}\n                                            components={[\n                                                <Link\n                                                    href={tDashboard(\"policy.comparesStoragePoliciesLink\")}\n                                                    key={0}\n                                                    target={\"_blank\"}\n                                                />,\n                                            ]}\n                                        />\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n\n                        {group.ID !== 3 && (\n                            <div className={classes.form}>\n                                <FormControl fullWidth>\n                                    <FormControlLabel\n                                        control={\n                                            <Switch\n                                                checked={\n                                                    group.OptionsSerialized\n                                                        .advance_delete ===\n                                                    \"true\"\n                                                }\n                                                onChange={handleOptionCheckChange(\n                                                    \"advance_delete\"\n                                                )}\n                                            />\n                                        }\n                                        label={t(\"advanceDelete\")}\n                                    />\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"advanceDeleteDes\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {tDashboard(\"settings.save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport API from \"../../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport GroupForm from \"./GroupForm\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function EditGroupPreload() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"group\" });\n    const [group, setGroup] = useState({});\n\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setGroup({});\n        API.get(\"/admin/group/\" + id)\n            .then((response) => {\n                // 布尔值转换\n                [\"ShareEnabled\", \"WebDAVEnabled\"].forEach((v) => {\n                    response.data[v] = response.data[v] ? \"true\" : \"false\";\n                });\n                [\n                    \"archive_download\",\n                    \"archive_task\",\n                    \"one_time_download\",\n                    \"share_download\",\n                    \"aria2\",\n                    \"redirected_source\",\n                    \"advance_delete\"\n                ].forEach((v) => {\n                    if (response.data.OptionsSerialized[v] !== undefined) {\n                        response.data.OptionsSerialized[v] = response.data\n                            .OptionsSerialized[v]\n                            ? \"true\"\n                            : \"false\";\n                    }\n                });\n\n                // 整型转换\n                [\"MaxStorage\", \"SpeedLimit\"].forEach((v) => {\n                    response.data[v] = response.data[v].toString();\n                });\n                [\n                    \"compress_size\",\n                    \"decompress_size\",\n                    \"source_batch\",\n                    \"aria2_batch\",\n                ].forEach((v) => {\n                    if (response.data.OptionsSerialized[v] !== undefined) {\n                        response.data.OptionsSerialized[\n                            v\n                        ] = response.data.OptionsSerialized[v].toString();\n                    }\n                });\n                response.data.PolicyList = response.data.PolicyList[0];\n\n                // JSON转换\n                if (\n                    response.data.OptionsSerialized.aria2_options === undefined\n                ) {\n                    response.data.OptionsSerialized.aria2_options = \"{}\";\n                } else {\n                    try {\n                        response.data.OptionsSerialized.aria2_options = JSON.stringify(\n                            response.data.OptionsSerialized.aria2_options\n                        );\n                    } catch (e) {\n                        ToggleSnackbar(\n                            \"top\",\n                            \"right\",\n                            t(\"aria2FormatError\"),\n                            \"warning\"\n                        );\n                        return;\n                    }\n                }\n                setGroup(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return <div>{group.ID !== undefined && <GroupForm group={group} />}</div>;\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function UserFilter({ setFilter, setSearch, open, onClose }) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"user\" });\n    const { t: tCommon } = useTranslation(\"common\");\n    const [input, setInput] = useState({\n        group_id: \"all\",\n        status: \"all\",\n    });\n    const [groups, setGroups] = useState([]);\n    const [keywords, setKeywords] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = (name) => (event) => {\n        setInput({ ...input, [name]: event.target.value });\n    };\n\n    useEffect(() => {\n        API.get(\"/admin/groups\")\n            .then((response) => {\n                setGroups(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const submit = () => {\n        const res = {};\n        Object.keys(input).forEach((v) => {\n            if (input[v] !== \"all\") {\n                res[v] = input[v];\n            }\n        });\n        setFilter(res);\n        if (keywords !== \"\") {\n            setSearch({\n                nick: keywords,\n                email: keywords,\n            });\n        } else {\n            setSearch({});\n        }\n        onClose();\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth={\"xs\"}\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {t(\"filterCondition\")}\n            </DialogTitle>\n            <DialogContent>\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        {t(\"group\")}\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.group_id}\n                        onChange={handleChange(\"group_id\")}\n                    >\n                        <MenuItem value={\"all\"}>{t(\"all\")}</MenuItem>\n                        {groups.map((v) => {\n                            if (v.ID === 3) {\n                                return null;\n                            }\n                            return (\n                                <MenuItem key={v.ID} value={v.ID.toString()}>\n                                    {v.Name}\n                                </MenuItem>\n                            );\n                        })}\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        {t(\"userStatus\")}\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.status}\n                        onChange={handleChange(\"status\")}\n                    >\n                        <MenuItem value={\"all\"}>{t(\"all\")}</MenuItem>\n                        <MenuItem value={\"0\"}>{t(\"active\")}</MenuItem>\n                        <MenuItem value={\"1\"}>{t(\"notActivated\")}</MenuItem>\n                        <MenuItem value={\"2\"}>{t(\"banned\")}</MenuItem>\n                        <MenuItem value={\"3\"}>{t(\"bannedBySys\")}</MenuItem>\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={keywords}\n                        onChange={(e) => setKeywords(e.target.value)}\n                        id=\"standard-basic\"\n                        label={t(\"searchNickUserName\")}\n                    />\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    {tCommon(\"cancel\")}\n                </Button>\n                <Button onClick={submit} color=\"primary\">\n                    {t(\"apply\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Block, Delete, Edit, FilterList } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport UserFilter from \"../Dialogs/UserFilter\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark,\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n}));\n\nexport default function Group() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"user\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [users, setUsers] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const history = useHistory();\n    const theme = useTheme();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/user/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search,\n        })\n            .then((response) => {\n                setUsers(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = (id) => {\n        setLoading(true);\n        API.post(\"/admin/user/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", \"用户已删除\", \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/user/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"deleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const block = (id) => {\n        setLoading(true);\n        API.patch(\"/admin/user/ban/\" + id)\n            .then((response) => {\n                setUsers(\n                    users.map((v) => {\n                        if (v.ID === id) {\n                            const newUser = { ...v, Status: response.data };\n                            return newUser;\n                        }\n                        return v;\n                    })\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = (event) => {\n        if (event.target.checked) {\n            const newSelecteds = users.map((n) => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = (id) => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <UserFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <Button\n                    style={{ alignSelf: \"center\" }}\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/user/add\")}\n                    variant={\"contained\"}\n                >\n                    {t(\"new\")}\n                </Button>\n                <div className={classes.headerRight}>\n                    <Tooltip title={t(\"filter\")}>\n                        <IconButton\n                            style={{ marginRight: 8 }}\n                            onClick={() => setFilterDialog(true)}\n                        >\n                            <Badge\n                                color=\"secondary\"\n                                variant=\"dot\"\n                                invisible={\n                                    Object.keys(search).length === 0 &&\n                                    Object.keys(filter).length === 0\n                                }\n                            >\n                                <FilterList />\n                            </Badge>\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {tDashboard(\"policy.refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            {t(\"selectedObjects\", { num: selected.length })}\n                        </Typography>\n                        <Tooltip title={tDashboard(\"policy.delete\")}>\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < users.length\n                                        }\n                                        checked={\n                                            users.length > 0 &&\n                                            selected.length === users.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\",\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 59 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {tDashboard(\"node.#\")}\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"nick\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"nick\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"nick\")}\n                                        {orderBy[0] === \"nick\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 170 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"email\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"email\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"email\")}\n                                        {orderBy[0] === \"email\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 70 }}>\n                                    {t(\"group\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 50 }}>\n                                    {t(\"status\")}\n                                </TableCell>\n                                <TableCell\n                                    align={\"right\"}\n                                    style={{ minWidth: 80 }}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"storage\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"storage\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"usedStorage\")}\n                                        {orderBy[0] === \"storage\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    {tDashboard(\"policy.actions\")}\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {users.map((row) => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={(event) =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>{row.Nick}</TableCell>\n                                    <TableCell>{row.Email}</TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/group/edit/\" +\n                                                row.Group.ID\n                                            }\n                                        >\n                                            {row.Group.Name}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.Status === 0 && (\n                                            <Typography\n                                                style={{\n                                                    color: theme.palette.success\n                                                        .main,\n                                                }}\n                                                variant={\"body2\"}\n                                            >\n                                                {t(\"active\")}\n                                            </Typography>\n                                        )}\n                                        {row.Status === 1 && (\n                                            <Typography\n                                                color={\"textSecondary\"}\n                                                variant={\"body2\"}\n                                            >\n                                                {t(\"notActivated\")}\n                                            </Typography>\n                                        )}\n                                        {row.Status === 2 && (\n                                            <Typography\n                                                color={\"error\"}\n                                                variant={\"body2\"}\n                                            >\n                                                {t(\"banned\")}\n                                            </Typography>\n                                        )}\n                                        {row.Status === 3 && (\n                                            <Typography\n                                                color={\"error\"}\n                                                variant={\"body2\"}\n                                            >\n                                                {t(\"bannedBySys\")}\n                                            </Typography>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {sizeToString(row.Storage)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip\n                                            title={tDashboard(\"node.edit\")}\n                                        >\n                                            <IconButton\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/user/edit/\" +\n                                                            row.ID\n                                                    )\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={t(\"toggleBan\")}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() => block(row.ID)}\n                                                size={\"small\"}\n                                            >\n                                                <Block />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip\n                                            title={tDashboard(\"node.delete\")}\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React, { useCallback, useEffect,useMemo, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\nexport default function UserForm(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"user\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [user, setUser] = useState(\n        props.user\n            ? props.user\n            : {\n                  ID: 0,\n                  Email: \"\",\n                  Nick: \"\",\n                  Password: \"\", // 为空时只读\n                  Status: \"0\", // 转换类型\n                  GroupID: \"2\", // 转换类型\n                  TwoFactor: \"\",\n                  Dirs: \"\",\n                  Action: \"\",\n              }\n    );\n    const [groups, setGroups] = useState([]);\n\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.get(\"/admin/groups\")\n            .then((response) => {\n                setGroups(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const handleChange = (name) => (event) => {\n        setUser({\n            ...user,\n            [name]: event.target.value,\n        });\n    };\n\n    const submit = (e) => {\n        e.preventDefault();\n        const userCopy = { ...user };\n\n        // 整型转换\n        [\"Status\", \"GroupID\", \"Score\"].forEach((v) => {\n            userCopy[v] = parseInt(userCopy[v]);\n        });\n\n        setLoading(true);\n        API.post(\"/admin/user\", {\n            user: userCopy,\n            password: userCopy.Password,\n        })\n            .then(() => {\n                history.push(\"/admin/user\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    props.user ? t(\"saved\") : t(\"added\"),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const groupSelections = useMemo(\n        () =>\n            groups.map((v) => {\n                if (v.ID === 3) {\n                    return null;\n                }\n                return (\n                    <MenuItem key={v.ID} value={v.ID.toString()}>\n                        {v.Name}\n                    </MenuItem>\n                );\n            }),\n        [groups]\n    );\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {user.ID === 0 && t(\"new\")}\n                        {user.ID !== 0 && t(\"editUser\", { nick: user.Nick })}\n                    </Typography>\n\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"email\")}\n                                </InputLabel>\n                                <Input\n                                    value={user.Email}\n                                    type={\"email\"}\n                                    onChange={handleChange(\"Email\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"nick\")}\n                                </InputLabel>\n                                <Input\n                                    value={user.Nick}\n                                    onChange={handleChange(\"Nick\")}\n                                    required\n                                />\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"password\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"password\"}\n                                    value={user.Password}\n                                    onChange={handleChange(\"Password\")}\n                                    required={user.ID === 0}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {user.ID !== 0 && t(\"passwordDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"group\")}\n                                </InputLabel>\n                                <Select\n                                    value={user.GroupID}\n                                    onChange={handleChange(\"GroupID\")}\n                                    required\n                                >\n                                    {groupSelections}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"groupDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"status\")}\n                                </InputLabel>\n                                <Select\n                                    value={user.Status}\n                                    onChange={handleChange(\"Status\")}\n                                    required\n                                >\n                                    <MenuItem value={\"0\"}>\n                                        {t(\"active\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"1\"}>\n                                        {t(\"notActivated\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"2\"}>\n                                        {t(\"banned\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"3\"}>\n                                        {t(\"bannedBySys\")}\n                                    </MenuItem>\n                                </Select>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"2FASecret\")}\n                                </InputLabel>\n                                <Input\n                                    value={user.TwoFactor}\n                                    onChange={handleChange(\"TwoFactor\")}\n                                />\n                            </FormControl>\n                            <FormHelperText id=\"component-helper-text\">\n                                {t(\"2FASecretDes\")}\n                            </FormHelperText>\n                        </div>\n                        <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    权限目录\n                                </InputLabel>\n                                <Input\n                                    value={user.Dirs}\n                                    onChange={handleChange(\n                                        \"Dirs\"\n                                    )}\n                                    multiline\n                                    rowsMax=\"100\"\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                权限目录\n                                </FormHelperText>\n                            </FormControl>\n\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    操作权限\n                                </InputLabel>\n                                <Input\n                                    value={user.Action}\n                                    onChange={handleChange(\n                                        \"Action\"\n                                    )}\n                                    multiline\n                                    rowsMax=\"10\"\n                                    required\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                操作权限是指对目录的增C删D改U查R， 分别对应 create,delete,update,read, 多个权限逗号分开\n                                </FormHelperText>\n                            </FormControl>\n                    </div>\n                </div>\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {tDashboard(\"settings.save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport API from \"../../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport UserForm from \"./UserForm\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\n\nexport default function EditUserPreload() {\n    const [user, setUser] = useState({});\n\n    const { id } = useParams();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        setUser({});\n        API.get(\"/admin/user/\" + id)\n            .then((response) => {\n                // 整型转换\n                [\"Status\", \"GroupID\"].forEach((v) => {\n                    response.data[v] = response.data[v].toString();\n                });\n                setUser(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return <div>{user.ID !== undefined && <UserForm user={user} />}</div>;\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function FileFilter({ setFilter, setSearch, open, onClose }) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"file\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const { t: tCommon } = useTranslation(\"common\");\n    const [input, setInput] = useState({\n        policy_id: \"all\",\n        user_id: \"\",\n    });\n    const [policies, setPolicies] = useState([]);\n    const [keywords, setKeywords] = useState(\"\");\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const handleChange = (name) => (event) => {\n        setInput({ ...input, [name]: event.target.value });\n    };\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {},\n        })\n            .then((response) => {\n                setPolicies(response.data.items);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, []);\n\n    const submit = () => {\n        const res = {};\n        Object.keys(input).forEach((v) => {\n            if (input[v] !== \"all\" && input[v] !== \"\") {\n                res[v] = input[v];\n            }\n        });\n        setFilter(res);\n        if (keywords !== \"\") {\n            setSearch({\n                name: keywords,\n            });\n        } else {\n            setSearch({});\n        }\n        onClose();\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth={\"xs\"}\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {tDashboard(\"user.filterCondition\")}\n            </DialogTitle>\n            <DialogContent>\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        {t(\"storagePolicy\")}\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.policy_id}\n                        onChange={handleChange(\"policy_id\")}\n                    >\n                        <MenuItem value={\"all\"}>\n                            {tDashboard(\"user.all\")}\n                        </MenuItem>\n                        {policies.map((v) => {\n                            return (\n                                <MenuItem key={v.ID} value={v.ID.toString()}>\n                                    {v.Name}\n                                </MenuItem>\n                            );\n                        })}\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={input.user_id}\n                        onChange={handleChange(\"user_id\")}\n                        id=\"standard-basic\"\n                        label={t(\"uploaderID\")}\n                    />\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={keywords}\n                        onChange={(e) => setKeywords(e.target.value)}\n                        id=\"standard-basic\"\n                        label={t(\"searchFileName\")}\n                    />\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    {tCommon(\"cancel\")}\n                </Button>\n                <Button onClick={submit} color=\"primary\">\n                    {tDashboard(\"user.apply\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete, DeleteForever, FilterList,LinkOff } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport FileFilter from \"../Dialogs/FileFilter\";\nimport { formatLocalTime } from \"../../../utils/datetime\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark,\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n    disabledBadge: {\n        marginLeft: theme.spacing(1),\n        height: 18,\n    },\n}));\n\nexport default function File() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"file\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [files, setFiles] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/file/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search,\n        })\n            .then((response) => {\n                setFiles(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n                setUsers(response.data.users);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deleteFile = (id, unlink = false) => {\n        setLoading(true);\n        API.post(\"/admin/file/delete\", { id: [id], unlink })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"deleteAsync\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch =\n        (force, unlink = false) =>\n        () => {\n            setLoading(true);\n            API.post(\"/admin/file/delete\", { id: selected, force, unlink })\n                .then(() => {\n                    loadList();\n                    ToggleSnackbar(\"top\", \"right\", t(\"deleteAsync\"), \"success\");\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                })\n                .then(() => {\n                    setLoading(false);\n                });\n        };\n\n    const handleSelectAllClick = (event) => {\n        if (event.target.checked) {\n            const newSelecteds = files.map((n) => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = (id) => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <FileFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/file/import\")}\n                    variant={\"contained\"}\n                    style={{\n                        alignSelf: \"center\",\n                    }}\n                >\n                    {t(\"import\")}\n                </Button>\n                <div className={classes.headerRight}>\n                    <Tooltip title={tDashboard(\"user.filter\")}>\n                        <IconButton\n                            style={{ marginRight: 8 }}\n                            onClick={() => setFilterDialog(true)}\n                        >\n                            <Badge\n                                color=\"secondary\"\n                                variant=\"dot\"\n                                invisible={\n                                    Object.keys(search).length === 0 &&\n                                    Object.keys(filter).length === 0\n                                }\n                            >\n                                <FilterList />\n                            </Badge>\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {tDashboard(\"policy.refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            {tDashboard(\"user.selectedObjects\", {\n                                num: selected.length,\n                            })}\n                        </Typography>\n                        <Tooltip title={tDashboard(\"policy.delete\")}>\n                            <IconButton\n                                onClick={deleteBatch(false)}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                        <Tooltip title={t(\"forceDelete\")}>\n                            <IconButton\n                                onClick={deleteBatch(true)}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <DeleteForever />\n                            </IconButton>\n                        </Tooltip>\n                        <Tooltip title={tDashboard(\"file.unlink\")}>\n                            <IconButton\n                                disabled={loading}\n                                onClick={deleteBatch(true, true)}\n                                size={\"small\"}\n                            >\n                                <LinkOff />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < files.length\n                                        }\n                                        checked={\n                                            files.length > 0 &&\n                                            selected.length === files.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\",\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 59 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 250 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"name\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"name\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"name\")}\n                                        {orderBy[0] === \"name\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell\n                                    align={\"right\"}\n                                    style={{ minWidth: 70 }}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"size\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"size\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"size\")}\n                                        {orderBy[0] === \"size\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    {t(\"uploader\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    {t(\"createdAt\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    {tDashboard(\"policy.actions\")}\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {files.map((row) => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={(event) =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell>\n                                        <Link\n                                            target={\"_blank\"}\n                                            color=\"inherit\"\n                                            href={\n                                                \"/api/v3/admin/file/preview/\" +\n                                                row.ID\n                                            }\n                                        >\n                                            {row.Name}\n                                            {row.UploadSessionID && (\n                                                <Chip\n                                                    className={\n                                                        classes.disabledBadge\n                                                    }\n                                                    size=\"small\"\n                                                    label={t(\"uploading\")}\n                                                />\n                                            )}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {sizeToString(row.Size)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : t(\"unknownUploader\")}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {formatLocalTime(\n                                            row.CreatedAt,\n                                            \"YYYY-MM-DD H:mm:ss\"\n                                        )}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip\n                                            title={tDashboard(\"policy.delete\")}\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deleteFile(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip\n                                            title={tDashboard(\"file.unlink\")}\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deleteFile(row.ID, true)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <LinkOff />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nexport default function ShareFilter({ setFilter, setSearch, open, onClose }) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"share\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const { t: tCommon } = useTranslation(\"common\");\n    const [input, setInput] = useState({\n        is_dir: \"all\",\n        user_id: \"\",\n    });\n    const [keywords, setKeywords] = useState(\"\");\n\n    const handleChange = (name) => (event) => {\n        setInput({ ...input, [name]: event.target.value });\n    };\n\n    const submit = () => {\n        const res = {};\n        Object.keys(input).forEach((v) => {\n            if (input[v] !== \"all\" && input[v] !== \"\") {\n                res[v] = input[v];\n            }\n        });\n        setFilter(res);\n        if (keywords !== \"\") {\n            setSearch({\n                source_name: keywords,\n            });\n        } else {\n            setSearch({});\n        }\n        onClose();\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onClose={onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            fullWidth\n            maxWidth={\"xs\"}\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {tDashboard(\"user.filterCondition\")}\n            </DialogTitle>\n            <DialogContent>\n                <FormControl fullWidth>\n                    <InputLabel id=\"demo-simple-select-label\">\n                        {t(\"srcType\")}\n                    </InputLabel>\n                    <Select\n                        labelId=\"demo-simple-select-label\"\n                        id=\"demo-simple-select\"\n                        value={input.is_dir}\n                        onChange={handleChange(\"is_dir\")}\n                    >\n                        <MenuItem value={\"all\"}>\n                            {tDashboard(\"user.all\")}\n                        </MenuItem>\n                        <MenuItem value={\"1\"}>{t(\"folder\")}</MenuItem>\n                        <MenuItem value={\"0\"}>{t(\"file\")}</MenuItem>\n                    </Select>\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={input.user_id}\n                        onChange={handleChange(\"user_id\")}\n                        id=\"standard-basic\"\n                        label={tDashboard(\"file.uploaderID\")}\n                    />\n                </FormControl>\n                <FormControl fullWidth style={{ marginTop: 16 }}>\n                    <TextField\n                        value={keywords}\n                        onChange={(e) => setKeywords(e.target.value)}\n                        id=\"standard-basic\"\n                        label={tDashboard(\"file.searchFileName\")}\n                    />\n                </FormControl>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onClose} color=\"default\">\n                    {tCommon(\"cancel\")}\n                </Button>\n                <Button onClick={submit} color=\"primary\">\n                    {tCommon(\"ok\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete, FilterList } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport ShareFilter from \"../Dialogs/ShareFilter\";\nimport { formatLocalTime } from \"../../../utils/datetime\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark,\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n}));\n\nexport default function Share() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"share\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [shares, setShares] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [ids, setIds] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n    const loadList = () => {\n        API.post(\"/admin/share/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search,\n        })\n            .then((response) => {\n                setUsers(response.data.users);\n                setIds(response.data.ids);\n                setShares(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = (id) => {\n        setLoading(true);\n        API.post(\"/admin/share/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"deleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/share/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"deleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = (event) => {\n        if (event.target.checked) {\n            const newSelecteds = shares.map((n) => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = (id) => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <ShareFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <div className={classes.headerRight}>\n                    <Tooltip title={tDashboard(\"user.filter\")}>\n                        <IconButton\n                            style={{ marginRight: 8 }}\n                            onClick={() => setFilterDialog(true)}\n                        >\n                            <Badge\n                                color=\"secondary\"\n                                variant=\"dot\"\n                                invisible={\n                                    Object.keys(search).length === 0 &&\n                                    Object.keys(filter).length === 0\n                                }\n                            >\n                                <FilterList />\n                            </Badge>\n                        </IconButton>\n                    </Tooltip>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {tDashboard(\"policy.refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            {tDashboard(\"user.selectedObjects\", {\n                                num: selected.length,\n                            })}\n                        </Typography>\n                        <Tooltip title={tDashboard(\"node.delete\")}>\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < shares.length\n                                        }\n                                        checked={\n                                            shares.length > 0 &&\n                                            selected.length === shares.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\",\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 10 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 200 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"source_name\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"source_name\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"objectName\")}\n                                        {orderBy[0] === \"source_name\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 70 }}>\n                                    {tDashboard(\"policy.type\")}\n                                </TableCell>\n                                <TableCell\n                                    style={{ minWidth: 100 }}\n                                    align={\"right\"}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"views\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"views\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"views\")}\n                                        {orderBy[0] === \"views\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell\n                                    style={{ minWidth: 100 }}\n                                    align={\"right\"}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"downloads\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"downloads\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {t(\"downloads\")}\n                                        {orderBy[0] === \"downloads\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    {t(\"autoExpire\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 120 }}>\n                                    {t(\"owner\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    {t(\"createdAt\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    {tDashboard(\"policy.actions\")}\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {shares.map((row) => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={(event) =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        style={{ wordBreak: \"break-all\" }}\n                                    >\n                                        <Link\n                                            target={\"_blank\"}\n                                            color=\"inherit\"\n                                            href={\n                                                \"/s/\" +\n                                                ids[row.ID] +\n                                                (row.Password === \"\"\n                                                    ? \"\"\n                                                    : \"?password=\" +\n                                                      row.Password)\n                                            }\n                                        >\n                                            {row.SourceName}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.Password === \"\"\n                                            ? t(\"public\")\n                                            : t(\"private\")}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {row.Views}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {row.Downloads}\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.RemainDownloads > -1 &&\n                                            t(\"afterNDownloads\", {\n                                                num: row.RemainDownloads,\n                                            })}\n                                        {row.RemainDownloads === -1 &&\n                                            t(\"none\")}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : tDashboard(\n                                                      \"file.unknownUploader\"\n                                                  )}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {formatLocalTime(row.CreatedAt)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip\n                                            title={tDashboard(\"node.delete\")}\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogContentText,\n    DialogTitle,\n    Link,\n} from \"@material-ui/core\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({}));\n\nexport default function Aria2Helper(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"task\" });\n    const { t: tCommon } = useTranslation(\"common\");\n    const classes = useStyles();\n\n    return (\n        <Dialog\n            open={props.open}\n            onClose={props.onClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {t(\"howToConfigAria2\")}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {t(\"aria2Des\")}\n                    <ul>\n                        <li>\n                            <Trans\n                                ns={\"dashboard\"}\n                                i18nKey={\"task.masterAria2Des\"}\n                                components={[\n                                    <Link\n                                        component={RouterLink}\n                                        to={\"/admin/node/edit/1\"}\n                                        key={0}\n                                    />,\n                                ]}\n                            />\n                        </li>\n                        <li>\n                            <Trans\n                                ns={\"dashboard\"}\n                                i18nKey={\"task.slaveAria2Des\"}\n                                components={[\n                                    <Link\n                                        component={RouterLink}\n                                        to={\"/admin/node/add\"}\n                                        key={0}\n                                    />,\n                                ]}\n                            />\n                        </li>\n                    </ul>\n                    <Trans\n                        ns={\"dashboard\"}\n                        i18nKey={\"task.editGroupDes\"}\n                        components={[\n                            <Link\n                                component={RouterLink}\n                                to={\"/admin/group\"}\n                                key={0}\n                            />,\n                        ]}\n                    />\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={props.onClose} color=\"primary\" autoFocus>\n                    {tCommon(\"close\")}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport { sizeToString } from \"../../../utils\";\nimport ShareFilter from \"../Dialogs/ShareFilter\";\nimport { formatLocalTime } from \"../../../utils/datetime\";\nimport Aria2Helper from \"./Aria2Helper\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark,\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n}));\n\nexport default function Download() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"task\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [downloads, setDownloads] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n    const [helperOpen, setHelperOpen] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/download/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search,\n        })\n            .then((response) => {\n                setUsers(response.data.users);\n                setDownloads(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = (id) => {\n        setLoading(true);\n        API.post(\"/admin/download/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"taskDeleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/download/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"taskDeleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = (event) => {\n        if (event.target.checked) {\n            const newSelecteds = downloads.map((n) => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const isSelected = (id) => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <Aria2Helper\n                open={helperOpen}\n                onClose={() => setHelperOpen(false)}\n            />\n            <ShareFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => loadList()}\n                    variant={\"outlined\"}\n                >\n                    {tDashboard(\"policy.refresh\")}\n                </Button>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => setHelperOpen(true)}\n                    >\n                        <HelpIcon /> {\"  \"}\n                        {t(\"howToConfigAria2\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            {tDashboard(\"user.selectedObjects\", {\n                                num: selected.length,\n                            })}\n                        </Typography>\n                        <Tooltip title={tDashboard(\"policy.delete\")}>\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < downloads.length\n                                        }\n                                        checked={\n                                            downloads.length > 0 &&\n                                            selected.length === downloads.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\",\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 10 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 130 }}>\n                                    {t(\"srcURL\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    {tDashboard(\"user.status\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    {t(\"node\")}\n                                </TableCell>\n                                <TableCell\n                                    style={{ minWidth: 150 }}\n                                    align={\"right\"}\n                                >\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"total_size\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"total_size\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        {tDashboard(\"file.size\")}\n                                        {orderBy[0] === \"total_size\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    {t(\"createdBy\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    {tDashboard(\"file.createdAt\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 80 }}>\n                                    {tDashboard(\"policy.actions\")}\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {downloads.map((row) => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={(event) =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        style={{ wordBreak: \"break-all\" }}\n                                    >\n                                        {row.Source}\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.Status === 0 && t(\"ready\")}\n                                        {row.Status === 1 && t(\"downloading\")}\n                                        {row.Status === 2 && t(\"paused\")}\n                                        {row.Status === 3 && t(\"error\")}\n                                        {row.Status === 4 && t(\"finished\")}\n                                        {row.Status === 5 && t(\"canceled\")}\n                                        {row.Status === 6 && t(\"unknown\")}\n                                        {row.Status === 7 && t(\"seeding\")}\n                                    </TableCell>\n                                    <TableCell>\n                                        {row.NodeID <= 1 && (\n                                            <Link\n                                                component={RouterLink}\n                                                to={\"/admin/node/edit/1\"}\n                                            >\n                                                {tDashboard(\"node.master\")}\n                                            </Link>\n                                        )}\n                                        {row.NodeID > 1 && (\n                                            <Link\n                                                component={RouterLink}\n                                                to={\n                                                    \"/admin/node/edit/\" +\n                                                    row.NodeID\n                                                }\n                                            >\n                                                {tDashboard(\"node.slave\")}#\n                                                {row.NodeID}\n                                            </Link>\n                                        )}\n                                    </TableCell>\n                                    <TableCell align={\"right\"}>\n                                        {sizeToString(row.TotalSize)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : tDashboard(\n                                                      \"file.unknownUploader\"\n                                                  )}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {formatLocalTime(row.CreatedAt)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip\n                                            title={tDashboard(\"policy.delete\")}\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import { lighten } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Delete } from \"@material-ui/icons\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport { getTaskProgress, getTaskStatus, getTaskType } from \"../../../config\";\nimport API from \"../../../middleware/Api\";\nimport ShareFilter from \"../Dialogs/ShareFilter\";\nimport { formatLocalTime } from \"../../../utils/datetime\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    headerRight: {},\n    highlight:\n        theme.palette.type === \"light\"\n            ? {\n                  color: theme.palette.secondary.main,\n                  backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n              }\n            : {\n                  color: theme.palette.text.primary,\n                  backgroundColor: theme.palette.secondary.dark,\n              },\n    visuallyHidden: {\n        border: 0,\n        clip: \"rect(0 0 0 0)\",\n        height: 1,\n        margin: -1,\n        overflow: \"hidden\",\n        padding: 0,\n        position: \"absolute\",\n        top: 20,\n        width: 1,\n    },\n}));\n\nexport default function Task() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"task\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const [tasks, setTasks] = useState([]);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n    const [filter, setFilter] = useState({});\n    const [users, setUsers] = useState({});\n    const [search, setSearch] = useState({});\n    const [orderBy, setOrderBy] = useState([\"id\", \"desc\"]);\n    const [filterDialog, setFilterDialog] = useState(false);\n    const [selected, setSelected] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/task/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: orderBy.join(\" \"),\n            conditions: filter,\n            searches: search,\n        })\n            .then((response) => {\n                setUsers(response.data.users);\n                setTasks(response.data.items);\n                setTotal(response.data.total);\n                setSelected([]);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize, orderBy, filter, search]);\n\n    const deletePolicy = (id) => {\n        setLoading(true);\n        API.post(\"/admin/task/delete\", { id: [id] })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"taskDeleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteBatch = () => {\n        setLoading(true);\n        API.post(\"/admin/task/delete\", { id: selected })\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"taskDeleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleSelectAllClick = (event) => {\n        if (event.target.checked) {\n            const newSelecteds = tasks.map((n) => n.ID);\n            setSelected(newSelecteds);\n            return;\n        }\n        setSelected([]);\n    };\n\n    const handleClick = (event, name) => {\n        const selectedIndex = selected.indexOf(name);\n        let newSelected = [];\n\n        if (selectedIndex === -1) {\n            newSelected = newSelected.concat(selected, name);\n        } else if (selectedIndex === 0) {\n            newSelected = newSelected.concat(selected.slice(1));\n        } else if (selectedIndex === selected.length - 1) {\n            newSelected = newSelected.concat(selected.slice(0, -1));\n        } else if (selectedIndex > 0) {\n            newSelected = newSelected.concat(\n                selected.slice(0, selectedIndex),\n                selected.slice(selectedIndex + 1)\n            );\n        }\n\n        setSelected(newSelected);\n    };\n\n    const getError = (error) => {\n        if (error === \"\") {\n            return \"-\";\n        }\n        try {\n            const res = JSON.parse(error);\n            return res.msg;\n        } catch (e) {\n            return t(\"unknown\");\n        }\n    };\n\n    const isSelected = (id) => selected.indexOf(id) !== -1;\n\n    return (\n        <div>\n            <ShareFilter\n                filter={filter}\n                open={filterDialog}\n                onClose={() => setFilterDialog(false)}\n                setSearch={setSearch}\n                setFilter={setFilter}\n            />\n            <div className={classes.header}>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {tDashboard(\"policy.refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                {selected.length > 0 && (\n                    <Toolbar className={classes.highlight}>\n                        <Typography\n                            style={{ flex: \"1 1 100%\" }}\n                            color=\"inherit\"\n                            variant=\"subtitle1\"\n                        >\n                            {tDashboard(\"user.selectedObjects\", {\n                                num: selected.length,\n                            })}\n                        </Typography>\n                        <Tooltip title={tDashboard(\"policy.delete\")}>\n                            <IconButton\n                                onClick={deleteBatch}\n                                disabled={loading}\n                                aria-label=\"delete\"\n                            >\n                                <Delete />\n                            </IconButton>\n                        </Tooltip>\n                    </Toolbar>\n                )}\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                <TableCell padding=\"checkbox\">\n                                    <Checkbox\n                                        indeterminate={\n                                            selected.length > 0 &&\n                                            selected.length < tasks.length\n                                        }\n                                        checked={\n                                            tasks.length > 0 &&\n                                            selected.length === tasks.length\n                                        }\n                                        onChange={handleSelectAllClick}\n                                        inputProps={{\n                                            \"aria-label\": \"select all desserts\",\n                                        }}\n                                    />\n                                </TableCell>\n                                <TableCell style={{ minWidth: 10 }}>\n                                    <TableSortLabel\n                                        active={orderBy[0] === \"id\"}\n                                        direction={orderBy[1]}\n                                        onClick={() =>\n                                            setOrderBy([\n                                                \"id\",\n                                                orderBy[1] === \"asc\"\n                                                    ? \"desc\"\n                                                    : \"asc\",\n                                            ])\n                                        }\n                                    >\n                                        #\n                                        {orderBy[0] === \"id\" ? (\n                                            <span\n                                                className={\n                                                    classes.visuallyHidden\n                                                }\n                                            >\n                                                {orderBy[1] === \"desc\"\n                                                    ? \"sorted descending\"\n                                                    : \"sorted ascending\"}\n                                            </span>\n                                        ) : null}\n                                    </TableSortLabel>\n                                </TableCell>\n                                <TableCell style={{ minWidth: 130 }}>\n                                    {tDashboard(\"policy.type\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    {tDashboard(\"user.status\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 90 }}>\n                                    {t(\"lastProgress\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    {t(\"errorMsg\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 100 }}>\n                                    {t(\"createdBy\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 150 }}>\n                                    {tDashboard(\"file.createdAt\")}\n                                </TableCell>\n                                <TableCell style={{ minWidth: 80 }}>\n                                    {tDashboard(\"policy.actions\")}\n                                </TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {tasks.map((row) => (\n                                <TableRow\n                                    hover\n                                    key={row.ID}\n                                    role=\"checkbox\"\n                                    selected={isSelected(row.ID)}\n                                >\n                                    <TableCell padding=\"checkbox\">\n                                        <Checkbox\n                                            onClick={(event) =>\n                                                handleClick(event, row.ID)\n                                            }\n                                            checked={isSelected(row.ID)}\n                                        />\n                                    </TableCell>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        style={{ wordBreak: \"break-all\" }}\n                                    >\n                                        {getTaskType(row.Type)}\n                                    </TableCell>\n                                    <TableCell>\n                                        {getTaskStatus(row.Status)}\n                                    </TableCell>\n                                    <TableCell>\n                                        {getTaskProgress(\n                                            row.Type,\n                                            row.Progress\n                                        )}\n                                    </TableCell>\n                                    <TableCell className={classes.noWrap}>\n                                        {getError(row.Error)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Link\n                                            href={\n                                                \"/admin/user/edit/\" + row.UserID\n                                            }\n                                        >\n                                            {users[row.UserID]\n                                                ? users[row.UserID].Nick\n                                                : t(\"unknown\")}\n                                        </Link>\n                                    </TableCell>\n                                    <TableCell>\n                                        {formatLocalTime(row.CreatedAt)}\n                                    </TableCell>\n                                    <TableCell>\n                                        <Tooltip\n                                            title={tDashboard(\"policy.delete\")}\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    deletePolicy(row.ID)\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 50, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import { Dialog } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Chip from \"@material-ui/core/Chip\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Fade from \"@material-ui/core/Fade\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Input from \"@material-ui/core/Input\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Popper from \"@material-ui/core/Popper\";\nimport Select from \"@material-ui/core/Select\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport API from \"../../../middleware/Api\";\nimport PathSelector from \"../../FileManager/PathSelector\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    userSelect: {\n        width: 400,\n        borderRadius: 0,\n    },\n}));\n\nfunction useDebounce(value, delay) {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n\n    useEffect(() => {\n        const handler = setTimeout(() => {\n            setDebouncedValue(value);\n        }, delay);\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [value]);\n\n    return debouncedValue;\n}\n\nexport default function Import() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"file\" });\n    const { t: tCommon } = useTranslation(\"common\");\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        policy: 1,\n        userInput: \"\",\n        src: \"\",\n        dst: \"\",\n        recursive: true,\n    });\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [policies, setPolicies] = useState({});\n    const [users, setUsers] = useState([]);\n    const [user, setUser] = useState(null);\n    const [selectRemote, setSelectRemote] = useState(false);\n    const [selectLocal, setSelectLocal] = useState(false);\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleCheckChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.checked,\n        });\n    };\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (user === null) {\n            ToggleSnackbar(\"top\", \"right\", t(\"selectTargetUser\"), \"warning\");\n            return;\n        }\n        setLoading(true);\n        API.post(\"/admin/task/import\", {\n            uid: user.ID,\n            policy_id: parseInt(options.policy),\n            src: options.src,\n            dst: options.dst,\n            recursive: options.recursive,\n        })\n            .then(() => {\n                setLoading(false);\n                history.push(\"/admin/file\");\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"importTaskCreated\"),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                setLoading(false);\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const debouncedSearchTerm = useDebounce(options.userInput, 500);\n\n    useEffect(() => {\n        if (debouncedSearchTerm !== \"\") {\n            API.post(\"/admin/user/list\", {\n                page: 1,\n                page_size: 10000,\n                order_by: \"id asc\",\n                searches: {\n                    nick: debouncedSearchTerm,\n                    email: debouncedSearchTerm,\n                },\n            })\n                .then((response) => {\n                    setUsers(response.data.items);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                });\n        }\n    }, [debouncedSearchTerm]);\n\n    useEffect(() => {\n        API.post(\"/admin/policy/list\", {\n            page: 1,\n            page_size: 10000,\n            order_by: \"id asc\",\n            conditions: {},\n        })\n            .then((response) => {\n                const res = {};\n                response.data.items.forEach((v) => {\n                    res[v.ID] = v;\n                });\n                setPolicies(res);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const selectUser = (u) => {\n        setOptions({\n            ...options,\n            userInput: \"\",\n        });\n        setUser(u);\n    };\n\n    const setMoveTarget = (setter) => (folder) => {\n        const path =\n            folder.path === \"/\"\n                ? folder.path + folder.name\n                : folder.path + \"/\" + folder.name;\n        setter(path === \"//\" ? \"/\" : path);\n    };\n\n    const openPathSelector = (isSrcSelect) => {\n        if (isSrcSelect) {\n            if (\n                !policies[options.policy] ||\n                policies[options.policy].Type === \"local\" ||\n                policies[options.policy].Type === \"remote\"\n            ) {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"manuallyPathOnly\"),\n                    \"warning\"\n                );\n                return;\n            }\n            setSelectRemote(true);\n        } else {\n            if (user === null) {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"selectTargetUser\"),\n                    \"warning\"\n                );\n                return;\n            }\n            setSelectLocal(true);\n        }\n    };\n\n    return (\n        <div>\n            <Dialog\n                open={selectRemote}\n                onClose={() => setSelectRemote(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {t(\"selectFolder\")}\n                </DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    api={\"/admin/file/folders/policy/\" + options.policy}\n                    selected={[]}\n                    onSelect={setMoveTarget((p) =>\n                        setOptions({\n                            ...options,\n                            src: p,\n                        })\n                    )}\n                />\n\n                <DialogActions>\n                    <Button\n                        onClick={() => setSelectRemote(false)}\n                        color=\"primary\"\n                    >\n                        {tCommon(\"ok\")}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <Dialog\n                open={selectLocal}\n                onClose={() => setSelectLocal(false)}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {t(\"selectFolder\")}\n                </DialogTitle>\n                <PathSelector\n                    presentPath=\"/\"\n                    api={\n                        \"/admin/file/folders/user/\" +\n                        (user === null ? 0 : user.ID)\n                    }\n                    selected={[]}\n                    onSelect={setMoveTarget((p) =>\n                        setOptions({\n                            ...options,\n                            dst: p,\n                        })\n                    )}\n                />\n\n                <DialogActions>\n                    <Button\n                        onClick={() => setSelectLocal(false)}\n                        color=\"primary\"\n                    >\n                        {tCommon(\"ok\")}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"importExternalFolder\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <Alert severity=\"info\">\n                                {t(\"importExternalFolderDes\")}\n                            </Alert>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"storagePolicy\")}\n                                </InputLabel>\n                                <Select\n                                    labelId=\"demo-mutiple-chip-label\"\n                                    id=\"demo-mutiple-chip\"\n                                    value={options.policy}\n                                    onChange={handleChange(\"policy\")}\n                                    input={<Input id=\"select-multiple-chip\" />}\n                                >\n                                    {Object.keys(policies).map((pid) => (\n                                        <MenuItem key={pid} value={pid}>\n                                            {policies[pid].Name}\n                                        </MenuItem>\n                                    ))}\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"storagePolicyDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"targetUser\")}\n                                </InputLabel>\n                                <Input\n                                    value={options.userInput}\n                                    onChange={(e) => {\n                                        handleChange(\"userInput\")(e);\n                                        setAnchorEl(e.currentTarget);\n                                    }}\n                                    startAdornment={\n                                        user !== null && (\n                                            <InputAdornment position=\"start\">\n                                                <Chip\n                                                    size=\"small\"\n                                                    onDelete={() => {\n                                                        setUser(null);\n                                                    }}\n                                                    label={user.Nick}\n                                                />\n                                            </InputAdornment>\n                                        )\n                                    }\n                                    disabled={user !== null}\n                                />\n                                <Popper\n                                    open={\n                                        options.userInput !== \"\" &&\n                                        users.length > 0\n                                    }\n                                    anchorEl={anchorEl}\n                                    placement={\"bottom\"}\n                                    transition\n                                >\n                                    {({ TransitionProps }) => (\n                                        <Fade\n                                            {...TransitionProps}\n                                            timeout={350}\n                                        >\n                                            <Paper\n                                                className={classes.userSelect}\n                                            >\n                                                {users.map((u) => (\n                                                    <MenuItem\n                                                        key={u.Email}\n                                                        onClick={() =>\n                                                            selectUser(u)\n                                                        }\n                                                    >\n                                                        {u.Nick}{\" \"}\n                                                        {\"<\" + u.Email + \">\"}\n                                                    </MenuItem>\n                                                ))}\n                                            </Paper>\n                                        </Fade>\n                                    )}\n                                </Popper>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"targetUserDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"srcFolderPath\")}\n                                </InputLabel>\n\n                                <Input\n                                    value={options.src}\n                                    onChange={(e) => {\n                                        handleChange(\"src\")(e);\n                                        setAnchorEl(e.currentTarget);\n                                    }}\n                                    required\n                                    endAdornment={\n                                        <Button\n                                            onClick={() =>\n                                                openPathSelector(true)\n                                            }\n                                        >\n                                            {t(\"select\")}\n                                        </Button>\n                                    }\n                                />\n\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"selectSrcDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"dstFolderPath\")}\n                                </InputLabel>\n\n                                <Input\n                                    value={options.dst}\n                                    onChange={(e) => {\n                                        handleChange(\"dst\")(e);\n                                        setAnchorEl(e.currentTarget);\n                                    }}\n                                    required\n                                    endAdornment={\n                                        <Button\n                                            onClick={() =>\n                                                openPathSelector(false)\n                                            }\n                                        >\n                                            {t(\"select\")}\n                                        </Button>\n                                    }\n                                />\n\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"dstFolderPathDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <FormControlLabel\n                                    control={\n                                        <Switch\n                                            checked={options.recursive}\n                                            onChange={handleCheckChange(\n                                                \"recursive\"\n                                            )}\n                                        />\n                                    }\n                                    label={t(\"recursivelyImport\")}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"recursivelyImportDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"createImportTask\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Button from \"@material-ui/core/Button\";\nimport API from \"../../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Input from \"@material-ui/core/Input\";\nimport Link from \"@material-ui/core/Link\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n        marginBottom: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n}));\n\nexport default function Captcha() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"settings\" });\n    const classes = useStyles();\n    const [loading, setLoading] = useState(false);\n    const [options, setOptions] = useState({\n        captcha_type: \"normal\",\n        captcha_height: \"1\",\n        captcha_width: \"1\",\n        captcha_mode: \"3\",\n        captcha_CaptchaLen: \"6\",\n        captcha_ComplexOfNoiseText: \"0\",\n        captcha_ComplexOfNoiseDot: \"0\",\n        captcha_IsShowHollowLine: \"0\",\n        captcha_IsShowNoiseDot: \"0\",\n        captcha_IsShowNoiseText: \"0\",\n        captcha_IsShowSlimeLine: \"0\",\n        captcha_IsShowSineLine: \"0\",\n        captcha_ReCaptchaKey: \"\",\n        captcha_ReCaptchaSecret: \"\",\n        captcha_TCaptcha_CaptchaAppId: \"\",\n        captcha_TCaptcha_AppSecretKey: \"\",\n        captcha_TCaptcha_SecretId: \"\",\n        captcha_TCaptcha_SecretKey: \"\",\n    });\n\n    const handleChange = (name) => (event) => {\n        setOptions({\n            ...options,\n            [name]: event.target.value,\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.post(\"/admin/setting\", {\n            keys: Object.keys(options),\n        })\n            .then((response) => {\n                setOptions(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n        // eslint-disable-next-line\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        setLoading(true);\n        const option = [];\n        Object.keys(options).forEach((k) => {\n            option.push({\n                key: k,\n                value: options[k],\n            });\n        });\n        API.patch(\"/admin/setting\", {\n            options: option,\n        })\n            .then(() => {\n                ToggleSnackbar(\"top\", \"right\", t(\"saved\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const handleCheckChange = (name) => (event) => {\n        const value = event.target.checked ? \"1\" : \"0\";\n        setOptions({\n            ...options,\n            [name]: value,\n        });\n    };\n\n    return (\n        <div>\n            <form onSubmit={submit}>\n                <div className={classes.root}>\n                    <Typography variant=\"h6\" gutterBottom>\n                        {t(\"captcha\")}\n                    </Typography>\n                    <div className={classes.formContainer}>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"captchaType\")}\n                                </InputLabel>\n                                <Select\n                                    value={options.captcha_type}\n                                    onChange={handleChange(\"captcha_type\")}\n                                    required\n                                >\n                                    <MenuItem value={\"normal\"}>\n                                        {t(\"plainCaptcha\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"recaptcha\"}>\n                                        {t(\"reCaptchaV2\")}\n                                    </MenuItem>\n                                    <MenuItem value={\"tcaptcha\"}>\n                                        {t(\"tencentCloudCaptcha\")}\n                                    </MenuItem>\n                                </Select>\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"captchaProvider\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                {options.captcha_type === \"normal\" && (\n                    <div className={classes.root}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {t(\"plainCaptchaTitle\")}\n                        </Typography>\n                        <div className={classes.formContainer}>\n                            <div className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"captchaWidth\")}\n                                    </InputLabel>\n                                    <Input\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={options.captcha_width}\n                                        onChange={handleChange(\"captcha_width\")}\n                                        required\n                                    />\n                                </FormControl>\n                            </div>\n\n                            <div className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"captchaHeight\")}\n                                    </InputLabel>\n                                    <Input\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={options.captcha_height}\n                                        onChange={handleChange(\n                                            \"captcha_height\"\n                                        )}\n                                        required\n                                    />\n                                </FormControl>\n                            </div>\n\n                            <div className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"captchaLength\")}\n                                    </InputLabel>\n                                    <Input\n                                        type={\"number\"}\n                                        inputProps={{\n                                            min: 1,\n                                            step: 1,\n                                        }}\n                                        value={options.captcha_CaptchaLen}\n                                        onChange={handleChange(\n                                            \"captcha_CaptchaLen\"\n                                        )}\n                                        required\n                                    />\n                                </FormControl>\n                            </div>\n                            <div className={classes.form}>\n                                <FormControl>\n                                    <InputLabel htmlFor=\"component-helper\">\n                                        {t(\"captchaMode\")}\n                                    </InputLabel>\n                                    <Select\n                                        value={options.captcha_mode}\n                                        onChange={handleChange(\"captcha_mode\")}\n                                        required\n                                    >\n                                        <MenuItem value={\"0\"}>\n                                            {t(\"captchaModeNumber\")}\n                                        </MenuItem>\n                                        <MenuItem value={\"1\"}>\n                                            {t(\"captchaModeLetter\")}\n                                        </MenuItem>\n                                        <MenuItem value={\"2\"}>\n                                            {t(\"captchaModeMath\")}\n                                        </MenuItem>\n                                        <MenuItem value={\"3\"}>\n                                            {t(\"captchaModeNumberLetter\")}\n                                        </MenuItem>\n                                    </Select>\n                                    <FormHelperText id=\"component-helper-text\">\n                                        {t(\"captchaElement\")}\n                                    </FormHelperText>\n                                </FormControl>\n                            </div>\n                            {[\n                                {\n                                    name: \"complexOfNoiseText\",\n                                    field: \"captcha_ComplexOfNoiseText\",\n                                },\n                                {\n                                    name: \"complexOfNoiseDot\",\n                                    field: \"captcha_ComplexOfNoiseDot\",\n                                },\n                                {\n                                    name: \"showHollowLine\",\n                                    field: \"captcha_IsShowHollowLine\",\n                                },\n                                {\n                                    name: \"showNoiseDot\",\n                                    field: \"captcha_IsShowNoiseDot\",\n                                },\n                                {\n                                    name: \"showNoiseText\",\n                                    field: \"captcha_IsShowNoiseText\",\n                                },\n                                {\n                                    name: \"showSlimeLine\",\n                                    field: \"captcha_IsShowSlimeLine\",\n                                },\n                                {\n                                    name: \"showSineLine\",\n                                    field: \"captcha_IsShowSineLine\",\n                                },\n                            ].map((input) => (\n                                <div key={input.name} className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <FormControlLabel\n                                            control={\n                                                <Switch\n                                                    checked={\n                                                        options[input.field] ===\n                                                        \"1\"\n                                                    }\n                                                    onChange={handleCheckChange(\n                                                        input.field\n                                                    )}\n                                                />\n                                            }\n                                            label={t(input.name)}\n                                        />\n                                    </FormControl>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {options.captcha_type === \"recaptcha\" && (\n                    <div className={classes.root}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {t(\"reCaptchaV2\")}\n                        </Typography>\n                        <div className={classes.formContainer}>\n                            <div className={classes.form}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"siteKey\")}\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={options.captcha_ReCaptchaKey}\n                                            onChange={handleChange(\n                                                \"captcha_ReCaptchaKey\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Trans\n                                                ns={\"dashboard\"}\n                                                i18nKey={\"settings.siteKeyDes\"}\n                                                components={[\n                                                    <Link\n                                                        key={0}\n                                                        href={\n                                                            \"https://www.google.com/recaptcha/admin/create\"\n                                                        }\n                                                        target={\"_blank\"}\n                                                    />,\n                                                ]}\n                                            />\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"siteSecret\")}\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={\n                                                options.captcha_ReCaptchaSecret\n                                            }\n                                            onChange={handleChange(\n                                                \"captcha_ReCaptchaSecret\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Trans\n                                                ns={\"dashboard\"}\n                                                i18nKey={\n                                                    \"settings.siteSecretDes\"\n                                                }\n                                                components={[\n                                                    <Link\n                                                        key={0}\n                                                        href={\n                                                            \"https://www.google.com/recaptcha/admin/create\"\n                                                        }\n                                                        target={\"_blank\"}\n                                                    />,\n                                                ]}\n                                            />\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                {options.captcha_type === \"tcaptcha\" && (\n                    <div className={classes.root}>\n                        <Typography variant=\"h6\" gutterBottom>\n                            {t(\"tencentCloudCaptcha\")}\n                        </Typography>\n                        <div className={classes.formContainer}>\n                            <div className={classes.form}>\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"secretID\")}\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={\n                                                options.captcha_TCaptcha_SecretId\n                                            }\n                                            onChange={handleChange(\n                                                \"captcha_TCaptcha_SecretId\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Trans\n                                                ns={\"dashboard\"}\n                                                i18nKey={\n                                                    \"settings.siteSecretDes\"\n                                                }\n                                                components={[\n                                                    <Link\n                                                        key={0}\n                                                        href={\n                                                            \"https://console.cloud.tencent.com/capi\"\n                                                        }\n                                                        target={\"_blank\"}\n                                                    />,\n                                                ]}\n                                            />\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"secretKey\")}\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={\n                                                options.captcha_TCaptcha_SecretKey\n                                            }\n                                            onChange={handleChange(\n                                                \"captcha_TCaptcha_SecretKey\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Trans\n                                                ns={\"dashboard\"}\n                                                i18nKey={\n                                                    \"settings.secretKeyDes\"\n                                                }\n                                                components={[\n                                                    <Link\n                                                        key={0}\n                                                        href={\n                                                            \"https://console.cloud.tencent.com/capi\"\n                                                        }\n                                                        target={\"_blank\"}\n                                                    />,\n                                                ]}\n                                            />\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"tCaptchaAppID\")}\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={\n                                                options.captcha_TCaptcha_CaptchaAppId\n                                            }\n                                            onChange={handleChange(\n                                                \"captcha_TCaptcha_CaptchaAppId\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Trans\n                                                ns={\"dashboard\"}\n                                                i18nKey={\n                                                    \"settings.tCaptchaAppIDDes\"\n                                                }\n                                                components={[\n                                                    <Link\n                                                        key={0}\n                                                        href={\n                                                            \"https://console.cloud.tencent.com/captcha/graphical\"\n                                                        }\n                                                        target={\"_blank\"}\n                                                    />,\n                                                ]}\n                                            />\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n\n                                <div className={classes.form}>\n                                    <FormControl fullWidth>\n                                        <InputLabel htmlFor=\"component-helper\">\n                                            {t(\"tCaptchaSecretKey\")}\n                                        </InputLabel>\n                                        <Input\n                                            required\n                                            value={\n                                                options.captcha_TCaptcha_AppSecretKey\n                                            }\n                                            onChange={handleChange(\n                                                \"captcha_TCaptcha_AppSecretKey\"\n                                            )}\n                                        />\n                                        <FormHelperText id=\"component-helper-text\">\n                                            <Trans\n                                                ns={\"dashboard\"}\n                                                i18nKey={\n                                                    \"settings.tCaptchaSecretKeyDes\"\n                                                }\n                                                components={[\n                                                    <Link\n                                                        key={0}\n                                                        href={\n                                                            \"https://console.cloud.tencent.com/captcha/graphical\"\n                                                        }\n                                                        target={\"_blank\"}\n                                                    />,\n                                                ]}\n                                            />\n                                        </FormHelperText>\n                                    </FormControl>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                )}\n\n                <div className={classes.root}>\n                    <Button\n                        disabled={loading}\n                        type={\"submit\"}\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                    >\n                        {t(\"save\")}\n                    </Button>\n                </div>\n            </form>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport API from \"../../../middleware/Api\";\nimport { useDispatch } from \"react-redux\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport Table from \"@material-ui/core/Table\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport { useHistory } from \"react-router\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport {\n    Cancel,\n    CheckCircle,\n    Delete,\n    Edit,\n    Pause,\n    PlayArrow,\n} from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Chip from \"@material-ui/core/Chip\";\nimport classNames from \"classnames\";\nimport Box from \"@material-ui/core/Box\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n    container: {\n        overflowX: \"auto\",\n    },\n    tableContainer: {\n        marginTop: 16,\n    },\n    header: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n    },\n    disabledBadge: {\n        marginLeft: theme.spacing(1),\n        height: 18,\n    },\n    disabledCell: {\n        color: theme.palette.text.disabled,\n    },\n    verticalAlign: {\n        verticalAlign: \"middle\",\n        display: \"inline-block\",\n    },\n}));\n\nconst columns = [\n    { id: \"#\", minWidth: 50 },\n    { id: \"name\", minWidth: 170 },\n    {\n        id: \"status\",\n        minWidth: 50,\n    },\n    {\n        id: \"features\",\n        minWidth: 170,\n    },\n    {\n        id: \"action\",\n        minWidth: 170,\n    },\n];\n\nconst features = [\n    {\n        field: \"Aria2Enabled\",\n        name: \"remoteDownload\",\n    },\n];\n\nexport default function Node() {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"node\" });\n    const classes = useStyles();\n    const [nodes, setNodes] = useState([]);\n    const [isActive, setIsActive] = useState({});\n    const [loading, setLoading] = useState(false);\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [total, setTotal] = useState(0);\n\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const loadList = () => {\n        API.post(\"/admin/node/list\", {\n            page: page,\n            page_size: pageSize,\n            order_by: \"id desc\",\n        })\n            .then((response) => {\n                setNodes(response.data.items);\n                setTotal(response.data.total);\n                setIsActive(response.data.active);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    };\n\n    const toggleNode = (id, desired) => {\n        setLoading(true);\n        API.patch(\"/admin/node/enable/\" + id + \"/\" + desired)\n            .then((response) => {\n                loadList();\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    desired === 1 ? t(\"nodeDisabled\") : t(\"nodeEnabled\"),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const deleteNode = (id) => {\n        setLoading(true);\n        API.delete(\"/admin/node/\" + id)\n            .then(() => {\n                loadList();\n                ToggleSnackbar(\"top\", \"right\", t(\"nodeDeleted\"), \"success\");\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    useEffect(() => {\n        loadList();\n    }, [page, pageSize]);\n\n    const getStatusBadge = (status) => {\n        if (status === 1) {\n            return (\n                <Chip\n                    className={classes.disabledBadge}\n                    size=\"small\"\n                    label={t(\"disabled\")}\n                />\n            );\n        }\n    };\n\n    const getFeatureBadge = (node) =>\n        features.map((feature) => {\n            if (node[feature.field]) {\n                return (\n                    <Chip\n                        className={classes.disabledBadge}\n                        size=\"small\"\n                        color=\"primary\"\n                        label={t(feature.name)}\n                    />\n                );\n            }\n        });\n\n    const getRealStatusBadge = (status) =>\n        status ? (\n            <Box color=\"success.main\" fontSize=\"small\">\n                <CheckCircle\n                    className={classes.verticalAlign}\n                    fontSize=\"small\"\n                />{\" \"}\n                <span className={classes.verticalAlign}>{t(\"online\")}</span>\n            </Box>\n        ) : (\n            <Box color=\"error.main\" fontSize=\"small\">\n                <Cancel className={classes.verticalAlign} fontSize=\"small\" />{\" \"}\n                <span className={classes.verticalAlign}>{t(\"offline\")}</span>\n            </Box>\n        );\n\n    return (\n        <div>\n            <div className={classes.header}>\n                <Button\n                    color={\"primary\"}\n                    onClick={() => history.push(\"/admin/node/add\")}\n                    variant={\"contained\"}\n                >\n                    {t(\"addNewNode\")}\n                </Button>\n                <div className={classes.headerRight}>\n                    <Button\n                        color={\"primary\"}\n                        onClick={() => loadList()}\n                        variant={\"outlined\"}\n                    >\n                        {t(\"refresh\")}\n                    </Button>\n                </div>\n            </div>\n\n            <Paper square className={classes.tableContainer}>\n                <TableContainer className={classes.container}>\n                    <Table aria-label=\"sticky table\" size={\"small\"}>\n                        <TableHead>\n                            <TableRow style={{ height: 52 }}>\n                                {columns.map((column) => (\n                                    <TableCell\n                                        key={column.id}\n                                        align={column.align}\n                                        style={{\n                                            minWidth: column.minWidthclassNames,\n                                        }}\n                                    >\n                                        {t(column.id)}\n                                    </TableCell>\n                                ))}\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {nodes.map((row) => (\n                                <TableRow hover key={row.ID}>\n                                    <TableCell>{row.ID}</TableCell>\n                                    <TableCell\n                                        className={classNames({\n                                            [classes.disabledCell]:\n                                                row.Status === 1,\n                                        })}\n                                    >\n                                        {row.Name}\n                                        {getStatusBadge(row.Status)}\n                                    </TableCell>\n                                    <TableCell>\n                                        {getRealStatusBadge(isActive[row.ID])}\n                                    </TableCell>\n                                    <TableCell>\n                                        {getFeatureBadge(row)}\n                                    </TableCell>\n\n                                    <TableCell align={\"right\"}>\n                                        <Tooltip\n                                            title={\n                                                row.Status === 1\n                                                    ? t(\"enableNode\")\n                                                    : t(\"disableNode\")\n                                            }\n                                        >\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    toggleNode(\n                                                        row.ID,\n                                                        1 - row.Status\n                                                    )\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                {row.Status === 1 && (\n                                                    <PlayArrow />\n                                                )}\n                                                {row.Status !== 1 && <Pause />}\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={t(\"edit\")}>\n                                            <IconButton\n                                                disabled={loading}\n                                                onClick={() =>\n                                                    history.push(\n                                                        \"/admin/node/edit/\" +\n                                                            row.ID\n                                                    )\n                                                }\n                                                size={\"small\"}\n                                            >\n                                                <Edit />\n                                            </IconButton>\n                                        </Tooltip>\n                                        <Tooltip title={t(\"delete\")}>\n                                            <IconButton\n                                                onClick={() =>\n                                                    deleteNode(row.ID)\n                                                }\n                                                disabled={loading}\n                                                size={\"small\"}\n                                            >\n                                                <Delete />\n                                            </IconButton>\n                                        </Tooltip>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[10, 25, 100]}\n                    component=\"div\"\n                    count={total}\n                    rowsPerPage={pageSize}\n                    page={page - 1}\n                    onChangePage={(e, p) => setPage(p + 1)}\n                    onChangeRowsPerPage={(e) => {\n                        setPageSize(e.target.value);\n                        setPage(1);\n                    }}\n                />\n            </Paper>\n        </div>\n    );\n}\n","import { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Button from \"@material-ui/core/Button\";\nimport API from \"../../../../middleware/Api\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Box from \"@material-ui/core/Box\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n        },\n    },\n}));\n\nexport default function Communication(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"node\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState(false);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const testSlave = () => {\n        setLoading(true);\n\n        // 测试路径是否可用\n        API.post(\"/admin/policy/test/slave\", {\n            server: props.node.Server,\n            secret: props.node.SlaveKey,\n        })\n            .then(() => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    tDashboard(\"policy.communicationOK\"),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    return (\n        <form\n            className={classes.stepContent}\n            onSubmit={(e) => {\n                e.preventDefault();\n                props.onSubmit(e);\n            }}\n        >\n            <Alert severity=\"info\" style={{ marginBottom: 10 }}>\n                <Trans\n                    ns={\"dashboard\"}\n                    i18nKey={\"node.slaveNodeDes\"}\n                    components={[<Box key={0} fontWeight=\"fontWeightBold\" />]}\n                />\n            </Alert>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>1</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {tDashboard(\"policy.remoteCopyBinaryDescription\")}\n                    </Typography>\n                </div>\n            </div>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>2</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {tDashboard(\"policy.remoteSecretDescription\")}\n                    </Typography>\n                    <div className={classes.form}>\n                        <FormControl fullWidth>\n                            <InputLabel htmlFor=\"component-helper\">\n                                {tDashboard(\"policy.remoteSecret\")}\n                            </InputLabel>\n                            <Input\n                                required\n                                inputProps={{\n                                    minlength: 64,\n                                }}\n                                value={props.node.SlaveKey}\n                                onChange={props.handleTextChange(\"SlaveKey\")}\n                            />\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>3</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {tDashboard(\"policy.modifyRemoteConfig\")}\n                        <br />\n                        <Trans\n                            ns={\"dashboard\"}\n                            i18nKey={\"policy.addRemoteConfigDes\"}\n                            components={[<code key={0} />]}\n                        />\n                    </Typography>\n                    <pre>\n                        [System]\n                        <br />\n                        Mode = slave\n                        <br />\n                        Listen = :5212\n                        <br />\n                        <br />\n                        [Slave]\n                        <br />\n                        Secret = {props.node.SlaveKey}\n                        <br />\n                        <br />\n                        <Trans\n                            ns={\"dashboard\"}\n                            i18nKey={\"node.overwriteDes\"}\n                            components={[<br key={0} />, <br key={1} />]}\n                        />\n                        <br />\n                        [OptionOverwrite]\n                        <br />; {t(\"workerNumDes\")}\n                        <br />\n                        max_worker_num = 50\n                        <br />; {t(\"parallelTransferDes\")}\n                        <br />\n                        max_parallel_transfer = 10\n                        <br />; {t(\"chunkRetriesDes\")}\n                        <br />\n                        chunk_retries = 10\n                    </pre>\n                    <Typography variant={\"body2\"}>\n                        {tDashboard(\"policy.remoteConfigDifference\")}\n                        <ul>\n                            <li>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.remoteConfigDifference1\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                        <code key={2} />,\n                                    ]}\n                                />\n                            </li>\n                            <li>\n                                <Trans\n                                    ns={\"dashboard\"}\n                                    i18nKey={\"policy.remoteConfigDifference2\"}\n                                    components={[\n                                        <code key={0} />,\n                                        <code key={1} />,\n                                    ]}\n                                />\n                            </li>\n                        </ul>\n                        {t(\"multipleMasterDes\")}\n                    </Typography>\n                </div>\n            </div>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>4</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {tDashboard(\"policy.inputRemoteAddress\")}\n                        <br />\n                        {tDashboard(\"policy.inputRemoteAddressDes\")}\n                    </Typography>\n                    <div className={classes.form}>\n                        <FormControl fullWidth>\n                            <InputLabel htmlFor=\"component-helper\">\n                                {tDashboard(\"policy.remoteAddress\")}\n                            </InputLabel>\n                            <Input\n                                fullWidth\n                                required\n                                type={\"url\"}\n                                value={props.node.Server}\n                                onChange={props.handleTextChange(\"Server\")}\n                            />\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>5</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {tDashboard(\"policy.testCommunicationDes\")}\n                    </Typography>\n                    <div className={classes.form}>\n                        <Button\n                            disabled={loading}\n                            variant={\"outlined\"}\n                            onClick={() => testSlave()}\n                            color={\"primary\"}\n                        >\n                            {tDashboard(\"policy.testCommunication\")}\n                        </Button>\n                    </div>\n                </div>\n            </div>\n\n            <div className={classes.stepFooter}>\n                <Button\n                    disabled={loading || props.loading}\n                    type={\"submit\"}\n                    variant={\"contained\"}\n                    color={\"primary\"}\n                >\n                    {tDashboard(\"policy.next\")}\n                </Button>\n            </div>\n        </form>\n    );\n}\n","import { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport Link from \"@material-ui/core/Link\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Button from \"@material-ui/core/Button\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Box from \"@material-ui/core/Box\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport API from \"../../../../middleware/Api\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport { Trans, useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n        },\n    },\n}));\n\nexport default function Aria2RPC(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"node\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState(false);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const testAria2 = () => {\n        setLoading(true);\n        API.post(\"/admin/node/aria2/test\", {\n            type: props.node.Type,\n            server: props.node.Server,\n            secret: props.node.SlaveKey,\n            rpc: props.node.Aria2OptionsSerialized.server,\n            token: props.node.Aria2OptionsSerialized.token,\n        })\n            .then((response) => {\n                ToggleSnackbar(\n                    \"top\",\n                    \"right\",\n                    t(\"ariaSuccess\", { version: response.data }),\n                    \"success\"\n                );\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            })\n            .then(() => {\n                setLoading(false);\n            });\n    };\n\n    const mode = props.node.Type === 0 ? t(\"slave\") : t(\"master\");\n\n    return (\n        <form\n            className={classes.stepContent}\n            onSubmit={(e) => {\n                e.preventDefault();\n                props.onSubmit(e);\n            }}\n        >\n            <Alert severity=\"info\" style={{ marginBottom: 10 }}>\n                <Typography variant=\"body2\">\n                    <Trans\n                        ns={\"dashboard\"}\n                        i18nKey={\"node.aria2Des\"}\n                        values={{\n                            mode: mode,\n                        }}\n                        components={[\n                            <Link\n                                href={\"https://aria2.github.io/\"}\n                                target={\"_blank\"}\n                                key={0}\n                            />,\n                            <Box\n                                component=\"span\"\n                                fontWeight=\"fontWeightBold\"\n                                key={1}\n                            />,\n                            <Link\n                                href={t(\"aria2DocURL\")}\n                                target={\"_blank\"}\n                                key={2}\n                            />,\n                        ]}\n                    />\n                </Typography>\n            </Alert>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>1</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {props.node.Type === 0\n                            ? t(\"slaveTakeOverRemoteDownload\")\n                            : t(\"masterTakeOverRemoteDownload\")}\n                        <br />\n                        {props.node.Type === 0\n                            ? t(\"routeTaskSlave\")\n                            : t(\"routeTaskMaster\")}\n                    </Typography>\n\n                    <div className={classes.form}>\n                        <FormControl required component=\"fieldset\">\n                            <RadioGroup\n                                required\n                                value={props.node.Aria2Enabled}\n                                onChange={props.handleTextChange(\n                                    \"Aria2Enabled\"\n                                )}\n                                row\n                            >\n                                <FormControlLabel\n                                    value={\"true\"}\n                                    control={<Radio color={\"primary\"} />}\n                                    label={t(\"enable\")}\n                                />\n                                <FormControlLabel\n                                    value={\"false\"}\n                                    control={<Radio color={\"primary\"} />}\n                                    label={t(\"disable\")}\n                                />\n                            </RadioGroup>\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n\n            <Collapse in={props.node.Aria2Enabled === \"true\"}>\n                <div className={classes.subStepContainer}>\n                    <div className={classes.stepNumberContainer}>\n                        <div className={classes.stepNumber}>2</div>\n                    </div>\n                    <div className={classes.subStepContent}>\n                        <Typography variant={\"body2\"}>\n                            {t(\"aria2ConfigDes\", {\n                                target:\n                                    props.node.Type === 0\n                                        ? t(\"slaveNodeTarget\")\n                                        : t(\"masterNodeTarget\"),\n                            })}\n                        </Typography>\n                        <pre>\n                            # {t(\"enableRPCComment\")}\n                            <br />\n                            enable-rpc=true\n                            <br /># {t(\"rpcPortComment\")}\n                            <br />\n                            rpc-listen-port=6800\n                            <br /># {t(\"rpcSecretComment\")}\n                            <br />\n                            rpc-secret=\n                            {props.node.Aria2OptionsSerialized.token}\n                            <br />\n                        </pre>\n                        <Alert severity=\"info\" style={{ marginBottom: 10 }}>\n                            <Typography variant=\"body2\">\n                                {t(\"rpcConfigDes\")}\n                            </Typography>\n                        </Alert>\n                    </div>\n                </div>\n\n                <div className={classes.subStepContainer}>\n                    <div className={classes.stepNumberContainer}>\n                        <div className={classes.stepNumber}>3</div>\n                    </div>\n                    <div className={classes.subStepContent}>\n                        <Typography variant={\"body2\"}>\n                            <Trans\n                                ns={\"dashboard\"}\n                                i18nKey={\"node.rpcServerDes\"}\n                                values={{\n                                    mode: mode,\n                                }}\n                                components={[\n                                    <code key={0} />,\n                                    <code key={1} />,\n                                    <code key={2} />,\n                                ]}\n                            />\n                        </Typography>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"rpcServer\")}\n                                </InputLabel>\n                                <Input\n                                    required\n                                    type={\"url\"}\n                                    value={\n                                        props.node.Aria2OptionsSerialized.server\n                                    }\n                                    onChange={props.handleOptionChange(\n                                        \"server\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"rpcServerHelpDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.subStepContainer}>\n                    <div className={classes.stepNumberContainer}>\n                        <div className={classes.stepNumber}>4</div>\n                    </div>\n                    <div className={classes.subStepContent}>\n                        <Typography variant={\"body2\"}>\n                            <Trans\n                                ns={\"dashboard\"}\n                                i18nKey={\"node.rpcTokenDes\"}\n                                components={[<code key={0} />]}\n                            />\n                        </Typography>\n                        <div className={classes.form}>\n                            <Input\n                                value={props.node.Aria2OptionsSerialized.token}\n                                onChange={props.handleOptionChange(\"token\")}\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.subStepContainer}>\n                    <div className={classes.stepNumberContainer}>\n                        <div className={classes.stepNumber}>5</div>\n                    </div>\n                    <div className={classes.subStepContent}>\n                        <Typography variant={\"body2\"}>\n                            <Trans\n                                ns={\"dashboard\"}\n                                i18nKey={\"node.aria2PathDes\"}\n                                components={[<strong key={0} />]}\n                            />\n                        </Typography>\n                        <div className={classes.form}>\n                            <Input\n                                value={\n                                    props.node.Aria2OptionsSerialized.temp_path\n                                }\n                                onChange={props.handleOptionChange(\"temp_path\")}\n                            />\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.subStepContainer}>\n                    <div className={classes.stepNumberContainer}>\n                        <div className={classes.stepNumber}>5</div>\n                    </div>\n                    <div className={classes.subStepContent}>\n                        <Typography variant={\"body2\"}>\n                            {t(\"aria2SettingDes\")}\n                        </Typography>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"refreshInterval\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        step: 1,\n                                        min: 1,\n                                    }}\n                                    required\n                                    value={\n                                        props.node.Aria2OptionsSerialized\n                                            .interval\n                                    }\n                                    onChange={props.handleOptionChange(\n                                        \"interval\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"refreshIntervalDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"rpcTimeout\")}\n                                </InputLabel>\n                                <Input\n                                    type={\"number\"}\n                                    inputProps={{\n                                        step: 1,\n                                        min: 1,\n                                    }}\n                                    required\n                                    value={\n                                        props.node.Aria2OptionsSerialized\n                                            .timeout\n                                    }\n                                    onChange={props.handleOptionChange(\n                                        \"timeout\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"rpcTimeoutDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                        <div className={classes.form}>\n                            <FormControl fullWidth>\n                                <InputLabel htmlFor=\"component-helper\">\n                                    {t(\"globalOptions\")}\n                                </InputLabel>\n                                <Input\n                                    multiline\n                                    required\n                                    value={\n                                        props.node.Aria2OptionsSerialized\n                                            .options\n                                    }\n                                    onChange={props.handleOptionChange(\n                                        \"options\"\n                                    )}\n                                />\n                                <FormHelperText id=\"component-helper-text\">\n                                    {t(\"globalOptionsDes\")}\n                                </FormHelperText>\n                            </FormControl>\n                        </div>\n                    </div>\n                </div>\n\n                <div className={classes.subStepContainer}>\n                    <div className={classes.stepNumberContainer}>\n                        <div className={classes.stepNumber}>6</div>\n                    </div>\n                    <div className={classes.subStepContent}>\n                        <Typography variant={\"body2\"}>\n                            {t(\"testAria2Des\", { mode })}\n                            {props.node.Type === 0 &&\n                                t(\"testAria2DesSlaveAddition\")}\n                        </Typography>\n                        <div className={classes.form}>\n                            <Button\n                                disabled={loading}\n                                variant={\"outlined\"}\n                                onClick={() => testAria2()}\n                                color={\"primary\"}\n                            >\n                                {t(\"testAria2\")}\n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </Collapse>\n\n            <div className={classes.stepFooter}>\n                {props.activeStep !== 0 && (\n                    <Button\n                        color={\"default\"}\n                        className={classes.button}\n                        onClick={props.onBack}\n                    >\n                        {tDashboard(\"policy.back\")}\n                    </Button>\n                )}\n                <Button\n                    disabled={loading || props.loading}\n                    type={\"submit\"}\n                    variant={\"contained\"}\n                    color={\"primary\"}\n                    onClick={props.onSubmit}\n                >\n                    {tDashboard(\"policy.next\")}\n                </Button>\n            </div>\n        </form>\n    );\n}\n","import { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Input from \"@material-ui/core/Input\";\nimport Button from \"@material-ui/core/Button\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n        },\n    },\n}));\n\nexport default function Metainfo(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"node\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const classes = useStyles();\n    const dispatch = useDispatch();\n    const [loading, setLoading] = useState(false);\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    return (\n        <form\n            className={classes.stepContent}\n            onSubmit={(e) => {\n                e.preventDefault();\n                props.onSubmit(e);\n            }}\n        >\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>1</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>{t(\"nameNode\")}</Typography>\n                    <div className={classes.form}>\n                        <FormControl fullWidth>\n                            <Input\n                                required\n                                value={props.node.Name}\n                                onChange={props.handleTextChange(\"Name\")}\n                            />\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n\n            <div className={classes.subStepContainer}>\n                <div className={classes.stepNumberContainer}>\n                    <div className={classes.stepNumber}>2</div>\n                </div>\n                <div className={classes.subStepContent}>\n                    <Typography variant={\"body2\"}>\n                        {t(\"loadBalancerRankDes\")}\n                    </Typography>\n                    <div className={classes.form}>\n                        <FormControl fullWidth>\n                            <InputLabel htmlFor=\"component-helper\">\n                                {t(\"loadBalancerRank\")}\n                            </InputLabel>\n                            <Input\n                                type={\"number\"}\n                                required\n                                inputProps={{\n                                    step: 1,\n                                    min: 0,\n                                }}\n                                value={props.node.Rank}\n                                onChange={props.handleTextChange(\"Rank\")}\n                            />\n                        </FormControl>\n                    </div>\n                </div>\n            </div>\n\n            <div className={classes.stepFooter}>\n                <Button\n                    disabled={loading || props.loading}\n                    type={\"submit\"}\n                    variant={\"contained\"}\n                    color={\"primary\"}\n                >\n                    {tDashboard(\"policy.next\")}\n                </Button>\n            </div>\n        </form>\n    );\n}\n","import { lighten, makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport { useHistory } from \"react-router\";\nimport { useTranslation } from \"react-i18next\";\n\nconst useStyles = makeStyles((theme) => ({\n    stepContent: {\n        padding: \"16px 32px 16px 32px\",\n    },\n    form: {\n        maxWidth: 400,\n        marginTop: 20,\n    },\n    formContainer: {\n        [theme.breakpoints.up(\"md\")]: {\n            padding: \"0px 24px 0 24px\",\n        },\n    },\n    subStepContainer: {\n        display: \"flex\",\n        marginBottom: 20,\n        padding: 10,\n        transition: theme.transitions.create(\"background-color\", {\n            easing: theme.transitions.easing.sharp,\n            duration: theme.transitions.duration.leavingScreen,\n        }),\n        \"&:focus-within\": {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    stepNumber: {\n        width: 20,\n        height: 20,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.2),\n        color: theme.palette.secondary.contrastText,\n        textAlign: \"center\",\n        borderRadius: \" 50%\",\n    },\n    stepNumberContainer: {\n        marginRight: 10,\n    },\n    stepFooter: {\n        marginTop: 32,\n    },\n    button: {\n        marginRight: theme.spacing(1),\n    },\n    viewButtonLabel: { textTransform: \"none\" },\n    \"@global\": {\n        code: {\n            color: \"rgba(0, 0, 0, 0.87)\",\n            display: \"inline-block\",\n            padding: \"2px 6px\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n            borderRadius: \"2px\",\n            backgroundColor: \"rgba(255,229,100,0.1)\",\n        },\n        pre: {\n            margin: \"24px 0\",\n            padding: \"12px 18px\",\n            overflow: \"auto\",\n            direction: \"ltr\",\n            borderRadius: \"4px\",\n            backgroundColor: \"#272c34\",\n            color: \"#fff\",\n            fontFamily:\n                ' Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n        },\n    },\n}));\n\nexport default function Completed(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"node\" });\n    const classes = useStyles();\n    const history = useHistory();\n\n    return (\n        <form className={classes.stepContent}>\n            <Typography>{t(\"nodeSaved\")}</Typography>\n            <Typography variant={\"body2\"} color={\"textSecondary\"}>\n                {t(\"nodeSavedFutureAction\")}\n            </Typography>\n\n            <div className={classes.stepFooter}>\n                <Button\n                    color={\"primary\"}\n                    className={classes.button}\n                    onClick={() => history.push(\"/admin/node\")}\n                >\n                    {t(\"backToNodeList\")}\n                </Button>\n            </div>\n        </form>\n    );\n}\n","import React, { useCallback, useMemo, useState } from \"react\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Step from \"@material-ui/core/Step\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useDispatch } from \"react-redux\";\nimport { randomStr } from \"../../../../utils\";\nimport Communication from \"./Communication\";\nimport Aria2RPC from \"./Aria2RPC\";\nimport API from \"../../../../middleware/Api\";\nimport Metainfo from \"./Metainfo\";\nimport Completed from \"./Completed\";\nimport { toggleSnackbar } from \"../../../../redux/explorer\";\nimport { useTranslation } from \"react-i18next\";\n\nconst steps = [\n    {\n        slaveOnly: true,\n        title: \"communication\",\n        optional: false,\n        component: function show(p) {\n            return <Communication {...p} />;\n        },\n    },\n    {\n        slaveOnly: false,\n        title: \"remoteDownload\",\n        optional: false,\n        component: function show(p) {\n            return <Aria2RPC {...p} />;\n        },\n    },\n    {\n        slaveOnly: false,\n        title: \"otherSettings\",\n        optional: false,\n        component: function show(p) {\n            return <Metainfo {...p} />;\n        },\n    },\n    {\n        slaveOnly: false,\n        title: \"finish\",\n        optional: false,\n        component: function show(p) {\n            return <Completed {...p} />;\n        },\n    },\n];\n\nexport default function NodeGuide(props) {\n    const { t } = useTranslation(\"dashboard\", { keyPrefix: \"node\" });\n    const { t: tDashboard } = useTranslation(\"dashboard\");\n    const [activeStep, setActiveStep] = useState(0);\n    const [skipped, setSkipped] = React.useState(new Set());\n    const [loading, setLoading] = useState(false);\n    const [node, setNode] = useState(\n        props.node\n            ? props.node\n            : {\n                  Status: 1,\n                  Type: 0,\n                  Aria2Enabled: \"false\",\n                  Server: \"https://example.com:5212\",\n                  SlaveKey: randomStr(64),\n                  MasterKey: randomStr(64),\n                  Rank: \"0\",\n                  Aria2OptionsSerialized: {\n                      token: randomStr(32),\n                      options: \"{}\",\n                      interval: \"10\",\n                      timeout: \"10\",\n                  },\n              }\n    );\n\n    const usedSteps = useMemo(() => {\n        return steps.filter((step) => !(step.slaveOnly && node.Type === 1));\n    }, [node.Type]);\n\n    const isStepSkipped = (step) => {\n        return skipped.has(step);\n    };\n\n    const handleTextChange = (name) => (event) => {\n        setNode({\n            ...node,\n            [name]: event.target.value,\n        });\n    };\n\n    const handleOptionChange = (name) => (event) => {\n        setNode({\n            ...node,\n            Aria2OptionsSerialized: {\n                ...node.Aria2OptionsSerialized,\n                [name]: event.target.value,\n            },\n        });\n    };\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    const nextStep = () => {\n        if (props.node || activeStep + 1 === steps.length - 1) {\n            setLoading(true);\n\n            const nodeCopy = { ...node };\n            nodeCopy.Aria2OptionsSerialized = {\n                ...node.Aria2OptionsSerialized,\n            };\n            nodeCopy.Rank = parseInt(nodeCopy.Rank);\n            nodeCopy.Aria2OptionsSerialized.interval = parseInt(\n                nodeCopy.Aria2OptionsSerialized.interval\n            );\n            nodeCopy.Aria2OptionsSerialized.timeout = parseInt(\n                nodeCopy.Aria2OptionsSerialized.timeout\n            );\n            nodeCopy.Aria2Enabled = nodeCopy.Aria2Enabled === \"true\";\n            API.post(\"/admin/node\", {\n                node: nodeCopy,\n            })\n                .then(() => {\n                    ToggleSnackbar(\n                        \"top\",\n                        \"right\",\n                        props.node ? t(\"nodeSavedNow\") : t(\"nodeAdded\"),\n                        \"success\"\n                    );\n                    setActiveStep(activeStep + 1);\n                    setLoading(false);\n                })\n                .catch((error) => {\n                    ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n                })\n                .then(() => {\n                    setLoading(false);\n                });\n        } else {\n            setActiveStep(activeStep + 1);\n        }\n    };\n\n    return (\n        <div>\n            <Typography variant={\"h6\"}>\n                {props.node ? t(\"editNode\") : t(\"addNode\")}\n            </Typography>\n            <Stepper activeStep={activeStep}>\n                {usedSteps.map((label, index) => {\n                    const stepProps = {};\n                    const labelProps = {};\n                    if (label.optional) {\n                        labelProps.optional = (\n                            <Typography variant=\"caption\">\n                                {tDashboard(\"policy.optional\")}\n                            </Typography>\n                        );\n                    }\n                    if (isStepSkipped(index)) {\n                        stepProps.completed = false;\n                    }\n                    if (!(label.slaveOnly && node.Type === 1)) {\n                        return (\n                            <Step key={label.title} {...stepProps}>\n                                <StepLabel {...labelProps}>\n                                    {t(label.title)}\n                                </StepLabel>\n                            </Step>\n                        );\n                    }\n                })}\n            </Stepper>\n\n            {usedSteps[activeStep].component({\n                onSubmit: (e) => nextStep(),\n                node: node,\n                loading: loading,\n                onBack: (e) => setActiveStep(activeStep - 1),\n                handleTextChange: handleTextChange,\n                activeStep: activeStep,\n                handleOptionChange: handleOptionChange,\n            })}\n        </div>\n    );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport NodeGuide from \"./Guide/NodeGuide\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function AddNode() {\n    const classes = useStyles();\n    return (\n        <div>\n            <Paper square className={classes.content}>\n                <NodeGuide />\n            </Paper>\n        </div>\n    );\n}\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport NodeGuide from \"./Guide/NodeGuide\";\nimport { useParams } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport API from \"../../../middleware/Api\";\nimport { toggleSnackbar } from \"../../../redux/explorer\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [theme.breakpoints.up(\"md\")]: {\n            marginLeft: 100,\n        },\n        marginBottom: 40,\n    },\n    content: {\n        padding: theme.spacing(2),\n    },\n}));\n\nexport default function EditNode() {\n    const classes = useStyles();\n    const { id } = useParams();\n    const [node, setNode] = useState(null);\n\n    const dispatch = useDispatch();\n    const ToggleSnackbar = useCallback(\n        (vertical, horizontal, msg, color) =>\n            dispatch(toggleSnackbar(vertical, horizontal, msg, color)),\n        [dispatch]\n    );\n\n    useEffect(() => {\n        API.get(\"/admin/node/\" + id)\n            .then((response) => {\n                response.data.Rank = response.data.Rank.toString();\n                response.data.Aria2OptionsSerialized.interval = response.data.Aria2OptionsSerialized.interval.toString();\n                response.data.Aria2OptionsSerialized.timeout = response.data.Aria2OptionsSerialized.timeout.toString();\n                response.data.Aria2Enabled = response.data.Aria2Enabled\n                    ? \"true\"\n                    : \"false\";\n                setNode(response.data);\n            })\n            .catch((error) => {\n                ToggleSnackbar(\"top\", \"right\", error.message, \"error\");\n            });\n    }, [id]);\n\n    return (\n        <div>\n            <Paper square className={classes.content}>\n                {node && <NodeGuide node={node} />}\n            </Paper>\n        </div>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { CssBaseline, makeStyles } from \"@material-ui/core\";\nimport AlertBar from \"./component/Common/Snackbar\";\nimport Dashboard from \"./component/Admin/Dashboard\";\nimport { useHistory } from \"react-router\";\nimport Auth from \"./middleware/Auth\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport createTheme from \"@material-ui/core/styles/createMuiTheme\";\nimport { zhCN } from \"@material-ui/core/locale\";\n\nimport Index from \"./component/Admin/Index\";\nimport SiteInformation from \"./component/Admin/Setting/SiteInformation\";\nimport Access from \"./component/Admin/Setting/Access\";\nimport Mail from \"./component/Admin/Setting/Mail\";\nimport UploadDownload from \"./component/Admin/Setting/UploadDownload\";\nimport Theme from \"./component/Admin/Setting/Theme\";\nimport ImageSetting from \"./component/Admin/Setting/Image\";\nimport Policy from \"./component/Admin/Policy/Policy\";\nimport AddPolicy from \"./component/Admin/Policy/AddPolicy\";\nimport EditPolicyPreload from \"./component/Admin/Policy/EditPolicy\";\nimport Group from \"./component/Admin/Group/Group\";\nimport GroupForm from \"./component/Admin/Group/GroupForm\";\nimport EditGroupPreload from \"./component/Admin/Group/EditGroup\";\nimport User from \"./component/Admin/User/User\";\nimport UserForm from \"./component/Admin/User/UserForm\";\nimport EditUserPreload from \"./component/Admin/User/EditUser\";\nimport File from \"./component/Admin/File/File\";\nimport Share from \"./component/Admin/Share/Share\";\nimport Download from \"./component/Admin/Task/Download\";\nimport Task from \"./component/Admin/Task/Task\";\nimport Import from \"./component/Admin/File/Import\";\nimport Captcha from \"./component/Admin/Setting/Captcha\";\nimport Node from \"./component/Admin/Node/Node\";\nimport AddNode from \"./component/Admin/Node/AddNode\";\nimport EditNode from \"./component/Admin/Node/EditNode\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n    },\n    content: {\n        flexGrow: 1,\n        padding: 0,\n        minWidth: 0,\n    },\n    toolbar: theme.mixins.toolbar,\n}));\n\nconst theme = createTheme(\n    {\n        palette: {\n            background: {},\n        },\n        shape:{\n            borderRadius:12,\n        },\n        overrides: {\n            MuiButton: {\n                root: {\n                    textTransform: \"none\",\n                },\n            },\n            MuiTab: {\n                root: {\n                    textTransform: \"none\",\n                },\n            },\n        },\n    },\n    zhCN\n);\n\nexport default function Admin() {\n    const classes = useStyles();\n    const history = useHistory();\n    const [show, setShow] = useState(false);\n\n    useEffect(() => {\n        const user = Auth.GetUser();\n        if (user && user.group) {\n            if (user.group.id !== 1) {\n                history.push(\"/home\");\n                return;\n            }\n            setShow(true);\n            return;\n        }\n        history.push(\"/login\");\n        // eslint-disable-next-line\n    }, []);\n\n    return (\n        <React.Fragment>\n            <ThemeProvider theme={theme}>\n                <div className={classes.root}>\n                    <CssBaseline />\n                    <AlertBar />\n                    {show && (\n                        <Dashboard\n                            content={(path) => (\n                                <Switch>\n                                    <Route path={`${path}/home`} exact>\n                                        <Index />\n                                    </Route>\n\n                                    <Route path={`${path}/basic`}>\n                                        <SiteInformation />\n                                    </Route>\n\n                                    <Route path={`${path}/access`}>\n                                        <Access />\n                                    </Route>\n\n                                    <Route path={`${path}/mail`}>\n                                        <Mail />\n                                    </Route>\n\n                                    <Route path={`${path}/upload`}>\n                                        <UploadDownload />\n                                    </Route>\n\n                                    <Route path={`${path}/theme`}>\n                                        <Theme />\n                                    </Route>\n\n                                    <Route path={`${path}/image`}>\n                                        <ImageSetting />\n                                    </Route>\n\n                                    <Route path={`${path}/captcha`}>\n                                        <Captcha />\n                                    </Route>\n\n                                    <Route path={`${path}/policy`} exact>\n                                        <Policy />\n                                    </Route>\n\n                                    <Route\n                                        path={`${path}/policy/add/:type`}\n                                        exact\n                                    >\n                                        <AddPolicy />\n                                    </Route>\n\n                                    <Route\n                                        path={`${path}/policy/edit/:mode/:id`}\n                                        exact\n                                    >\n                                        <EditPolicyPreload />\n                                    </Route>\n\n                                    <Route path={`${path}/group`} exact>\n                                        <Group />\n                                    </Route>\n\n                                    <Route path={`${path}/group/add`} exact>\n                                        <GroupForm />\n                                    </Route>\n\n                                    <Route\n                                        path={`${path}/group/edit/:id`}\n                                        exact\n                                    >\n                                        <EditGroupPreload />\n                                    </Route>\n\n                                    <Route path={`${path}/user`} exact>\n                                        <User />\n                                    </Route>\n\n                                    <Route path={`${path}/user/add`} exact>\n                                        <UserForm />\n                                    </Route>\n\n                                    <Route path={`${path}/user/edit/:id`} exact>\n                                        <EditUserPreload />\n                                    </Route>\n\n                                    <Route path={`${path}/file`} exact>\n                                        <File />\n                                    </Route>\n\n                                    <Route path={`${path}/file/import`} exact>\n                                        <Import />\n                                    </Route>\n\n                                    <Route path={`${path}/share`} exact>\n                                        <Share />\n                                    </Route>\n\n                                    <Route path={`${path}/download`} exact>\n                                        <Download />\n                                    </Route>\n\n                                    <Route path={`${path}/task`} exact>\n                                        <Task />\n                                    </Route>\n\n                                    <Route path={`${path}/node`} exact>\n                                        <Node />\n                                    </Route>\n\n                                    <Route path={`${path}/node/add`} exact>\n                                        <AddNode />\n                                    </Route>\n\n                                    <Route path={`${path}/node/edit/:id`} exact>\n                                        <EditNode />\n                                    </Route>\n                                </Switch>\n                            )}\n                        />\n                    )}\n                </div>\n            </ThemeProvider>\n        </React.Fragment>\n    );\n}\n"],"sourceRoot":""}