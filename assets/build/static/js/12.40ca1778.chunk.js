(this["webpackJsonpcloudreve-frontend"]=this["webpackJsonpcloudreve-frontend"]||[]).push([[12],{7068:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var n=t(6),o=t(10),c=t(9),l=t(0),r=t.n(l),i=t(95),s=t(45),m=t(472),p=t(473),d=t(476),u=t(255),g=t(474),b=t(464),f=t(91),h=t(5),O=t(12),j=t(7031),y=t(7150),E=t(7135),v=t(7040),C=t(30),N=t(2),x=t(111),S=Object(i.a)((function(e){return{contentFix:{padding:"10px 24px 0px 24px"},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{color:e.palette.secondary.light,position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},content:{padding:0,marginTop:0},marginTop:{marginTop:e.spacing(2),display:"block"},textField:{marginTop:e.spacing(1)},scroll:{overflowX:"auto"},dialogContent:{marginTop:e.spacing(2)},pathSelect:{marginTop:e.spacing(2),display:"flex"}}}));C.e,C.f,C.q,C.r,C.s,C.t,C.u,C.v,C.I,C.J,C.L,C.M,C.O;function k(e){var a,t=Object(s.a)(),i=Object(x.a)().t,C=r.a.useState(0),k=Object(c.a)(C,2),T=k[0],w=k[1],F=r.a.useState(!1),D=Object(c.a)(F,2),J=D[0],P=D[1],W=r.a.useState("Circle"),L=Object(c.a)(W,2),q=L[0],z=(L[1],r.a.useState(t.palette.text.secondary)),H=Object(c.a)(z,2),I=H[0],M=(H[1],r.a.useState({filename:"",tagName:"",directoryName:"",path:"/"})),X=Object(c.a)(M,2),A=X[0],B=X[1],G=r.a.useState(!1),K=Object(c.a)(G,2),Q=K[0],R=K[1],U=Object(l.useState)(""),V=Object(c.a)(U,2),Y=V[0],Z=V[1],$=Object(l.useState)(""),_=Object(c.a)($,2),ee=(_[0],_[1]),ae=Object(h.d)(),te=Object(l.useCallback)((function(e,a,t,n){return ae(Object(N.S)(e,a,t,n))}),[ae]),ne=S();return r.a.createElement(m.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(m.a,{open:Q,onClose:function(){return R(!1)},"aria-labelledby":"form-dialog-title"},r.a.createElement(p.a,{id:"form-dialog-title"},i("navbar.addTagDialog.selectFolder")),r.a.createElement(f.a,{presentPath:"/",selected:[],onSelect:function(e){var a="/"===e.path?e.path+e.name:e.path+"/"+e.name;Z(a),ee(e.name)}}),r.a.createElement(d.a,null,r.a.createElement(u.a,{onClick:function(){return R(!1)}},i("common:cancel")),r.a.createElement(u.a,{onClick:function(){B(Object(o.a)(Object(o.a)({},A),{},{path:"//"===Y?"/":Y})),R(!1)},color:"primary",disabled:""===Y},i("common:ok")))),r.a.createElement(j.a,{position:"static"},r.a.createElement(y.a,{value:T,onChange:function(e,a){w(a)},variant:"fullWidth","aria-label":"full width tabs example"},r.a.createElement(E.a,{label:i("navbar.addTagDialog.directory.createDirectory")}))),0===T&&r.a.createElement(g.a,{className:ne.dialogContent},r.a.createElement(v.a,{label:i("navbar.addTagDialog.directory.directoryName"),id:"filled-name",value:A.directoryName,onChange:(a="directoryName",function(e){B(Object(o.a)(Object(o.a)({},A),{},Object(n.a)({},a,e.target.value)))}),fullWidth:!0,className:ne.textField})),r.a.createElement(d.a,null,r.a.createElement(u.a,{onClick:e.onClose},i("common:cancel")),r.a.createElement("div",{className:ne.wrapper},r.a.createElement(u.a,{onClick:function(){0===T?(P(!0),O.c.post("/tag/filter",{expression:A.filename,name:A.tagName,color:I,icon:q}).then((function(a){P(!1),e.onClose(),e.onSuccess({type:0,name:A.tagName,color:I,icon:q,id:a.data})})).catch((function(e){te("top","right",e.message,"error")})).then((function(){P(!1)}))):(P(!0),O.c.post("/tag/link",{path:A.path,name:A.tagName}).then((function(a){P(!1),e.onClose(),e.onSuccess({type:1,name:A.tagName,expression:A.path,color:t.palette.text.secondary,icon:"FolderHeartOutline",id:a.data})})).catch((function(e){te("top","right",e.message,"error")})).then((function(){P(!1)})))},color:"primary",disabled:J||0===T&&(""===A.filename||""===A.tagName)||1===T&&(""===A.tagName||""===A.path)},i("common:ok"),J&&r.a.createElement(b.a,{size:24,className:ne.buttonProgress})))))}}}]);
//# sourceMappingURL=12.40ca1778.chunk.js.map